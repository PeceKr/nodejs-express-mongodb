{
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _helmet = _interopRequireDefault(require(\"helmet\"));\n\nrequire(\"./common/env\");\n\nvar _server = _interopRequireDefault(require(\"./common/server\"));\n\nvar _routes = _interopRequireDefault(require(\"./routes\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = new _server.default(new _express.default().use((0, _helmet.default)())).router(_routes.default).listen(process.env.PORT);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlNlcnZlciIsIkV4cHJlc3MiLCJ1c2UiLCJyb3V0ZXIiLCJyb3V0ZXMiLCJsaXN0ZW4iLCJwcm9jZXNzIiwiZW52IiwiUE9SVCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O2VBRWUsSUFBSUEsZUFBSixDQUFXLElBQUlDLGdCQUFKLEdBQWNDLEdBQWQsQ0FBa0Isc0JBQWxCLENBQVgsRUFDWkMsTUFEWSxDQUNMQyxlQURLLEVBRVpDLE1BRlksQ0FFTEMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBRlAsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGhlbG1ldCBmcm9tIFwiaGVsbWV0XCI7XG5pbXBvcnQgXCIuL2NvbW1vbi9lbnZcIjtcbmltcG9ydCBTZXJ2ZXIgZnJvbSBcIi4vY29tbW9uL3NlcnZlclwiO1xuaW1wb3J0IHJvdXRlcyBmcm9tIFwiLi9yb3V0ZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgbmV3IFNlcnZlcihuZXcgRXhwcmVzcygpLnVzZShoZWxtZXQoKSkpXG4gIC5yb3V0ZXIocm91dGVzKVxuICAubGlzdGVuKHByb2Nlc3MuZW52LlBPUlQpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "Server",
        "Express",
        "use",
        "router",
        "routes",
        "listen",
        "process",
        "env",
        "PORT"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;eAEe,IAAIA,eAAJ,CAAW,IAAIC,gBAAJ,GAAcC,GAAd,CAAkB,sBAAlB,CAAX,EACZC,MADY,CACLC,eADK,EAEZC,MAFY,CAELC,OAAO,CAACC,GAAR,CAAYC,IAFP,C",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server",
      "sourcesContent": [
        "import Express from \"express\";\nimport helmet from \"helmet\";\nimport \"./common/env\";\nimport Server from \"./common/server\";\nimport routes from \"./routes\";\n\nexport default new Server(new Express().use(helmet()))\n  .router(routes)\n  .listen(process.env.PORT);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564235068380
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/common\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/common/env.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/common/env.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/common/env.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/common/env.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
        "sourceFileName": "env.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudi5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFFQUEsZ0JBQU9DLE1BQVAiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL2NvbW1vbiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcblxuZG90ZW52LmNvbmZpZygpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "env.js"
      ],
      "names": [
        "dotenv",
        "config"
      ],
      "mappings": ";;AAAA;;;;AAEAA,gBAAOC,MAAP",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "sourcesContent": [
        "import dotenv from 'dotenv';\n\ndotenv.config();"
      ]
    },
    "sourceType": "script",
    "mtime": 1564233653357
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/common\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/common/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/common/server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/common/server.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/common/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar path = _interopRequireWildcard(require(\"path\"));\n\nvar bodyParser = _interopRequireWildcard(require(\"body-parser\"));\n\nvar http = _interopRequireWildcard(require(\"http\"));\n\nvar os = _interopRequireWildcard(require(\"os\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass ExpressServer {\n  constructor(app) {\n    const root = path.normalize(`${__dirname}/../..`);\n    this.app = app;\n    this.app.set(\"appPath\", `${root}client`);\n    this.app.use(bodyParser.json());\n    this.app.use(bodyParser.urlencoded({\n      extended: true\n    }));\n    this.app.use(_express.default.static(`${root}/public`));\n    this.initDatabase();\n  }\n\n  router(routes) {\n    routes(this.app);\n    return this;\n  }\n\n  listen(port = process.env.PORT) {\n    console.log(`up and running in ${process.env.NODE_ENV || \"development\"} @: ${os.hostname()} on port: ${port}}`);\n    http.createServer(this.app).listen(port);\n    return this.app;\n  }\n\n  initDatabase() {\n    _mongoose.default.connect(\"mongodb://localhost/ShoeStoreDB\", {\n      useCreateIndex: true,\n      useNewUrlParser: true\n    }).then(console.log(\"Connected to mongodb ...\")).catch(err => console.error(\"Could not connect to mongo db\", err));\n  }\n\n}\n\nexports.default = ExpressServer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJFeHByZXNzU2VydmVyIiwiY29uc3RydWN0b3IiLCJhcHAiLCJyb290IiwicGF0aCIsIm5vcm1hbGl6ZSIsIl9fZGlybmFtZSIsInNldCIsInVzZSIsImJvZHlQYXJzZXIiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiRXhwcmVzcyIsInN0YXRpYyIsImluaXREYXRhYmFzZSIsInJvdXRlciIsInJvdXRlcyIsImxpc3RlbiIsInBvcnQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImNvbnNvbGUiLCJsb2ciLCJOT0RFX0VOViIsIm9zIiwiaG9zdG5hbWUiLCJodHRwIiwiY3JlYXRlU2VydmVyIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlQ3JlYXRlSW5kZXgiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ0aGVuIiwiY2F0Y2giLCJlcnIiLCJlcnJvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7QUFFZSxNQUFNQSxhQUFOLENBQW9CO0FBQ2pDQyxFQUFBQSxXQUFXLENBQUNDLEdBQUQsRUFBTTtBQUNmLFVBQU1DLElBQUksR0FBR0MsSUFBSSxDQUFDQyxTQUFMLENBQWdCLEdBQUVDLFNBQVUsUUFBNUIsQ0FBYjtBQUNBLFNBQUtKLEdBQUwsR0FBV0EsR0FBWDtBQUNBLFNBQUtBLEdBQUwsQ0FBU0ssR0FBVCxDQUFhLFNBQWIsRUFBeUIsR0FBRUosSUFBSyxRQUFoQztBQUNBLFNBQUtELEdBQUwsQ0FBU00sR0FBVCxDQUFhQyxVQUFVLENBQUNDLElBQVgsRUFBYjtBQUNBLFNBQUtSLEdBQUwsQ0FBU00sR0FBVCxDQUFhQyxVQUFVLENBQUNFLFVBQVgsQ0FBc0I7QUFBRUMsTUFBQUEsUUFBUSxFQUFFO0FBQVosS0FBdEIsQ0FBYjtBQUNBLFNBQUtWLEdBQUwsQ0FBU00sR0FBVCxDQUFhSyxpQkFBUUMsTUFBUixDQUFnQixHQUFFWCxJQUFLLFNBQXZCLENBQWI7QUFDQSxTQUFLWSxZQUFMO0FBQ0Q7O0FBRURDLEVBQUFBLE1BQU0sQ0FBQ0MsTUFBRCxFQUFTO0FBQ2JBLElBQUFBLE1BQU0sQ0FBQyxLQUFLZixHQUFOLENBQU47QUFDQSxXQUFPLElBQVA7QUFDRDs7QUFFRGdCLEVBQUFBLE1BQU0sQ0FBQ0MsSUFBSSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsSUFBcEIsRUFBMEI7QUFDOUJDLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUNHLHFCQUFvQkosT0FBTyxDQUFDQyxHQUFSLENBQVlJLFFBQVosSUFDbkIsYUFBYyxPQUFNQyxFQUFFLENBQUNDLFFBQUgsRUFBYyxhQUFZUixJQUFLLEdBRnZEO0FBSUFTLElBQUFBLElBQUksQ0FBQ0MsWUFBTCxDQUFrQixLQUFLM0IsR0FBdkIsRUFBNEJnQixNQUE1QixDQUFtQ0MsSUFBbkM7QUFDQSxXQUFPLEtBQUtqQixHQUFaO0FBQ0Q7O0FBRURhLEVBQUFBLFlBQVksR0FBRztBQUNiZSxzQkFDR0MsT0FESCxDQUNXLGlDQURYLEVBQzhDO0FBQzFDQyxNQUFBQSxjQUFjLEVBQUUsSUFEMEI7QUFFMUNDLE1BQUFBLGVBQWUsRUFBRTtBQUZ5QixLQUQ5QyxFQUtHQyxJQUxILENBS1FYLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDBCQUFaLENBTFIsRUFNR1csS0FOSCxDQU1TQyxHQUFHLElBQUliLE9BQU8sQ0FBQ2MsS0FBUixDQUFjLCtCQUFkLEVBQStDRCxHQUEvQyxDQU5oQjtBQU9EOztBQWpDZ0MiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL2NvbW1vbiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFeHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgKiBhcyBib2R5UGFyc2VyIGZyb20gXCJib2R5LXBhcnNlclwiO1xuaW1wb3J0ICogYXMgaHR0cCBmcm9tIFwiaHR0cFwiO1xuaW1wb3J0ICogYXMgb3MgZnJvbSBcIm9zXCI7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4cHJlc3NTZXJ2ZXIge1xuICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICBjb25zdCByb290ID0gcGF0aC5ub3JtYWxpemUoYCR7X19kaXJuYW1lfS8uLi8uLmApO1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIHRoaXMuYXBwLnNldChcImFwcFBhdGhcIiwgYCR7cm9vdH1jbGllbnRgKTtcbiAgICB0aGlzLmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuICAgIHRoaXMuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG4gICAgdGhpcy5hcHAudXNlKEV4cHJlc3Muc3RhdGljKGAke3Jvb3R9L3B1YmxpY2ApKTtcbiAgICB0aGlzLmluaXREYXRhYmFzZSgpO1xuICB9XG5cbiAgcm91dGVyKHJvdXRlcykge1xuICAgIHJvdXRlcyh0aGlzLmFwcCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW4ocG9ydCA9IHByb2Nlc3MuZW52LlBPUlQpIHtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGB1cCBhbmQgcnVubmluZyBpbiAke3Byb2Nlc3MuZW52Lk5PREVfRU5WIHx8XG4gICAgICAgIFwiZGV2ZWxvcG1lbnRcIn0gQDogJHtvcy5ob3N0bmFtZSgpfSBvbiBwb3J0OiAke3BvcnR9fWBcbiAgICApO1xuICAgIGh0dHAuY3JlYXRlU2VydmVyKHRoaXMuYXBwKS5saXN0ZW4ocG9ydCk7XG4gICAgcmV0dXJuIHRoaXMuYXBwO1xuICB9XG5cbiAgaW5pdERhdGFiYXNlKCkge1xuICAgIG1vbmdvb3NlXG4gICAgICAuY29ubmVjdChcIm1vbmdvZGI6Ly9sb2NhbGhvc3QvU2hvZVN0b3JlREJcIiwge1xuICAgICAgICB1c2VDcmVhdGVJbmRleDogdHJ1ZSxcbiAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlXG4gICAgICB9KVxuICAgICAgLnRoZW4oY29uc29sZS5sb2coXCJDb25uZWN0ZWQgdG8gbW9uZ29kYiAuLi5cIikpXG4gICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoXCJDb3VsZCBub3QgY29ubmVjdCB0byBtb25nbyBkYlwiLCBlcnIpKTtcbiAgfVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "ExpressServer",
        "constructor",
        "app",
        "root",
        "path",
        "normalize",
        "__dirname",
        "set",
        "use",
        "bodyParser",
        "json",
        "urlencoded",
        "extended",
        "Express",
        "static",
        "initDatabase",
        "router",
        "routes",
        "listen",
        "port",
        "process",
        "env",
        "PORT",
        "console",
        "log",
        "NODE_ENV",
        "os",
        "hostname",
        "http",
        "createServer",
        "mongoose",
        "connect",
        "useCreateIndex",
        "useNewUrlParser",
        "then",
        "catch",
        "err",
        "error"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEe,MAAMA,aAAN,CAAoB;AACjCC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACf,UAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAgB,GAAEC,SAAU,QAA5B,CAAb;AACA,SAAKJ,GAAL,GAAWA,GAAX;AACA,SAAKA,GAAL,CAASK,GAAT,CAAa,SAAb,EAAyB,GAAEJ,IAAK,QAAhC;AACA,SAAKD,GAAL,CAASM,GAAT,CAAaC,UAAU,CAACC,IAAX,EAAb;AACA,SAAKR,GAAL,CAASM,GAAT,CAAaC,UAAU,CAACE,UAAX,CAAsB;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAtB,CAAb;AACA,SAAKV,GAAL,CAASM,GAAT,CAAaK,iBAAQC,MAAR,CAAgB,GAAEX,IAAK,SAAvB,CAAb;AACA,SAAKY,YAAL;AACD;;AAEDC,EAAAA,MAAM,CAACC,MAAD,EAAS;AACbA,IAAAA,MAAM,CAAC,KAAKf,GAAN,CAAN;AACA,WAAO,IAAP;AACD;;AAEDgB,EAAAA,MAAM,CAACC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAApB,EAA0B;AAC9BC,IAAAA,OAAO,CAACC,GAAR,CACG,qBAAoBJ,OAAO,CAACC,GAAR,CAAYI,QAAZ,IACnB,aAAc,OAAMC,EAAE,CAACC,QAAH,EAAc,aAAYR,IAAK,GAFvD;AAIAS,IAAAA,IAAI,CAACC,YAAL,CAAkB,KAAK3B,GAAvB,EAA4BgB,MAA5B,CAAmCC,IAAnC;AACA,WAAO,KAAKjB,GAAZ;AACD;;AAEDa,EAAAA,YAAY,GAAG;AACbe,sBACGC,OADH,CACW,iCADX,EAC8C;AAC1CC,MAAAA,cAAc,EAAE,IAD0B;AAE1CC,MAAAA,eAAe,EAAE;AAFyB,KAD9C,EAKGC,IALH,CAKQX,OAAO,CAACC,GAAR,CAAY,0BAAZ,CALR,EAMGW,KANH,CAMSC,GAAG,IAAIb,OAAO,CAACc,KAAR,CAAc,+BAAd,EAA+CD,GAA/C,CANhB;AAOD;;AAjCgC",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "sourcesContent": [
        "import Express from \"express\";\nimport * as path from \"path\";\nimport * as bodyParser from \"body-parser\";\nimport * as http from \"http\";\nimport * as os from \"os\";\nimport mongoose from \"mongoose\";\n\nexport default class ExpressServer {\n  constructor(app) {\n    const root = path.normalize(`${__dirname}/../..`);\n    this.app = app;\n    this.app.set(\"appPath\", `${root}client`);\n    this.app.use(bodyParser.json());\n    this.app.use(bodyParser.urlencoded({ extended: true }));\n    this.app.use(Express.static(`${root}/public`));\n    this.initDatabase();\n  }\n\n  router(routes) {\n    routes(this.app);\n    return this;\n  }\n\n  listen(port = process.env.PORT) {\n    console.log(\n      `up and running in ${process.env.NODE_ENV ||\n        \"development\"} @: ${os.hostname()} on port: ${port}}`\n    );\n    http.createServer(this.app).listen(port);\n    return this.app;\n  }\n\n  initDatabase() {\n    mongoose\n      .connect(\"mongodb://localhost/ShoeStoreDB\", {\n        useCreateIndex: true,\n        useNewUrlParser: true\n      })\n      .then(console.log(\"Connected to mongodb ...\"))\n      .catch(err => console.error(\"Could not connect to mongo db\", err));\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564300655451
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/routes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/routes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/routes.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server",
        "sourceFileName": "routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = routes;\n\nvar _appRouter = _interopRequireDefault(require(\"./routers/appRouter\"));\n\nvar _userRouter = _interopRequireDefault(require(\"./routers/userRouter\"));\n\nvar _brandsRouter = _interopRequireDefault(require(\"./routers/brandsRouter\"));\n\nvar _shoesRouter = _interopRequireDefault(require(\"./routers/shoesRouter\"));\n\nvar _ordersRouter = _interopRequireDefault(require(\"./routers/ordersRouter\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction routes(app) {\n  app.use('/api/v1/app', _appRouter.default);\n  app.use('/api/v1/users', _userRouter.default);\n  app.use('/api/v1/brands', _brandsRouter.default);\n  app.use('/api/v1/shoes', _shoesRouter.default);\n  app.use('/api/v1/orders', _ordersRouter.default);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyJdLCJuYW1lcyI6WyJyb3V0ZXMiLCJhcHAiLCJ1c2UiLCJhcHBSb3V0ZXIiLCJ1c2VyUm91dGVyIiwiYnJhbmRzUm91dGVyIiwic2hvZXNSb3V0ZXIiLCJvcmRlcnNSb3V0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUNlLFNBQVNBLE1BQVQsQ0FBaUJDLEdBQWpCLEVBQXNCO0FBQ2pDQSxFQUFBQSxHQUFHLENBQUNDLEdBQUosQ0FBUSxhQUFSLEVBQXNCQyxrQkFBdEI7QUFDQUYsRUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsZUFBUixFQUF3QkUsbUJBQXhCO0FBQ0FILEVBQUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGdCQUFSLEVBQXlCRyxxQkFBekI7QUFDQUosRUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsZUFBUixFQUF5Qkksb0JBQXpCO0FBQ0FMLEVBQUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGdCQUFSLEVBQXlCSyxxQkFBekI7QUFDSCIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXBwUm91dGVyIGZyb20gJy4vcm91dGVycy9hcHBSb3V0ZXInO1xuaW1wb3J0IHVzZXJSb3V0ZXIgZnJvbSAnLi9yb3V0ZXJzL3VzZXJSb3V0ZXInO1xuaW1wb3J0IGJyYW5kc1JvdXRlciBmcm9tICcuL3JvdXRlcnMvYnJhbmRzUm91dGVyJztcbmltcG9ydCBzaG9lc1JvdXRlciBmcm9tICcuL3JvdXRlcnMvc2hvZXNSb3V0ZXInO1xuaW1wb3J0IG9yZGVyc1JvdXRlciBmcm9tICcuL3JvdXRlcnMvb3JkZXJzUm91dGVyJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJvdXRlcyAoYXBwKSB7XG4gICAgYXBwLnVzZSgnL2FwaS92MS9hcHAnLGFwcFJvdXRlcik7XG4gICAgYXBwLnVzZSgnL2FwaS92MS91c2VycycsdXNlclJvdXRlcik7XG4gICAgYXBwLnVzZSgnL2FwaS92MS9icmFuZHMnLGJyYW5kc1JvdXRlcik7XG4gICAgYXBwLnVzZSgnL2FwaS92MS9zaG9lcycsIHNob2VzUm91dGVyKTtcbiAgICBhcHAudXNlKCcvYXBpL3YxL29yZGVycycsb3JkZXJzUm91dGVyKTtcbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "routes.js"
      ],
      "names": [
        "routes",
        "app",
        "use",
        "appRouter",
        "userRouter",
        "brandsRouter",
        "shoesRouter",
        "ordersRouter"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AACe,SAASA,MAAT,CAAiBC,GAAjB,EAAsB;AACjCA,EAAAA,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAsBC,kBAAtB;AACAF,EAAAA,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAwBE,mBAAxB;AACAH,EAAAA,GAAG,CAACC,GAAJ,CAAQ,gBAAR,EAAyBG,qBAAzB;AACAJ,EAAAA,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAyBI,oBAAzB;AACAL,EAAAA,GAAG,CAACC,GAAJ,CAAQ,gBAAR,EAAyBK,qBAAzB;AACH",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server",
      "sourcesContent": [
        "import appRouter from './routers/appRouter';\nimport userRouter from './routers/userRouter';\nimport brandsRouter from './routers/brandsRouter';\nimport shoesRouter from './routers/shoesRouter';\nimport ordersRouter from './routers/ordersRouter';\nexport default function routes (app) {\n    app.use('/api/v1/app',appRouter);\n    app.use('/api/v1/users',userRouter);\n    app.use('/api/v1/brands',brandsRouter);\n    app.use('/api/v1/shoes', shoesRouter);\n    app.use('/api/v1/orders',ordersRouter);\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1564814413857
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/common\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/common/env.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/common/env.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/common/env.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/common/env.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
        "sourceFileName": "env.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudi5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFFQUEsZ0JBQU9DLE1BQVAiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL2NvbW1vbiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcblxuZG90ZW52LmNvbmZpZygpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "env.js"
      ],
      "names": [
        "dotenv",
        "config"
      ],
      "mappings": ";;AAAA;;;;AAEAA,gBAAOC,MAAP",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "sourcesContent": [
        "import dotenv from 'dotenv';\n\ndotenv.config();"
      ]
    },
    "sourceType": "script",
    "mtime": 1564233653357
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/common\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/common/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/common/server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/common/server.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/common/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar path = _interopRequireWildcard(require(\"path\"));\n\nvar bodyParser = _interopRequireWildcard(require(\"body-parser\"));\n\nvar http = _interopRequireWildcard(require(\"http\"));\n\nvar os = _interopRequireWildcard(require(\"os\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _errors = _interopRequireDefault(require(\"../middleware/errors\"));\n\nvar _config = _interopRequireDefault(require(\"config\"));\n\nvar _winston = _interopRequireDefault(require(\"winston\"));\n\nrequire(\"winston-mongodb\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass ExpressServer {\n  constructor(app) {\n    const root = path.normalize(`${__dirname}/../..`);\n    this.app = app;\n    this.app.set(\"appPath\", `${root}client`);\n    this.app.use(bodyParser.json());\n    this.app.use(bodyParser.urlencoded({\n      extended: true\n    }));\n    this.app.use(_express.default.static(`${root}/public`));\n    this.initDatabase();\n\n    _winston.default.add(new _winston.default.transports.File({\n      filename: 'logfile.log'\n    }));\n\n    _winston.default.add(new _winston.default.transports.MongoDB({\n      db: _config.default.get('MongoDB.url')\n    }));\n  }\n\n  router(routes) {\n    routes(this.app);\n    this.app.use(_errors.default);\n    return this;\n  }\n\n  listen(port = process.env.PORT) {\n    console.log(`up and running in ${process.env.NODE_ENV || \"development\"} @: ${os.hostname()} on port: ${port}}`);\n    http.createServer(this.app).listen(port);\n    return this.app;\n  }\n\n  initDatabase() {\n    _mongoose.default.connect(_config.default.get(\"MongoDB.url\"), {\n      useCreateIndex: true,\n      useNewUrlParser: true\n    }).then(console.log(\"Connected to mongodb ...\")).catch(err => console.error(\"Could not connect to mongo db\", err));\n\n    _mongoose.default.set(\"useFindAndModify\", false);\n  }\n\n}\n\nexports.default = ExpressServer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJFeHByZXNzU2VydmVyIiwiY29uc3RydWN0b3IiLCJhcHAiLCJyb290IiwicGF0aCIsIm5vcm1hbGl6ZSIsIl9fZGlybmFtZSIsInNldCIsInVzZSIsImJvZHlQYXJzZXIiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiRXhwcmVzcyIsInN0YXRpYyIsImluaXREYXRhYmFzZSIsIndpbnN0b24iLCJhZGQiLCJ0cmFuc3BvcnRzIiwiRmlsZSIsImZpbGVuYW1lIiwiTW9uZ29EQiIsImRiIiwiY29uZmlnIiwiZ2V0Iiwicm91dGVyIiwicm91dGVzIiwiZXJyb3IiLCJsaXN0ZW4iLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJjb25zb2xlIiwibG9nIiwiTk9ERV9FTlYiLCJvcyIsImhvc3RuYW1lIiwiaHR0cCIsImNyZWF0ZVNlcnZlciIsIm1vbmdvb3NlIiwiY29ubmVjdCIsInVzZUNyZWF0ZUluZGV4IiwidXNlTmV3VXJsUGFyc2VyIiwidGhlbiIsImNhdGNoIiwiZXJyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVlLE1BQU1BLGFBQU4sQ0FBb0I7QUFDakNDLEVBQUFBLFdBQVcsQ0FBQ0MsR0FBRCxFQUFNO0FBQ2YsVUFBTUMsSUFBSSxHQUFHQyxJQUFJLENBQUNDLFNBQUwsQ0FBZ0IsR0FBRUMsU0FBVSxRQUE1QixDQUFiO0FBQ0EsU0FBS0osR0FBTCxHQUFXQSxHQUFYO0FBQ0EsU0FBS0EsR0FBTCxDQUFTSyxHQUFULENBQWEsU0FBYixFQUF5QixHQUFFSixJQUFLLFFBQWhDO0FBQ0EsU0FBS0QsR0FBTCxDQUFTTSxHQUFULENBQWFDLFVBQVUsQ0FBQ0MsSUFBWCxFQUFiO0FBQ0EsU0FBS1IsR0FBTCxDQUFTTSxHQUFULENBQWFDLFVBQVUsQ0FBQ0UsVUFBWCxDQUFzQjtBQUFFQyxNQUFBQSxRQUFRLEVBQUU7QUFBWixLQUF0QixDQUFiO0FBQ0EsU0FBS1YsR0FBTCxDQUFTTSxHQUFULENBQWFLLGlCQUFRQyxNQUFSLENBQWdCLEdBQUVYLElBQUssU0FBdkIsQ0FBYjtBQUNBLFNBQUtZLFlBQUw7O0FBQ0FDLHFCQUFRQyxHQUFSLENBQVksSUFBSUQsaUJBQVFFLFVBQVIsQ0FBbUJDLElBQXZCLENBQTRCO0FBQUVDLE1BQUFBLFFBQVEsRUFBRTtBQUFaLEtBQTVCLENBQVo7O0FBQ0FKLHFCQUFRQyxHQUFSLENBQVksSUFBSUQsaUJBQVFFLFVBQVIsQ0FBbUJHLE9BQXZCLENBQStCO0FBQUNDLE1BQUFBLEVBQUUsRUFBQ0MsZ0JBQU9DLEdBQVAsQ0FBVyxhQUFYO0FBQUosS0FBL0IsQ0FBWjtBQUNEOztBQUVEQyxFQUFBQSxNQUFNLENBQUNDLE1BQUQsRUFBUztBQUNiQSxJQUFBQSxNQUFNLENBQUMsS0FBS3hCLEdBQU4sQ0FBTjtBQUNBLFNBQUtBLEdBQUwsQ0FBU00sR0FBVCxDQUFhbUIsZUFBYjtBQUNBLFdBQU8sSUFBUDtBQUNEOztBQUVEQyxFQUFBQSxNQUFNLENBQUNDLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQXBCLEVBQTBCO0FBQzlCQyxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FDRyxxQkFBb0JKLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSSxRQUFaLElBQ25CLGFBQWMsT0FBTUMsRUFBRSxDQUFDQyxRQUFILEVBQWMsYUFBWVIsSUFBSyxHQUZ2RDtBQUlBUyxJQUFBQSxJQUFJLENBQUNDLFlBQUwsQ0FBa0IsS0FBS3JDLEdBQXZCLEVBQTRCMEIsTUFBNUIsQ0FBbUNDLElBQW5DO0FBQ0EsV0FBTyxLQUFLM0IsR0FBWjtBQUNEOztBQUVEYSxFQUFBQSxZQUFZLEdBQUc7QUFDYnlCLHNCQUNHQyxPQURILENBQ1dsQixnQkFBT0MsR0FBUCxDQUFXLGFBQVgsQ0FEWCxFQUNzQztBQUNsQ2tCLE1BQUFBLGNBQWMsRUFBRSxJQURrQjtBQUVsQ0MsTUFBQUEsZUFBZSxFQUFFO0FBRmlCLEtBRHRDLEVBS0dDLElBTEgsQ0FLUVgsT0FBTyxDQUFDQyxHQUFSLENBQVksMEJBQVosQ0FMUixFQU1HVyxLQU5ILENBTVNDLEdBQUcsSUFBSWIsT0FBTyxDQUFDTixLQUFSLENBQWMsK0JBQWQsRUFBK0NtQixHQUEvQyxDQU5oQjs7QUFPQU4sc0JBQVNqQyxHQUFULENBQWEsa0JBQWIsRUFBaUMsS0FBakM7QUFDRDs7QUFyQ2dDIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9jb21tb24iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0ICogYXMgYm9keVBhcnNlciBmcm9tIFwiYm9keS1wYXJzZXJcIjtcbmltcG9ydCAqIGFzIGh0dHAgZnJvbSBcImh0dHBcIjtcbmltcG9ydCAqIGFzIG9zIGZyb20gXCJvc1wiO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IGVycm9yIGZyb20gXCIuLi9taWRkbGV3YXJlL2Vycm9yc1wiO1xuaW1wb3J0IGNvbmZpZyBmcm9tIFwiY29uZmlnXCI7XG5pbXBvcnQgd2luc3RvbiBmcm9tIFwid2luc3RvblwiO1xuaW1wb3J0IFwid2luc3Rvbi1tb25nb2RiXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4cHJlc3NTZXJ2ZXIge1xuICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICBjb25zdCByb290ID0gcGF0aC5ub3JtYWxpemUoYCR7X19kaXJuYW1lfS8uLi8uLmApO1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIHRoaXMuYXBwLnNldChcImFwcFBhdGhcIiwgYCR7cm9vdH1jbGllbnRgKTtcbiAgICB0aGlzLmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuICAgIHRoaXMuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG4gICAgdGhpcy5hcHAudXNlKEV4cHJlc3Muc3RhdGljKGAke3Jvb3R9L3B1YmxpY2ApKTtcbiAgICB0aGlzLmluaXREYXRhYmFzZSgpO1xuICAgIHdpbnN0b24uYWRkKG5ldyB3aW5zdG9uLnRyYW5zcG9ydHMuRmlsZSh7IGZpbGVuYW1lOiAnbG9nZmlsZS5sb2cnIH0pKTtcbiAgICB3aW5zdG9uLmFkZChuZXcgd2luc3Rvbi50cmFuc3BvcnRzLk1vbmdvREIoe2RiOmNvbmZpZy5nZXQoJ01vbmdvREIudXJsJyl9KSk7XG4gIH1cblxuICByb3V0ZXIocm91dGVzKSB7XG4gICAgcm91dGVzKHRoaXMuYXBwKTtcbiAgICB0aGlzLmFwcC51c2UoZXJyb3IpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGlzdGVuKHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUKSB7XG4gICAgY29uc29sZS5sb2coXG4gICAgICBgdXAgYW5kIHJ1bm5pbmcgaW4gJHtwcm9jZXNzLmVudi5OT0RFX0VOViB8fFxuICAgICAgICBcImRldmVsb3BtZW50XCJ9IEA6ICR7b3MuaG9zdG5hbWUoKX0gb24gcG9ydDogJHtwb3J0fX1gXG4gICAgKTtcbiAgICBodHRwLmNyZWF0ZVNlcnZlcih0aGlzLmFwcCkubGlzdGVuKHBvcnQpO1xuICAgIHJldHVybiB0aGlzLmFwcDtcbiAgfVxuXG4gIGluaXREYXRhYmFzZSgpIHtcbiAgICBtb25nb29zZVxuICAgICAgLmNvbm5lY3QoY29uZmlnLmdldChcIk1vbmdvREIudXJsXCIpLCB7XG4gICAgICAgIHVzZUNyZWF0ZUluZGV4OiB0cnVlLFxuICAgICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWVcbiAgICAgIH0pXG4gICAgICAudGhlbihjb25zb2xlLmxvZyhcIkNvbm5lY3RlZCB0byBtb25nb2RiIC4uLlwiKSlcbiAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihcIkNvdWxkIG5vdCBjb25uZWN0IHRvIG1vbmdvIGRiXCIsIGVycikpO1xuICAgIG1vbmdvb3NlLnNldChcInVzZUZpbmRBbmRNb2RpZnlcIiwgZmFsc2UpO1xuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "ExpressServer",
        "constructor",
        "app",
        "root",
        "path",
        "normalize",
        "__dirname",
        "set",
        "use",
        "bodyParser",
        "json",
        "urlencoded",
        "extended",
        "Express",
        "static",
        "initDatabase",
        "winston",
        "add",
        "transports",
        "File",
        "filename",
        "MongoDB",
        "db",
        "config",
        "get",
        "router",
        "routes",
        "error",
        "listen",
        "port",
        "process",
        "env",
        "PORT",
        "console",
        "log",
        "NODE_ENV",
        "os",
        "hostname",
        "http",
        "createServer",
        "mongoose",
        "connect",
        "useCreateIndex",
        "useNewUrlParser",
        "then",
        "catch",
        "err"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEe,MAAMA,aAAN,CAAoB;AACjCC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACf,UAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAgB,GAAEC,SAAU,QAA5B,CAAb;AACA,SAAKJ,GAAL,GAAWA,GAAX;AACA,SAAKA,GAAL,CAASK,GAAT,CAAa,SAAb,EAAyB,GAAEJ,IAAK,QAAhC;AACA,SAAKD,GAAL,CAASM,GAAT,CAAaC,UAAU,CAACC,IAAX,EAAb;AACA,SAAKR,GAAL,CAASM,GAAT,CAAaC,UAAU,CAACE,UAAX,CAAsB;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAtB,CAAb;AACA,SAAKV,GAAL,CAASM,GAAT,CAAaK,iBAAQC,MAAR,CAAgB,GAAEX,IAAK,SAAvB,CAAb;AACA,SAAKY,YAAL;;AACAC,qBAAQC,GAAR,CAAY,IAAID,iBAAQE,UAAR,CAAmBC,IAAvB,CAA4B;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAA5B,CAAZ;;AACAJ,qBAAQC,GAAR,CAAY,IAAID,iBAAQE,UAAR,CAAmBG,OAAvB,CAA+B;AAACC,MAAAA,EAAE,EAACC,gBAAOC,GAAP,CAAW,aAAX;AAAJ,KAA/B,CAAZ;AACD;;AAEDC,EAAAA,MAAM,CAACC,MAAD,EAAS;AACbA,IAAAA,MAAM,CAAC,KAAKxB,GAAN,CAAN;AACA,SAAKA,GAAL,CAASM,GAAT,CAAamB,eAAb;AACA,WAAO,IAAP;AACD;;AAEDC,EAAAA,MAAM,CAACC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAApB,EAA0B;AAC9BC,IAAAA,OAAO,CAACC,GAAR,CACG,qBAAoBJ,OAAO,CAACC,GAAR,CAAYI,QAAZ,IACnB,aAAc,OAAMC,EAAE,CAACC,QAAH,EAAc,aAAYR,IAAK,GAFvD;AAIAS,IAAAA,IAAI,CAACC,YAAL,CAAkB,KAAKrC,GAAvB,EAA4B0B,MAA5B,CAAmCC,IAAnC;AACA,WAAO,KAAK3B,GAAZ;AACD;;AAEDa,EAAAA,YAAY,GAAG;AACbyB,sBACGC,OADH,CACWlB,gBAAOC,GAAP,CAAW,aAAX,CADX,EACsC;AAClCkB,MAAAA,cAAc,EAAE,IADkB;AAElCC,MAAAA,eAAe,EAAE;AAFiB,KADtC,EAKGC,IALH,CAKQX,OAAO,CAACC,GAAR,CAAY,0BAAZ,CALR,EAMGW,KANH,CAMSC,GAAG,IAAIb,OAAO,CAACN,KAAR,CAAc,+BAAd,EAA+CmB,GAA/C,CANhB;;AAOAN,sBAASjC,GAAT,CAAa,kBAAb,EAAiC,KAAjC;AACD;;AArCgC",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "sourcesContent": [
        "import Express from \"express\";\nimport * as path from \"path\";\nimport * as bodyParser from \"body-parser\";\nimport * as http from \"http\";\nimport * as os from \"os\";\nimport mongoose from \"mongoose\";\nimport error from \"../middleware/errors\";\nimport config from \"config\";\nimport winston from \"winston\";\nimport \"winston-mongodb\";\n\nexport default class ExpressServer {\n  constructor(app) {\n    const root = path.normalize(`${__dirname}/../..`);\n    this.app = app;\n    this.app.set(\"appPath\", `${root}client`);\n    this.app.use(bodyParser.json());\n    this.app.use(bodyParser.urlencoded({ extended: true }));\n    this.app.use(Express.static(`${root}/public`));\n    this.initDatabase();\n    winston.add(new winston.transports.File({ filename: 'logfile.log' }));\n    winston.add(new winston.transports.MongoDB({db:config.get('MongoDB.url')}));\n  }\n\n  router(routes) {\n    routes(this.app);\n    this.app.use(error);\n    return this;\n  }\n\n  listen(port = process.env.PORT) {\n    console.log(\n      `up and running in ${process.env.NODE_ENV ||\n        \"development\"} @: ${os.hostname()} on port: ${port}}`\n    );\n    http.createServer(this.app).listen(port);\n    return this.app;\n  }\n\n  initDatabase() {\n    mongoose\n      .connect(config.get(\"MongoDB.url\"), {\n        useCreateIndex: true,\n        useNewUrlParser: true\n      })\n      .then(console.log(\"Connected to mongodb ...\"))\n      .catch(err => console.error(\"Could not connect to mongo db\", err));\n    mongoose.set(\"useFindAndModify\", false);\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564834092537
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/routes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/routes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/routes.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server",
        "sourceFileName": "routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = routes;\n\nvar _appRouter = _interopRequireDefault(require(\"./routers/appRouter\"));\n\nvar _userRouter = _interopRequireDefault(require(\"./routers/userRouter\"));\n\nvar _brandsRouter = _interopRequireDefault(require(\"./routers/brandsRouter\"));\n\nvar _shoesRouter = _interopRequireDefault(require(\"./routers/shoesRouter\"));\n\nvar _ordersRouter = _interopRequireDefault(require(\"./routers/ordersRouter\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction routes(app) {\n  app.use('/api/v1/app', _appRouter.default);\n  app.use('/api/v1/users', _userRouter.default);\n  app.use('/api/v1/brands', _brandsRouter.default);\n  app.use('/api/v1/shoes', _shoesRouter.default);\n  app.use('/api/v1/orders', _ordersRouter.default);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyJdLCJuYW1lcyI6WyJyb3V0ZXMiLCJhcHAiLCJ1c2UiLCJhcHBSb3V0ZXIiLCJ1c2VyUm91dGVyIiwiYnJhbmRzUm91dGVyIiwic2hvZXNSb3V0ZXIiLCJvcmRlcnNSb3V0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUNlLFNBQVNBLE1BQVQsQ0FBaUJDLEdBQWpCLEVBQXNCO0FBQ2pDQSxFQUFBQSxHQUFHLENBQUNDLEdBQUosQ0FBUSxhQUFSLEVBQXNCQyxrQkFBdEI7QUFDQUYsRUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsZUFBUixFQUF3QkUsbUJBQXhCO0FBQ0FILEVBQUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGdCQUFSLEVBQXlCRyxxQkFBekI7QUFDQUosRUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsZUFBUixFQUF5Qkksb0JBQXpCO0FBQ0FMLEVBQUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGdCQUFSLEVBQXlCSyxxQkFBekI7QUFDSCIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXBwUm91dGVyIGZyb20gJy4vcm91dGVycy9hcHBSb3V0ZXInO1xuaW1wb3J0IHVzZXJSb3V0ZXIgZnJvbSAnLi9yb3V0ZXJzL3VzZXJSb3V0ZXInO1xuaW1wb3J0IGJyYW5kc1JvdXRlciBmcm9tICcuL3JvdXRlcnMvYnJhbmRzUm91dGVyJztcbmltcG9ydCBzaG9lc1JvdXRlciBmcm9tICcuL3JvdXRlcnMvc2hvZXNSb3V0ZXInO1xuaW1wb3J0IG9yZGVyc1JvdXRlciBmcm9tICcuL3JvdXRlcnMvb3JkZXJzUm91dGVyJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJvdXRlcyAoYXBwKSB7XG4gICAgYXBwLnVzZSgnL2FwaS92MS9hcHAnLGFwcFJvdXRlcik7XG4gICAgYXBwLnVzZSgnL2FwaS92MS91c2VycycsdXNlclJvdXRlcik7XG4gICAgYXBwLnVzZSgnL2FwaS92MS9icmFuZHMnLGJyYW5kc1JvdXRlcik7XG4gICAgYXBwLnVzZSgnL2FwaS92MS9zaG9lcycsIHNob2VzUm91dGVyKTtcbiAgICBhcHAudXNlKCcvYXBpL3YxL29yZGVycycsb3JkZXJzUm91dGVyKTtcbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "routes.js"
      ],
      "names": [
        "routes",
        "app",
        "use",
        "appRouter",
        "userRouter",
        "brandsRouter",
        "shoesRouter",
        "ordersRouter"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AACe,SAASA,MAAT,CAAiBC,GAAjB,EAAsB;AACjCA,EAAAA,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAsBC,kBAAtB;AACAF,EAAAA,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAwBE,mBAAxB;AACAH,EAAAA,GAAG,CAACC,GAAJ,CAAQ,gBAAR,EAAyBG,qBAAzB;AACAJ,EAAAA,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAyBI,oBAAzB;AACAL,EAAAA,GAAG,CAACC,GAAJ,CAAQ,gBAAR,EAAyBK,qBAAzB;AACH",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server",
      "sourcesContent": [
        "import appRouter from './routers/appRouter';\nimport userRouter from './routers/userRouter';\nimport brandsRouter from './routers/brandsRouter';\nimport shoesRouter from './routers/shoesRouter';\nimport ordersRouter from './routers/ordersRouter';\nexport default function routes (app) {\n    app.use('/api/v1/app',appRouter);\n    app.use('/api/v1/users',userRouter);\n    app.use('/api/v1/brands',brandsRouter);\n    app.use('/api/v1/shoes', shoesRouter);\n    app.use('/api/v1/orders',ordersRouter);\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1564814413857
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/routers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/routers/appRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/routers/appRouter.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/routers/appRouter.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/routers/appRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
        "sourceFileName": "appRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar express = _interopRequireWildcard(require(\"express\"));\n\nvar _appController = _interopRequireDefault(require(\"../controllers/appController\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar _default = express.Router().get('/info', _appController.default.info);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcFJvdXRlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiYXBwQ29udHJvbGxlciIsImluZm8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7Ozs7O2VBRWVBLE9BQU8sQ0FDckJDLE1BRGMsR0FFZEMsR0FGYyxDQUVWLE9BRlUsRUFFRkMsdUJBQWNDLElBRlosQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvcm91dGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgYXBwQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9hcHBDb250cm9sbGVyJztcblxuZXhwb3J0IGRlZmF1bHQgZXhwcmVzc1xuLlJvdXRlcigpXG4uZ2V0KCcvaW5mbycsYXBwQ29udHJvbGxlci5pbmZvKTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "appRouter.js"
      ],
      "names": [
        "express",
        "Router",
        "get",
        "appController",
        "info"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;;;eAEeA,OAAO,CACrBC,MADc,GAEdC,GAFc,CAEV,OAFU,EAEFC,uBAAcC,IAFZ,C",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "sourcesContent": [
        "import * as express from 'express';\nimport appController from '../controllers/appController';\n\nexport default express\n.Router()\n.get('/info',appController.info);"
      ]
    },
    "sourceType": "script",
    "mtime": 1564235488342
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/routers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/routers/appRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/routers/appRouter.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/routers/appRouter.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/routers/appRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
        "sourceFileName": "appRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar express = _interopRequireWildcard(require(\"express\"));\n\nvar _appController = _interopRequireDefault(require(\"../controllers/appController\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar _default = express.Router().get('/info', _appController.default.info);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcFJvdXRlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiYXBwQ29udHJvbGxlciIsImluZm8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7Ozs7O2VBRWVBLE9BQU8sQ0FDckJDLE1BRGMsR0FFZEMsR0FGYyxDQUVWLE9BRlUsRUFFRkMsdUJBQWNDLElBRlosQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvcm91dGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgYXBwQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9hcHBDb250cm9sbGVyJztcblxuZXhwb3J0IGRlZmF1bHQgZXhwcmVzc1xuLlJvdXRlcigpXG4uZ2V0KCcvaW5mbycsYXBwQ29udHJvbGxlci5pbmZvKTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "appRouter.js"
      ],
      "names": [
        "express",
        "Router",
        "get",
        "appController",
        "info"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;;;eAEeA,OAAO,CACrBC,MADc,GAEdC,GAFc,CAEV,OAFU,EAEFC,uBAAcC,IAFZ,C",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "sourcesContent": [
        "import * as express from 'express';\nimport appController from '../controllers/appController';\n\nexport default express\n.Router()\n.get('/info',appController.info);"
      ]
    },
    "sourceType": "script",
    "mtime": 1564235488342
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/controllers/appController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/controllers/appController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/controllers/appController.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/controllers/appController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
        "sourceFileName": "appController.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nclass AppController {\n  info(req, res) {\n    return res.status(200).json(\"Info : 'Node.js , Express and MongoDB APP for Shoes store\");\n  }\n\n}\n\nvar _default = new AppController();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcENvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiQXBwQ29udHJvbGxlciIsImluZm8iLCJyZXEiLCJyZXMiLCJzdGF0dXMiLCJqc29uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsTUFBTUEsYUFBTixDQUFvQjtBQUNoQkMsRUFBQUEsSUFBSSxDQUFFQyxHQUFGLEVBQU1DLEdBQU4sRUFBVztBQUNYLFdBQU9BLEdBQUcsQ0FBQ0MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLDJEQUFyQixDQUFQO0FBQ0g7O0FBSGU7O2VBTUwsSUFBSUwsYUFBSixFIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEFwcENvbnRyb2xsZXIge1xuICAgIGluZm8gKHJlcSxyZXMpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFwiSW5mbyA6ICdOb2RlLmpzICwgRXhwcmVzcyBhbmQgTW9uZ29EQiBBUFAgZm9yIFNob2VzIHN0b3JlXCIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEFwcENvbnRyb2xsZXIoKTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "appController.js"
      ],
      "names": [
        "AppController",
        "info",
        "req",
        "res",
        "status",
        "json"
      ],
      "mappings": ";;;;;;;AAAA,MAAMA,aAAN,CAAoB;AAChBC,EAAAA,IAAI,CAAEC,GAAF,EAAMC,GAAN,EAAW;AACX,WAAOA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,2DAArB,CAAP;AACH;;AAHe;;eAML,IAAIL,aAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "sourcesContent": [
        "class AppController {\n    info (req,res) {\n        return res.status(200).json(\"Info : 'Node.js , Express and MongoDB APP for Shoes store\");\n    }\n}\n\nexport default new AppController();"
      ]
    },
    "sourceType": "script",
    "mtime": 1564235328216
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/controllers/appController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/controllers/appController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/controllers/appController.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/controllers/appController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
        "sourceFileName": "appController.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nclass AppController {\n  info(req, res) {\n    return res.status(200).json(\"Info : 'Node.js , Express and MongoDB APP for Shoes store\");\n  }\n\n}\n\nvar _default = new AppController();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcENvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiQXBwQ29udHJvbGxlciIsImluZm8iLCJyZXEiLCJyZXMiLCJzdGF0dXMiLCJqc29uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsTUFBTUEsYUFBTixDQUFvQjtBQUNoQkMsRUFBQUEsSUFBSSxDQUFFQyxHQUFGLEVBQU1DLEdBQU4sRUFBVztBQUNYLFdBQU9BLEdBQUcsQ0FBQ0MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLDJEQUFyQixDQUFQO0FBQ0g7O0FBSGU7O2VBTUwsSUFBSUwsYUFBSixFIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEFwcENvbnRyb2xsZXIge1xuICAgIGluZm8gKHJlcSxyZXMpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFwiSW5mbyA6ICdOb2RlLmpzICwgRXhwcmVzcyBhbmQgTW9uZ29EQiBBUFAgZm9yIFNob2VzIHN0b3JlXCIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEFwcENvbnRyb2xsZXIoKTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "appController.js"
      ],
      "names": [
        "AppController",
        "info",
        "req",
        "res",
        "status",
        "json"
      ],
      "mappings": ";;;;;;;AAAA,MAAMA,aAAN,CAAoB;AAChBC,EAAAA,IAAI,CAAEC,GAAF,EAAMC,GAAN,EAAW;AACX,WAAOA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,2DAArB,CAAP;AACH;;AAHe;;eAML,IAAIL,aAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "sourcesContent": [
        "class AppController {\n    info (req,res) {\n        return res.status(200).json(\"Info : 'Node.js , Express and MongoDB APP for Shoes store\");\n    }\n}\n\nexport default new AppController();"
      ]
    },
    "sourceType": "script",
    "mtime": 1564235328216
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/routers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/routers/userRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/routers/userRouter.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/routers/userRouter.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/routers/userRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
        "sourceFileName": "userRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar express = _interopRequireWildcard(require(\"express\"));\n\nvar _usersController = _interopRequireDefault(require(\"../controllers/usersController\"));\n\nvar _async = require(\"../middleware/async\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar _default = express.Router().post('/register', (0, _async.asyncMiddleware)(_usersController.default.registerUser)).post('/login', (0, _async.asyncMiddleware)(_usersController.default.login));\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJ1c2Vyc0NvbnRyb2xsZXIiLCJyZWdpc3RlclVzZXIiLCJsb2dpbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7Ozs7ZUFFZUEsT0FBTyxDQUNyQkMsTUFEYyxHQUVkQyxJQUZjLENBRVQsV0FGUyxFQUVHLDRCQUFnQkMseUJBQWdCQyxZQUFoQyxDQUZILEVBR2RGLElBSGMsQ0FHVCxRQUhTLEVBR0EsNEJBQWdCQyx5QkFBZ0JFLEtBQWhDLENBSEEsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvcm91dGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgdXNlcnNDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL3VzZXJzQ29udHJvbGxlcic7XG5pbXBvcnQge2FzeW5jTWlkZGxld2FyZX0gIGZyb20gXCIuLi9taWRkbGV3YXJlL2FzeW5jXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGV4cHJlc3MgXG4uUm91dGVyKClcbi5wb3N0KCcvcmVnaXN0ZXInLGFzeW5jTWlkZGxld2FyZSh1c2Vyc0NvbnRyb2xsZXIucmVnaXN0ZXJVc2VyKSlcbi5wb3N0KCcvbG9naW4nLGFzeW5jTWlkZGxld2FyZSh1c2Vyc0NvbnRyb2xsZXIubG9naW4pKVxuXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userRouter.js"
      ],
      "names": [
        "express",
        "Router",
        "post",
        "usersController",
        "registerUser",
        "login"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;eAEeA,OAAO,CACrBC,MADc,GAEdC,IAFc,CAET,WAFS,EAEG,4BAAgBC,yBAAgBC,YAAhC,CAFH,EAGdF,IAHc,CAGT,QAHS,EAGA,4BAAgBC,yBAAgBE,KAAhC,CAHA,C",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "sourcesContent": [
        "import * as express from 'express';\nimport usersController from '../controllers/usersController';\nimport {asyncMiddleware}  from \"../middleware/async\";\n\nexport default express \n.Router()\n.post('/register',asyncMiddleware(usersController.registerUser))\n.post('/login',asyncMiddleware(usersController.login))\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564826985692
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/routers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/routers/userRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/routers/userRouter.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/routers/userRouter.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/routers/userRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
        "sourceFileName": "userRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar express = _interopRequireWildcard(require(\"express\"));\n\nvar _usersController = _interopRequireDefault(require(\"../controllers/usersController\"));\n\nvar _async = require(\"../middleware/async\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar _default = express.Router().post('/register', (0, _async.asyncMiddleware)(_usersController.default.registerUser)).post('/login', (0, _async.asyncMiddleware)(_usersController.default.login));\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJ1c2Vyc0NvbnRyb2xsZXIiLCJyZWdpc3RlclVzZXIiLCJsb2dpbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7Ozs7ZUFFZUEsT0FBTyxDQUNyQkMsTUFEYyxHQUVkQyxJQUZjLENBRVQsV0FGUyxFQUVHLDRCQUFnQkMseUJBQWdCQyxZQUFoQyxDQUZILEVBR2RGLElBSGMsQ0FHVCxRQUhTLEVBR0EsNEJBQWdCQyx5QkFBZ0JFLEtBQWhDLENBSEEsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvcm91dGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgdXNlcnNDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL3VzZXJzQ29udHJvbGxlcic7XG5pbXBvcnQge2FzeW5jTWlkZGxld2FyZX0gIGZyb20gXCIuLi9taWRkbGV3YXJlL2FzeW5jXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGV4cHJlc3MgXG4uUm91dGVyKClcbi5wb3N0KCcvcmVnaXN0ZXInLGFzeW5jTWlkZGxld2FyZSh1c2Vyc0NvbnRyb2xsZXIucmVnaXN0ZXJVc2VyKSlcbi5wb3N0KCcvbG9naW4nLGFzeW5jTWlkZGxld2FyZSh1c2Vyc0NvbnRyb2xsZXIubG9naW4pKVxuXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userRouter.js"
      ],
      "names": [
        "express",
        "Router",
        "post",
        "usersController",
        "registerUser",
        "login"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;eAEeA,OAAO,CACrBC,MADc,GAEdC,IAFc,CAET,WAFS,EAEG,4BAAgBC,yBAAgBC,YAAhC,CAFH,EAGdF,IAHc,CAGT,QAHS,EAGA,4BAAgBC,yBAAgBE,KAAhC,CAHA,C",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "sourcesContent": [
        "import * as express from 'express';\nimport usersController from '../controllers/usersController';\nimport {asyncMiddleware}  from \"../middleware/async\";\n\nexport default express \n.Router()\n.post('/register',asyncMiddleware(usersController.registerUser))\n.post('/login',asyncMiddleware(usersController.login))\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564826985692
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/controllers/usersController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/controllers/usersController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/controllers/usersController.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/controllers/usersController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
        "sourceFileName": "usersController.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _user = require(\"../models/user\");\n\nvar _userService = _interopRequireDefault(require(\"../services/userService\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass UserController {\n  async registerUser(req, res) {\n    const {\n      error\n    } = (0, _user.validateUser)(req.body);\n    if (error) return res.status(400).send(error.details[0].message);\n    let user = await _userService.default.register(req.body);\n\n    if (user) {\n      const token = user.generateAuthToken();\n      res.header(\"x-auth-token\", token).send(_lodash.default.pick(user, [\"_id\", \"email\", \"userName\"]));\n    }\n  }\n\n  async login(req, res) {\n    const {\n      error\n    } = (0, _user.validateLogin)(req.body);\n    if (error) return res.status(400).send(error.details[0].message);\n    let result = await _userService.default.login(req.body);\n    res.status(200).json(result);\n  }\n\n}\n\nvar _default = new UserController();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJVc2VyQ29udHJvbGxlciIsInJlZ2lzdGVyVXNlciIsInJlcSIsInJlcyIsImVycm9yIiwiYm9keSIsInN0YXR1cyIsInNlbmQiLCJkZXRhaWxzIiwibWVzc2FnZSIsInVzZXIiLCJ1c2VyU2VydmljZSIsInJlZ2lzdGVyIiwidG9rZW4iLCJnZW5lcmF0ZUF1dGhUb2tlbiIsImhlYWRlciIsIl8iLCJwaWNrIiwibG9naW4iLCJyZXN1bHQiLCJqc29uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxjQUFOLENBQXFCO0FBQ25CLFFBQU1DLFlBQU4sQ0FBbUJDLEdBQW5CLEVBQXdCQyxHQUF4QixFQUE2QjtBQUMzQixVQUFNO0FBQUVDLE1BQUFBO0FBQUYsUUFBWSx3QkFBYUYsR0FBRyxDQUFDRyxJQUFqQixDQUFsQjtBQUNBLFFBQUlELEtBQUosRUFBVyxPQUFPRCxHQUFHLENBQUNHLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQkgsS0FBSyxDQUFDSSxPQUFOLENBQWMsQ0FBZCxFQUFpQkMsT0FBdEMsQ0FBUDtBQUVYLFFBQUlDLElBQUksR0FBRyxNQUFNQyxxQkFBWUMsUUFBWixDQUFxQlYsR0FBRyxDQUFDRyxJQUF6QixDQUFqQjs7QUFFQSxRQUFJSyxJQUFKLEVBQVU7QUFDUixZQUFNRyxLQUFLLEdBQUdILElBQUksQ0FBQ0ksaUJBQUwsRUFBZDtBQUNBWCxNQUFBQSxHQUFHLENBQ0FZLE1BREgsQ0FDVSxjQURWLEVBQzBCRixLQUQxQixFQUVHTixJQUZILENBRVFTLGdCQUFFQyxJQUFGLENBQU9QLElBQVAsRUFBYSxDQUFDLEtBQUQsRUFBUSxPQUFSLEVBQWlCLFVBQWpCLENBQWIsQ0FGUjtBQUdEO0FBQ0Y7O0FBRUQsUUFBTVEsS0FBTixDQUFZaEIsR0FBWixFQUFpQkMsR0FBakIsRUFBc0I7QUFDcEIsVUFBTTtBQUFFQyxNQUFBQTtBQUFGLFFBQVkseUJBQWNGLEdBQUcsQ0FBQ0csSUFBbEIsQ0FBbEI7QUFDQSxRQUFJRCxLQUFKLEVBQVcsT0FBT0QsR0FBRyxDQUFDRyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJILEtBQUssQ0FBQ0ksT0FBTixDQUFjLENBQWQsRUFBaUJDLE9BQXRDLENBQVA7QUFFWCxRQUFJVSxNQUFNLEdBQUcsTUFBTVIscUJBQVlPLEtBQVosQ0FBa0JoQixHQUFHLENBQUNHLElBQXRCLENBQW5CO0FBRUFGLElBQUFBLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JjLElBQWhCLENBQXFCRCxNQUFyQjtBQUNEOztBQXRCa0I7O2VBeUJOLElBQUluQixjQUFKLEUiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmFsaWRhdGVVc2VyLCB2YWxpZGF0ZUxvZ2luLCBVc2VyIH0gZnJvbSBcIi4uL21vZGVscy91c2VyXCI7XG5pbXBvcnQgdXNlclNlcnZpY2UgZnJvbSBcIi4uL3NlcnZpY2VzL3VzZXJTZXJ2aWNlXCI7XG5pbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XG5cbmNsYXNzIFVzZXJDb250cm9sbGVyIHtcbiAgYXN5bmMgcmVnaXN0ZXJVc2VyKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gdmFsaWRhdGVVc2VyKHJlcS5ib2R5KTtcbiAgICBpZiAoZXJyb3IpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UpO1xuXG4gICAgbGV0IHVzZXIgPSBhd2FpdCB1c2VyU2VydmljZS5yZWdpc3RlcihyZXEuYm9keSk7XG5cbiAgICBpZiAodXNlcikge1xuICAgICAgY29uc3QgdG9rZW4gPSB1c2VyLmdlbmVyYXRlQXV0aFRva2VuKCk7XG4gICAgICByZXNcbiAgICAgICAgLmhlYWRlcihcIngtYXV0aC10b2tlblwiLCB0b2tlbilcbiAgICAgICAgLnNlbmQoXy5waWNrKHVzZXIsIFtcIl9pZFwiLCBcImVtYWlsXCIsIFwidXNlck5hbWVcIl0pKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBsb2dpbihyZXEsIHJlcykge1xuICAgIGNvbnN0IHsgZXJyb3IgfSA9IHZhbGlkYXRlTG9naW4ocmVxLmJvZHkpO1xuICAgIGlmIChlcnJvcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSk7XG5cbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdXNlclNlcnZpY2UubG9naW4ocmVxLmJvZHkpO1xuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgVXNlckNvbnRyb2xsZXIoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "usersController.js"
      ],
      "names": [
        "UserController",
        "registerUser",
        "req",
        "res",
        "error",
        "body",
        "status",
        "send",
        "details",
        "message",
        "user",
        "userService",
        "register",
        "token",
        "generateAuthToken",
        "header",
        "_",
        "pick",
        "login",
        "result",
        "json"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,cAAN,CAAqB;AACnB,QAAMC,YAAN,CAAmBC,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,UAAM;AAAEC,MAAAA;AAAF,QAAY,wBAAaF,GAAG,CAACG,IAAjB,CAAlB;AACA,QAAID,KAAJ,EAAW,OAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP;AAEX,QAAIC,IAAI,GAAG,MAAMC,qBAAYC,QAAZ,CAAqBV,GAAG,CAACG,IAAzB,CAAjB;;AAEA,QAAIK,IAAJ,EAAU;AACR,YAAMG,KAAK,GAAGH,IAAI,CAACI,iBAAL,EAAd;AACAX,MAAAA,GAAG,CACAY,MADH,CACU,cADV,EAC0BF,KAD1B,EAEGN,IAFH,CAEQS,gBAAEC,IAAF,CAAOP,IAAP,EAAa,CAAC,KAAD,EAAQ,OAAR,EAAiB,UAAjB,CAAb,CAFR;AAGD;AACF;;AAED,QAAMQ,KAAN,CAAYhB,GAAZ,EAAiBC,GAAjB,EAAsB;AACpB,UAAM;AAAEC,MAAAA;AAAF,QAAY,yBAAcF,GAAG,CAACG,IAAlB,CAAlB;AACA,QAAID,KAAJ,EAAW,OAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP;AAEX,QAAIU,MAAM,GAAG,MAAMR,qBAAYO,KAAZ,CAAkBhB,GAAG,CAACG,IAAtB,CAAnB;AAEAF,IAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBc,IAAhB,CAAqBD,MAArB;AACD;;AAtBkB;;eAyBN,IAAInB,cAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "sourcesContent": [
        "import { validateUser, validateLogin, User } from \"../models/user\";\nimport userService from \"../services/userService\";\nimport _ from \"lodash\";\n\nclass UserController {\n  async registerUser(req, res) {\n    const { error } = validateUser(req.body);\n    if (error) return res.status(400).send(error.details[0].message);\n\n    let user = await userService.register(req.body);\n\n    if (user) {\n      const token = user.generateAuthToken();\n      res\n        .header(\"x-auth-token\", token)\n        .send(_.pick(user, [\"_id\", \"email\", \"userName\"]));\n    }\n  }\n\n  async login(req, res) {\n    const { error } = validateLogin(req.body);\n    if (error) return res.status(400).send(error.details[0].message);\n\n    let result = await userService.login(req.body);\n\n    res.status(200).json(result);\n  }\n}\n\nexport default new UserController();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564827144127
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/models/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/models/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/models/user.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/models/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateUser = validateUser;\nexports.validateLogin = validateLogin;\nexports.User = void 0;\n\nvar _joi = _interopRequireDefault(require(\"joi\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  fullName: {\n    type: String,\n    required: true,\n    minlength: 5,\n    maxlength: 255\n  },\n  userName: {\n    type: String,\n    required: true,\n    minlength: 5,\n    maxlength: 255,\n    unique: true\n  },\n  email: {\n    type: String,\n    required: true,\n    minlength: 5,\n    maxlength: 255,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true,\n    minlength: 5,\n    maxlength: 1024\n  }\n});\n\nuserSchema.methods.generateAuthToken = function () {\n  const token = _jsonwebtoken.default.sign({\n    _id: this._id\n  }, process.env.JTW_KEY);\n\n  return token;\n};\n\nconst User = _mongoose.default.model(\"User\", userSchema);\n\nexports.User = User;\n\nfunction validateUser(user) {\n  const schema = {\n    fullName: _joi.default.string().min(5).max(50).required(),\n    email: _joi.default.string().min(5).max(255).required().email(),\n    password: _joi.default.string().min(5).max(1024).required(),\n    userName: _joi.default.string().min(5).max(255).required()\n  };\n  return _joi.default.validate(user, schema);\n}\n\nfunction validateLogin(req) {\n  const schema = {\n    password: _joi.default.string().min(5).max(1024).required(),\n    userName: _joi.default.string().min(5).max(255).required()\n  };\n  return _joi.default.validate(req, schema);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwiZnVsbE5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiLCJ1c2VyTmFtZSIsInVuaXF1ZSIsImVtYWlsIiwicGFzc3dvcmQiLCJtZXRob2RzIiwiZ2VuZXJhdGVBdXRoVG9rZW4iLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJfaWQiLCJwcm9jZXNzIiwiZW52IiwiSlRXX0tFWSIsIlVzZXIiLCJtb2RlbCIsInZhbGlkYXRlVXNlciIsInVzZXIiLCJzY2hlbWEiLCJKb2kiLCJzdHJpbmciLCJtaW4iLCJtYXgiLCJ2YWxpZGF0ZSIsInZhbGlkYXRlTG9naW4iLCJyZXEiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQ25DQyxFQUFBQSxRQUFRLEVBQUU7QUFDUkMsSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLElBQUFBLFFBQVEsRUFBRSxJQUZGO0FBR1JDLElBQUFBLFNBQVMsRUFBRSxDQUhIO0FBSVJDLElBQUFBLFNBQVMsRUFBRTtBQUpILEdBRHlCO0FBT25DQyxFQUFBQSxRQUFRLEVBQUU7QUFDUkwsSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLElBQUFBLFFBQVEsRUFBRSxJQUZGO0FBR1JDLElBQUFBLFNBQVMsRUFBRSxDQUhIO0FBSVJDLElBQUFBLFNBQVMsRUFBRSxHQUpIO0FBS1JFLElBQUFBLE1BQU0sRUFBRTtBQUxBLEdBUHlCO0FBY25DQyxFQUFBQSxLQUFLLEVBQUU7QUFDTFAsSUFBQUEsSUFBSSxFQUFFQyxNQUREO0FBRUxDLElBQUFBLFFBQVEsRUFBRSxJQUZMO0FBR0xDLElBQUFBLFNBQVMsRUFBRSxDQUhOO0FBSUxDLElBQUFBLFNBQVMsRUFBRSxHQUpOO0FBS0xFLElBQUFBLE1BQU0sRUFBRTtBQUxILEdBZDRCO0FBcUJuQ0UsRUFBQUEsUUFBUSxFQUFFO0FBQ1JSLElBQUFBLElBQUksRUFBRUMsTUFERTtBQUVSQyxJQUFBQSxRQUFRLEVBQUUsSUFGRjtBQUdSQyxJQUFBQSxTQUFTLEVBQUUsQ0FISDtBQUlSQyxJQUFBQSxTQUFTLEVBQUU7QUFKSDtBQXJCeUIsQ0FBcEIsQ0FBbkI7O0FBNkJBUixVQUFVLENBQUNhLE9BQVgsQ0FBbUJDLGlCQUFuQixHQUF1QyxZQUFZO0FBQy9DLFFBQU1DLEtBQUssR0FBR0Msc0JBQUlDLElBQUosQ0FBUztBQUFFQyxJQUFBQSxHQUFHLEVBQUUsS0FBS0E7QUFBWixHQUFULEVBQTRCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsT0FBeEMsQ0FBZDs7QUFDQSxTQUFPTixLQUFQO0FBQ0gsQ0FIRDs7QUFLTyxNQUFNTyxJQUFJLEdBQUdyQixrQkFBU3NCLEtBQVQsQ0FDbEIsTUFEa0IsRUFFakJ2QixVQUZpQixDQUFiOzs7O0FBS0EsU0FBU3dCLFlBQVQsQ0FBc0JDLElBQXRCLEVBQTRCO0FBQ2pDLFFBQU1DLE1BQU0sR0FBRztBQUNidkIsSUFBQUEsUUFBUSxFQUFFd0IsYUFBSUMsTUFBSixHQUNQQyxHQURPLENBQ0gsQ0FERyxFQUVQQyxHQUZPLENBRUgsRUFGRyxFQUdQeEIsUUFITyxFQURHO0FBS2JLLElBQUFBLEtBQUssRUFBRWdCLGFBQUlDLE1BQUosR0FDSkMsR0FESSxDQUNBLENBREEsRUFFSkMsR0FGSSxDQUVBLEdBRkEsRUFHSnhCLFFBSEksR0FJSkssS0FKSSxFQUxNO0FBVWJDLElBQUFBLFFBQVEsRUFBRWUsYUFBSUMsTUFBSixHQUNQQyxHQURPLENBQ0gsQ0FERyxFQUVQQyxHQUZPLENBRUgsSUFGRyxFQUdQeEIsUUFITyxFQVZHO0FBY2JHLElBQUFBLFFBQVEsRUFBRWtCLGFBQUlDLE1BQUosR0FDUEMsR0FETyxDQUNILENBREcsRUFFUEMsR0FGTyxDQUVILEdBRkcsRUFHUHhCLFFBSE87QUFkRyxHQUFmO0FBb0JBLFNBQU9xQixhQUFJSSxRQUFKLENBQWFOLElBQWIsRUFBbUJDLE1BQW5CLENBQVA7QUFDRDs7QUFFTyxTQUFTTSxhQUFULENBQXVCQyxHQUF2QixFQUE0QjtBQUNsQyxRQUFNUCxNQUFNLEdBQUc7QUFDYmQsSUFBQUEsUUFBUSxFQUFFZSxhQUFJQyxNQUFKLEdBQ1BDLEdBRE8sQ0FDSCxDQURHLEVBRVBDLEdBRk8sQ0FFSCxJQUZHLEVBR1B4QixRQUhPLEVBREc7QUFLYkcsSUFBQUEsUUFBUSxFQUFFa0IsYUFBSUMsTUFBSixHQUNQQyxHQURPLENBQ0gsQ0FERyxFQUVQQyxHQUZPLENBRUgsR0FGRyxFQUdQeEIsUUFITztBQUxHLEdBQWY7QUFVQSxTQUFPcUIsYUFBSUksUUFBSixDQUFhRSxHQUFiLEVBQWtCUCxNQUFsQixDQUFQO0FBQ0QiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKb2kgZnJvbSBcImpvaVwiO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgZnVsbE5hbWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgbWlubGVuZ3RoOiA1LFxuICAgICAgbWF4bGVuZ3RoOiAyNTVcbiAgICB9LFxuICAgIHVzZXJOYW1lOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIG1pbmxlbmd0aDogNSxcbiAgICAgIG1heGxlbmd0aDogMjU1LFxuICAgICAgdW5pcXVlOiB0cnVlXG4gICAgfSxcbiAgICBlbWFpbDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICBtaW5sZW5ndGg6IDUsXG4gICAgICBtYXhsZW5ndGg6IDI1NSxcbiAgICAgIHVuaXF1ZTogdHJ1ZVxuICAgIH0sXG4gICAgcGFzc3dvcmQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgbWlubGVuZ3RoOiA1LFxuICAgICAgbWF4bGVuZ3RoOiAxMDI0XG4gICAgfVxuICB9KTtcblxudXNlclNjaGVtYS5tZXRob2RzLmdlbmVyYXRlQXV0aFRva2VuID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyBfaWQ6IHRoaXMuX2lkIH0sIHByb2Nlc3MuZW52LkpUV19LRVkpO1xuICAgIHJldHVybiB0b2tlbjtcbn1cblxuZXhwb3J0IGNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbChcbiAgXCJVc2VyXCIsXG4gICB1c2VyU2NoZW1hXG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVVc2VyKHVzZXIpIHtcbiAgY29uc3Qgc2NoZW1hID0ge1xuICAgIGZ1bGxOYW1lOiBKb2kuc3RyaW5nKClcbiAgICAgIC5taW4oNSlcbiAgICAgIC5tYXgoNTApXG4gICAgICAucmVxdWlyZWQoKSxcbiAgICBlbWFpbDogSm9pLnN0cmluZygpXG4gICAgICAubWluKDUpXG4gICAgICAubWF4KDI1NSlcbiAgICAgIC5yZXF1aXJlZCgpXG4gICAgICAuZW1haWwoKSxcbiAgICBwYXNzd29yZDogSm9pLnN0cmluZygpXG4gICAgICAubWluKDUpXG4gICAgICAubWF4KDEwMjQpXG4gICAgICAucmVxdWlyZWQoKSxcbiAgICB1c2VyTmFtZTogSm9pLnN0cmluZygpXG4gICAgICAubWluKDUpXG4gICAgICAubWF4KDI1NSlcbiAgICAgIC5yZXF1aXJlZCgpXG4gIH07XG5cbiAgcmV0dXJuIEpvaS52YWxpZGF0ZSh1c2VyLCBzY2hlbWEpO1xufVxuXG5leHBvcnQgIGZ1bmN0aW9uIHZhbGlkYXRlTG9naW4ocmVxKSB7XG4gIGNvbnN0IHNjaGVtYSA9IHtcbiAgICBwYXNzd29yZDogSm9pLnN0cmluZygpXG4gICAgICAubWluKDUpXG4gICAgICAubWF4KDEwMjQpXG4gICAgICAucmVxdWlyZWQoKSxcbiAgICB1c2VyTmFtZTogSm9pLnN0cmluZygpXG4gICAgICAubWluKDUpXG4gICAgICAubWF4KDI1NSlcbiAgICAgIC5yZXF1aXJlZCgpXG4gIH07XG4gIHJldHVybiBKb2kudmFsaWRhdGUocmVxLCBzY2hlbWEpO1xufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "fullName",
        "type",
        "String",
        "required",
        "minlength",
        "maxlength",
        "userName",
        "unique",
        "email",
        "password",
        "methods",
        "generateAuthToken",
        "token",
        "jwt",
        "sign",
        "_id",
        "process",
        "env",
        "JTW_KEY",
        "User",
        "model",
        "validateUser",
        "user",
        "schema",
        "Joi",
        "string",
        "min",
        "max",
        "validate",
        "validateLogin",
        "req"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACnCC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE,IAFF;AAGRC,IAAAA,SAAS,EAAE,CAHH;AAIRC,IAAAA,SAAS,EAAE;AAJH,GADyB;AAOnCC,EAAAA,QAAQ,EAAE;AACRL,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE,IAFF;AAGRC,IAAAA,SAAS,EAAE,CAHH;AAIRC,IAAAA,SAAS,EAAE,GAJH;AAKRE,IAAAA,MAAM,EAAE;AALA,GAPyB;AAcnCC,EAAAA,KAAK,EAAE;AACLP,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE,IAFL;AAGLC,IAAAA,SAAS,EAAE,CAHN;AAILC,IAAAA,SAAS,EAAE,GAJN;AAKLE,IAAAA,MAAM,EAAE;AALH,GAd4B;AAqBnCE,EAAAA,QAAQ,EAAE;AACRR,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE,IAFF;AAGRC,IAAAA,SAAS,EAAE,CAHH;AAIRC,IAAAA,SAAS,EAAE;AAJH;AArByB,CAApB,CAAnB;;AA6BAR,UAAU,CAACa,OAAX,CAAmBC,iBAAnB,GAAuC,YAAY;AAC/C,QAAMC,KAAK,GAAGC,sBAAIC,IAAJ,CAAS;AAAEC,IAAAA,GAAG,EAAE,KAAKA;AAAZ,GAAT,EAA4BC,OAAO,CAACC,GAAR,CAAYC,OAAxC,CAAd;;AACA,SAAON,KAAP;AACH,CAHD;;AAKO,MAAMO,IAAI,GAAGrB,kBAASsB,KAAT,CAClB,MADkB,EAEjBvB,UAFiB,CAAb;;;;AAKA,SAASwB,YAAT,CAAsBC,IAAtB,EAA4B;AACjC,QAAMC,MAAM,GAAG;AACbvB,IAAAA,QAAQ,EAAEwB,aAAIC,MAAJ,GACPC,GADO,CACH,CADG,EAEPC,GAFO,CAEH,EAFG,EAGPxB,QAHO,EADG;AAKbK,IAAAA,KAAK,EAAEgB,aAAIC,MAAJ,GACJC,GADI,CACA,CADA,EAEJC,GAFI,CAEA,GAFA,EAGJxB,QAHI,GAIJK,KAJI,EALM;AAUbC,IAAAA,QAAQ,EAAEe,aAAIC,MAAJ,GACPC,GADO,CACH,CADG,EAEPC,GAFO,CAEH,IAFG,EAGPxB,QAHO,EAVG;AAcbG,IAAAA,QAAQ,EAAEkB,aAAIC,MAAJ,GACPC,GADO,CACH,CADG,EAEPC,GAFO,CAEH,GAFG,EAGPxB,QAHO;AAdG,GAAf;AAoBA,SAAOqB,aAAII,QAAJ,CAAaN,IAAb,EAAmBC,MAAnB,CAAP;AACD;;AAEO,SAASM,aAAT,CAAuBC,GAAvB,EAA4B;AAClC,QAAMP,MAAM,GAAG;AACbd,IAAAA,QAAQ,EAAEe,aAAIC,MAAJ,GACPC,GADO,CACH,CADG,EAEPC,GAFO,CAEH,IAFG,EAGPxB,QAHO,EADG;AAKbG,IAAAA,QAAQ,EAAEkB,aAAIC,MAAJ,GACPC,GADO,CACH,CADG,EAEPC,GAFO,CAEH,GAFG,EAGPxB,QAHO;AALG,GAAf;AAUA,SAAOqB,aAAII,QAAJ,CAAaE,GAAb,EAAkBP,MAAlB,CAAP;AACD",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "sourcesContent": [
        "import Joi from \"joi\";\nimport mongoose from \"mongoose\";\nimport jwt from 'jsonwebtoken';\n\nconst userSchema = new mongoose.Schema({\n    fullName: {\n      type: String,\n      required: true,\n      minlength: 5,\n      maxlength: 255\n    },\n    userName: {\n      type: String,\n      required: true,\n      minlength: 5,\n      maxlength: 255,\n      unique: true\n    },\n    email: {\n      type: String,\n      required: true,\n      minlength: 5,\n      maxlength: 255,\n      unique: true\n    },\n    password: {\n      type: String,\n      required: true,\n      minlength: 5,\n      maxlength: 1024\n    }\n  });\n\nuserSchema.methods.generateAuthToken = function () {\n    const token = jwt.sign({ _id: this._id }, process.env.JTW_KEY);\n    return token;\n}\n\nexport const User = mongoose.model(\n  \"User\",\n   userSchema\n);\n\nexport function validateUser(user) {\n  const schema = {\n    fullName: Joi.string()\n      .min(5)\n      .max(50)\n      .required(),\n    email: Joi.string()\n      .min(5)\n      .max(255)\n      .required()\n      .email(),\n    password: Joi.string()\n      .min(5)\n      .max(1024)\n      .required(),\n    userName: Joi.string()\n      .min(5)\n      .max(255)\n      .required()\n  };\n\n  return Joi.validate(user, schema);\n}\n\nexport  function validateLogin(req) {\n  const schema = {\n    password: Joi.string()\n      .min(5)\n      .max(1024)\n      .required(),\n    userName: Joi.string()\n      .min(5)\n      .max(255)\n      .required()\n  };\n  return Joi.validate(req, schema);\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564319213021
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/userService.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/userService.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/userService.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/userService.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
        "sourceFileName": "userService.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _userDbService = _interopRequireDefault(require(\"../services/dbServices/userDbService\"));\n\nvar _AppException = _interopRequireDefault(require(\"../common/AppException\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass userService {\n  async register(req) {\n    let user = await _userDbService.default.checkIfUserNameExists(req.userName);\n\n    if (user) {\n      throw new _AppException.default(`Username ${req.userName} already exists`, 400);\n    }\n\n    user = await _userDbService.default.checkIfEmailExists(req.email);\n\n    if (user) {\n      throw new _AppException.default(`User with email ${req.email} already exists!`, 400);\n    }\n\n    user = _userDbService.default.register(req);\n    return user;\n  }\n\n  async login(req) {\n    let user = await _userDbService.default.checkIfUserNameExists(req.userName);\n\n    if (!user) {\n      throw new _AppException.default(`Invalid email or password`, 400);\n    }\n\n    const validPassword = await _bcrypt.default.compare(req.password, user.password);\n    if (!validPassword) throw new _AppException.default(`Invalid email or password`, 400);\n\n    const token = _jsonwebtoken.default.sign({\n      _id: user._id\n    }, process.env.JTW_KEY);\n\n    return token;\n  }\n\n}\n\nvar _default = new userService();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbInVzZXJTZXJ2aWNlIiwicmVnaXN0ZXIiLCJyZXEiLCJ1c2VyIiwidXNlckRiU2VydmljZSIsImNoZWNrSWZVc2VyTmFtZUV4aXN0cyIsInVzZXJOYW1lIiwiQXBwbGljYXRpb25FcnJvciIsImNoZWNrSWZFbWFpbEV4aXN0cyIsImVtYWlsIiwibG9naW4iLCJ2YWxpZFBhc3N3b3JkIiwiYmNyeXB0IiwiY29tcGFyZSIsInBhc3N3b3JkIiwidG9rZW4iLCJqd3QiLCJzaWduIiwiX2lkIiwicHJvY2VzcyIsImVudiIsIkpUV19LRVkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFdBQU4sQ0FBa0I7QUFDaEIsUUFBTUMsUUFBTixDQUFlQyxHQUFmLEVBQW9CO0FBQ2xCLFFBQUlDLElBQUksR0FBRyxNQUFNQyx1QkFBY0MscUJBQWQsQ0FBb0NILEdBQUcsQ0FBQ0ksUUFBeEMsQ0FBakI7O0FBRUEsUUFBSUgsSUFBSixFQUFVO0FBQ1IsWUFBTSxJQUFJSSxxQkFBSixDQUNILFlBQVdMLEdBQUcsQ0FBQ0ksUUFBUyxpQkFEckIsRUFFSixHQUZJLENBQU47QUFJRDs7QUFDREgsSUFBQUEsSUFBSSxHQUFHLE1BQU1DLHVCQUFjSSxrQkFBZCxDQUFpQ04sR0FBRyxDQUFDTyxLQUFyQyxDQUFiOztBQUVBLFFBQUlOLElBQUosRUFBVTtBQUNSLFlBQU0sSUFBSUkscUJBQUosQ0FDSCxtQkFBa0JMLEdBQUcsQ0FBQ08sS0FBTSxrQkFEekIsRUFFSixHQUZJLENBQU47QUFJRDs7QUFFRE4sSUFBQUEsSUFBSSxHQUFHQyx1QkFBY0gsUUFBZCxDQUF1QkMsR0FBdkIsQ0FBUDtBQUdBLFdBQU9DLElBQVA7QUFDRDs7QUFFRCxRQUFNTyxLQUFOLENBQVlSLEdBQVosRUFBaUI7QUFDZixRQUFJQyxJQUFJLEdBQUcsTUFBTUMsdUJBQWNDLHFCQUFkLENBQW9DSCxHQUFHLENBQUNJLFFBQXhDLENBQWpCOztBQUVBLFFBQUksQ0FBQ0gsSUFBTCxFQUFXO0FBQ1QsWUFBTSxJQUFJSSxxQkFBSixDQUFzQiwyQkFBdEIsRUFBa0QsR0FBbEQsQ0FBTjtBQUNEOztBQUVELFVBQU1JLGFBQWEsR0FBRyxNQUFNQyxnQkFBT0MsT0FBUCxDQUMxQlgsR0FBRyxDQUFDWSxRQURzQixFQUUxQlgsSUFBSSxDQUFDVyxRQUZxQixDQUE1QjtBQUlBLFFBQUksQ0FBQ0gsYUFBTCxFQUNFLE1BQU0sSUFBSUoscUJBQUosQ0FBc0IsMkJBQXRCLEVBQWtELEdBQWxELENBQU47O0FBRUYsVUFBTVEsS0FBSyxHQUFHQyxzQkFBSUMsSUFBSixDQUFTO0FBQUNDLE1BQUFBLEdBQUcsRUFBR2YsSUFBSSxDQUFDZTtBQUFaLEtBQVQsRUFBNEJDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxPQUF4QyxDQUFkOztBQUVBLFdBQU9OLEtBQVA7QUFDRDs7QUExQ2U7O2VBNkNILElBQUlmLFdBQUosRSIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvc2VydmljZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdXNlckRiU2VydmljZSBmcm9tIFwiLi4vc2VydmljZXMvZGJTZXJ2aWNlcy91c2VyRGJTZXJ2aWNlXCI7XG5pbXBvcnQgQXBwbGljYXRpb25FcnJvciBmcm9tIFwiLi4vY29tbW9uL0FwcEV4Y2VwdGlvblwiO1xuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5cbmNsYXNzIHVzZXJTZXJ2aWNlIHtcbiAgYXN5bmMgcmVnaXN0ZXIocmVxKSB7XG4gICAgbGV0IHVzZXIgPSBhd2FpdCB1c2VyRGJTZXJ2aWNlLmNoZWNrSWZVc2VyTmFtZUV4aXN0cyhyZXEudXNlck5hbWUpO1xuXG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBBcHBsaWNhdGlvbkVycm9yKFxuICAgICAgICBgVXNlcm5hbWUgJHtyZXEudXNlck5hbWV9IGFscmVhZHkgZXhpc3RzYCxcbiAgICAgICAgNDAwXG4gICAgICApO1xuICAgIH1cbiAgICB1c2VyID0gYXdhaXQgdXNlckRiU2VydmljZS5jaGVja0lmRW1haWxFeGlzdHMocmVxLmVtYWlsKTtcblxuICAgIGlmICh1c2VyKSB7XG4gICAgICB0aHJvdyBuZXcgQXBwbGljYXRpb25FcnJvcihcbiAgICAgICAgYFVzZXIgd2l0aCBlbWFpbCAke3JlcS5lbWFpbH0gYWxyZWFkeSBleGlzdHMhYCxcbiAgICAgICAgNDAwXG4gICAgICApO1xuICAgIH1cblxuICAgIHVzZXIgPSB1c2VyRGJTZXJ2aWNlLnJlZ2lzdGVyKHJlcSk7XG5cblxuICAgIHJldHVybiB1c2VyO1xuICB9XG5cbiAgYXN5bmMgbG9naW4ocmVxKSB7XG4gICAgbGV0IHVzZXIgPSBhd2FpdCB1c2VyRGJTZXJ2aWNlLmNoZWNrSWZVc2VyTmFtZUV4aXN0cyhyZXEudXNlck5hbWUpO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICB0aHJvdyBuZXcgQXBwbGljYXRpb25FcnJvcihgSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZGAsIDQwMCk7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsaWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKFxuICAgICAgcmVxLnBhc3N3b3JkLFxuICAgICAgdXNlci5wYXNzd29yZFxuICAgICk7XG4gICAgaWYgKCF2YWxpZFBhc3N3b3JkKVxuICAgICAgdGhyb3cgbmV3IEFwcGxpY2F0aW9uRXJyb3IoYEludmFsaWQgZW1haWwgb3IgcGFzc3dvcmRgLCA0MDApOyAgICBcbiAgICAgIFxuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe19pZCA6IHVzZXIuX2lkfSAsIHByb2Nlc3MuZW52LkpUV19LRVkpO1xuICAgICAgXG4gICAgcmV0dXJuIHRva2VuO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyB1c2VyU2VydmljZSgpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "userService.js"
      ],
      "names": [
        "userService",
        "register",
        "req",
        "user",
        "userDbService",
        "checkIfUserNameExists",
        "userName",
        "ApplicationError",
        "checkIfEmailExists",
        "email",
        "login",
        "validPassword",
        "bcrypt",
        "compare",
        "password",
        "token",
        "jwt",
        "sign",
        "_id",
        "process",
        "env",
        "JTW_KEY"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,WAAN,CAAkB;AAChB,QAAMC,QAAN,CAAeC,GAAf,EAAoB;AAClB,QAAIC,IAAI,GAAG,MAAMC,uBAAcC,qBAAd,CAAoCH,GAAG,CAACI,QAAxC,CAAjB;;AAEA,QAAIH,IAAJ,EAAU;AACR,YAAM,IAAII,qBAAJ,CACH,YAAWL,GAAG,CAACI,QAAS,iBADrB,EAEJ,GAFI,CAAN;AAID;;AACDH,IAAAA,IAAI,GAAG,MAAMC,uBAAcI,kBAAd,CAAiCN,GAAG,CAACO,KAArC,CAAb;;AAEA,QAAIN,IAAJ,EAAU;AACR,YAAM,IAAII,qBAAJ,CACH,mBAAkBL,GAAG,CAACO,KAAM,kBADzB,EAEJ,GAFI,CAAN;AAID;;AAEDN,IAAAA,IAAI,GAAGC,uBAAcH,QAAd,CAAuBC,GAAvB,CAAP;AAGA,WAAOC,IAAP;AACD;;AAED,QAAMO,KAAN,CAAYR,GAAZ,EAAiB;AACf,QAAIC,IAAI,GAAG,MAAMC,uBAAcC,qBAAd,CAAoCH,GAAG,CAACI,QAAxC,CAAjB;;AAEA,QAAI,CAACH,IAAL,EAAW;AACT,YAAM,IAAII,qBAAJ,CAAsB,2BAAtB,EAAkD,GAAlD,CAAN;AACD;;AAED,UAAMI,aAAa,GAAG,MAAMC,gBAAOC,OAAP,CAC1BX,GAAG,CAACY,QADsB,EAE1BX,IAAI,CAACW,QAFqB,CAA5B;AAIA,QAAI,CAACH,aAAL,EACE,MAAM,IAAIJ,qBAAJ,CAAsB,2BAAtB,EAAkD,GAAlD,CAAN;;AAEF,UAAMQ,KAAK,GAAGC,sBAAIC,IAAJ,CAAS;AAACC,MAAAA,GAAG,EAAGf,IAAI,CAACe;AAAZ,KAAT,EAA4BC,OAAO,CAACC,GAAR,CAAYC,OAAxC,CAAd;;AAEA,WAAON,KAAP;AACD;;AA1Ce;;eA6CH,IAAIf,WAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "sourcesContent": [
        "import userDbService from \"../services/dbServices/userDbService\";\nimport ApplicationError from \"../common/AppException\";\nimport bcrypt from \"bcrypt\";\nimport jwt from 'jsonwebtoken';\n\nclass userService {\n  async register(req) {\n    let user = await userDbService.checkIfUserNameExists(req.userName);\n\n    if (user) {\n      throw new ApplicationError(\n        `Username ${req.userName} already exists`,\n        400\n      );\n    }\n    user = await userDbService.checkIfEmailExists(req.email);\n\n    if (user) {\n      throw new ApplicationError(\n        `User with email ${req.email} already exists!`,\n        400\n      );\n    }\n\n    user = userDbService.register(req);\n\n\n    return user;\n  }\n\n  async login(req) {\n    let user = await userDbService.checkIfUserNameExists(req.userName);\n\n    if (!user) {\n      throw new ApplicationError(`Invalid email or password`, 400);\n    }\n\n    const validPassword = await bcrypt.compare(\n      req.password,\n      user.password\n    );\n    if (!validPassword)\n      throw new ApplicationError(`Invalid email or password`, 400);    \n      \n    const token = jwt.sign({_id : user._id} , process.env.JTW_KEY);\n      \n    return token;\n  }\n}\n\nexport default new userService();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564321048908
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/controllers/usersController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/controllers/usersController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/controllers/usersController.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/controllers/usersController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
        "sourceFileName": "usersController.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _user = require(\"../models/user\");\n\nvar _userService = _interopRequireDefault(require(\"../services/userService\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass UserController {\n  async registerUser(req, res) {\n    const {\n      error\n    } = (0, _user.validateUser)(req.body);\n    if (error) return res.status(400).send(error.details[0].message);\n    let user = await _userService.default.register(req.body);\n\n    if (user) {\n      const token = user.generateAuthToken();\n      res.header(\"x-auth-token\", token).send(_lodash.default.pick(user, [\"_id\", \"email\", \"userName\"]));\n    }\n  }\n\n  async login(req, res) {\n    const {\n      error\n    } = (0, _user.validateLogin)(req.body);\n    if (error) return res.status(400).send(error.details[0].message);\n    let result = await _userService.default.login(req.body);\n    res.status(200).json(result);\n  }\n\n}\n\nvar _default = new UserController();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJVc2VyQ29udHJvbGxlciIsInJlZ2lzdGVyVXNlciIsInJlcSIsInJlcyIsImVycm9yIiwiYm9keSIsInN0YXR1cyIsInNlbmQiLCJkZXRhaWxzIiwibWVzc2FnZSIsInVzZXIiLCJ1c2VyU2VydmljZSIsInJlZ2lzdGVyIiwidG9rZW4iLCJnZW5lcmF0ZUF1dGhUb2tlbiIsImhlYWRlciIsIl8iLCJwaWNrIiwibG9naW4iLCJyZXN1bHQiLCJqc29uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxjQUFOLENBQXFCO0FBQ25CLFFBQU1DLFlBQU4sQ0FBbUJDLEdBQW5CLEVBQXdCQyxHQUF4QixFQUE2QjtBQUMzQixVQUFNO0FBQUVDLE1BQUFBO0FBQUYsUUFBWSx3QkFBYUYsR0FBRyxDQUFDRyxJQUFqQixDQUFsQjtBQUNBLFFBQUlELEtBQUosRUFBVyxPQUFPRCxHQUFHLENBQUNHLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQkgsS0FBSyxDQUFDSSxPQUFOLENBQWMsQ0FBZCxFQUFpQkMsT0FBdEMsQ0FBUDtBQUVYLFFBQUlDLElBQUksR0FBRyxNQUFNQyxxQkFBWUMsUUFBWixDQUFxQlYsR0FBRyxDQUFDRyxJQUF6QixDQUFqQjs7QUFFQSxRQUFJSyxJQUFKLEVBQVU7QUFDUixZQUFNRyxLQUFLLEdBQUdILElBQUksQ0FBQ0ksaUJBQUwsRUFBZDtBQUNBWCxNQUFBQSxHQUFHLENBQ0FZLE1BREgsQ0FDVSxjQURWLEVBQzBCRixLQUQxQixFQUVHTixJQUZILENBRVFTLGdCQUFFQyxJQUFGLENBQU9QLElBQVAsRUFBYSxDQUFDLEtBQUQsRUFBUSxPQUFSLEVBQWlCLFVBQWpCLENBQWIsQ0FGUjtBQUdEO0FBQ0Y7O0FBRUQsUUFBTVEsS0FBTixDQUFZaEIsR0FBWixFQUFpQkMsR0FBakIsRUFBc0I7QUFDcEIsVUFBTTtBQUFFQyxNQUFBQTtBQUFGLFFBQVkseUJBQWNGLEdBQUcsQ0FBQ0csSUFBbEIsQ0FBbEI7QUFDQSxRQUFJRCxLQUFKLEVBQVcsT0FBT0QsR0FBRyxDQUFDRyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJILEtBQUssQ0FBQ0ksT0FBTixDQUFjLENBQWQsRUFBaUJDLE9BQXRDLENBQVA7QUFFWCxRQUFJVSxNQUFNLEdBQUcsTUFBTVIscUJBQVlPLEtBQVosQ0FBa0JoQixHQUFHLENBQUNHLElBQXRCLENBQW5CO0FBRUFGLElBQUFBLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JjLElBQWhCLENBQXFCRCxNQUFyQjtBQUNEOztBQXRCa0I7O2VBeUJOLElBQUluQixjQUFKLEUiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmFsaWRhdGVVc2VyLCB2YWxpZGF0ZUxvZ2luLCBVc2VyIH0gZnJvbSBcIi4uL21vZGVscy91c2VyXCI7XG5pbXBvcnQgdXNlclNlcnZpY2UgZnJvbSBcIi4uL3NlcnZpY2VzL3VzZXJTZXJ2aWNlXCI7XG5pbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XG5cbmNsYXNzIFVzZXJDb250cm9sbGVyIHtcbiAgYXN5bmMgcmVnaXN0ZXJVc2VyKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gdmFsaWRhdGVVc2VyKHJlcS5ib2R5KTtcbiAgICBpZiAoZXJyb3IpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UpO1xuXG4gICAgbGV0IHVzZXIgPSBhd2FpdCB1c2VyU2VydmljZS5yZWdpc3RlcihyZXEuYm9keSk7XG5cbiAgICBpZiAodXNlcikge1xuICAgICAgY29uc3QgdG9rZW4gPSB1c2VyLmdlbmVyYXRlQXV0aFRva2VuKCk7XG4gICAgICByZXNcbiAgICAgICAgLmhlYWRlcihcIngtYXV0aC10b2tlblwiLCB0b2tlbilcbiAgICAgICAgLnNlbmQoXy5waWNrKHVzZXIsIFtcIl9pZFwiLCBcImVtYWlsXCIsIFwidXNlck5hbWVcIl0pKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBsb2dpbihyZXEsIHJlcykge1xuICAgIGNvbnN0IHsgZXJyb3IgfSA9IHZhbGlkYXRlTG9naW4ocmVxLmJvZHkpO1xuICAgIGlmIChlcnJvcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSk7XG5cbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdXNlclNlcnZpY2UubG9naW4ocmVxLmJvZHkpO1xuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgVXNlckNvbnRyb2xsZXIoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "usersController.js"
      ],
      "names": [
        "UserController",
        "registerUser",
        "req",
        "res",
        "error",
        "body",
        "status",
        "send",
        "details",
        "message",
        "user",
        "userService",
        "register",
        "token",
        "generateAuthToken",
        "header",
        "_",
        "pick",
        "login",
        "result",
        "json"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,cAAN,CAAqB;AACnB,QAAMC,YAAN,CAAmBC,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,UAAM;AAAEC,MAAAA;AAAF,QAAY,wBAAaF,GAAG,CAACG,IAAjB,CAAlB;AACA,QAAID,KAAJ,EAAW,OAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP;AAEX,QAAIC,IAAI,GAAG,MAAMC,qBAAYC,QAAZ,CAAqBV,GAAG,CAACG,IAAzB,CAAjB;;AAEA,QAAIK,IAAJ,EAAU;AACR,YAAMG,KAAK,GAAGH,IAAI,CAACI,iBAAL,EAAd;AACAX,MAAAA,GAAG,CACAY,MADH,CACU,cADV,EAC0BF,KAD1B,EAEGN,IAFH,CAEQS,gBAAEC,IAAF,CAAOP,IAAP,EAAa,CAAC,KAAD,EAAQ,OAAR,EAAiB,UAAjB,CAAb,CAFR;AAGD;AACF;;AAED,QAAMQ,KAAN,CAAYhB,GAAZ,EAAiBC,GAAjB,EAAsB;AACpB,UAAM;AAAEC,MAAAA;AAAF,QAAY,yBAAcF,GAAG,CAACG,IAAlB,CAAlB;AACA,QAAID,KAAJ,EAAW,OAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP;AAEX,QAAIU,MAAM,GAAG,MAAMR,qBAAYO,KAAZ,CAAkBhB,GAAG,CAACG,IAAtB,CAAnB;AAEAF,IAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBc,IAAhB,CAAqBD,MAArB;AACD;;AAtBkB;;eAyBN,IAAInB,cAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "sourcesContent": [
        "import { validateUser, validateLogin, User } from \"../models/user\";\nimport userService from \"../services/userService\";\nimport _ from \"lodash\";\n\nclass UserController {\n  async registerUser(req, res) {\n    const { error } = validateUser(req.body);\n    if (error) return res.status(400).send(error.details[0].message);\n\n    let user = await userService.register(req.body);\n\n    if (user) {\n      const token = user.generateAuthToken();\n      res\n        .header(\"x-auth-token\", token)\n        .send(_.pick(user, [\"_id\", \"email\", \"userName\"]));\n    }\n  }\n\n  async login(req, res) {\n    const { error } = validateLogin(req.body);\n    if (error) return res.status(400).send(error.details[0].message);\n\n    let result = await userService.login(req.body);\n\n    res.status(200).json(result);\n  }\n}\n\nexport default new UserController();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564827144127
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/models/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/models/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/models/user.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/models/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateUser = validateUser;\nexports.validateLogin = validateLogin;\nexports.User = void 0;\n\nvar _joi = _interopRequireDefault(require(\"joi\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  fullName: {\n    type: String,\n    required: true,\n    minlength: 5,\n    maxlength: 255\n  },\n  userName: {\n    type: String,\n    required: true,\n    minlength: 5,\n    maxlength: 255,\n    unique: true\n  },\n  email: {\n    type: String,\n    required: true,\n    minlength: 5,\n    maxlength: 255,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true,\n    minlength: 5,\n    maxlength: 1024\n  }\n});\n\nuserSchema.methods.generateAuthToken = function () {\n  const token = _jsonwebtoken.default.sign({\n    _id: this._id\n  }, process.env.JTW_KEY);\n\n  return token;\n};\n\nconst User = _mongoose.default.model(\"User\", userSchema);\n\nexports.User = User;\n\nfunction validateUser(user) {\n  const schema = {\n    fullName: _joi.default.string().min(5).max(50).required(),\n    email: _joi.default.string().min(5).max(255).required().email(),\n    password: _joi.default.string().min(5).max(1024).required(),\n    userName: _joi.default.string().min(5).max(255).required()\n  };\n  return _joi.default.validate(user, schema);\n}\n\nfunction validateLogin(req) {\n  const schema = {\n    password: _joi.default.string().min(5).max(1024).required(),\n    userName: _joi.default.string().min(5).max(255).required()\n  };\n  return _joi.default.validate(req, schema);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwiZnVsbE5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiLCJ1c2VyTmFtZSIsInVuaXF1ZSIsImVtYWlsIiwicGFzc3dvcmQiLCJtZXRob2RzIiwiZ2VuZXJhdGVBdXRoVG9rZW4iLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJfaWQiLCJwcm9jZXNzIiwiZW52IiwiSlRXX0tFWSIsIlVzZXIiLCJtb2RlbCIsInZhbGlkYXRlVXNlciIsInVzZXIiLCJzY2hlbWEiLCJKb2kiLCJzdHJpbmciLCJtaW4iLCJtYXgiLCJ2YWxpZGF0ZSIsInZhbGlkYXRlTG9naW4iLCJyZXEiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQ25DQyxFQUFBQSxRQUFRLEVBQUU7QUFDUkMsSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLElBQUFBLFFBQVEsRUFBRSxJQUZGO0FBR1JDLElBQUFBLFNBQVMsRUFBRSxDQUhIO0FBSVJDLElBQUFBLFNBQVMsRUFBRTtBQUpILEdBRHlCO0FBT25DQyxFQUFBQSxRQUFRLEVBQUU7QUFDUkwsSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLElBQUFBLFFBQVEsRUFBRSxJQUZGO0FBR1JDLElBQUFBLFNBQVMsRUFBRSxDQUhIO0FBSVJDLElBQUFBLFNBQVMsRUFBRSxHQUpIO0FBS1JFLElBQUFBLE1BQU0sRUFBRTtBQUxBLEdBUHlCO0FBY25DQyxFQUFBQSxLQUFLLEVBQUU7QUFDTFAsSUFBQUEsSUFBSSxFQUFFQyxNQUREO0FBRUxDLElBQUFBLFFBQVEsRUFBRSxJQUZMO0FBR0xDLElBQUFBLFNBQVMsRUFBRSxDQUhOO0FBSUxDLElBQUFBLFNBQVMsRUFBRSxHQUpOO0FBS0xFLElBQUFBLE1BQU0sRUFBRTtBQUxILEdBZDRCO0FBcUJuQ0UsRUFBQUEsUUFBUSxFQUFFO0FBQ1JSLElBQUFBLElBQUksRUFBRUMsTUFERTtBQUVSQyxJQUFBQSxRQUFRLEVBQUUsSUFGRjtBQUdSQyxJQUFBQSxTQUFTLEVBQUUsQ0FISDtBQUlSQyxJQUFBQSxTQUFTLEVBQUU7QUFKSDtBQXJCeUIsQ0FBcEIsQ0FBbkI7O0FBNkJBUixVQUFVLENBQUNhLE9BQVgsQ0FBbUJDLGlCQUFuQixHQUF1QyxZQUFZO0FBQy9DLFFBQU1DLEtBQUssR0FBR0Msc0JBQUlDLElBQUosQ0FBUztBQUFFQyxJQUFBQSxHQUFHLEVBQUUsS0FBS0E7QUFBWixHQUFULEVBQTRCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsT0FBeEMsQ0FBZDs7QUFDQSxTQUFPTixLQUFQO0FBQ0gsQ0FIRDs7QUFLTyxNQUFNTyxJQUFJLEdBQUdyQixrQkFBU3NCLEtBQVQsQ0FDbEIsTUFEa0IsRUFFakJ2QixVQUZpQixDQUFiOzs7O0FBS0EsU0FBU3dCLFlBQVQsQ0FBc0JDLElBQXRCLEVBQTRCO0FBQ2pDLFFBQU1DLE1BQU0sR0FBRztBQUNidkIsSUFBQUEsUUFBUSxFQUFFd0IsYUFBSUMsTUFBSixHQUNQQyxHQURPLENBQ0gsQ0FERyxFQUVQQyxHQUZPLENBRUgsRUFGRyxFQUdQeEIsUUFITyxFQURHO0FBS2JLLElBQUFBLEtBQUssRUFBRWdCLGFBQUlDLE1BQUosR0FDSkMsR0FESSxDQUNBLENBREEsRUFFSkMsR0FGSSxDQUVBLEdBRkEsRUFHSnhCLFFBSEksR0FJSkssS0FKSSxFQUxNO0FBVWJDLElBQUFBLFFBQVEsRUFBRWUsYUFBSUMsTUFBSixHQUNQQyxHQURPLENBQ0gsQ0FERyxFQUVQQyxHQUZPLENBRUgsSUFGRyxFQUdQeEIsUUFITyxFQVZHO0FBY2JHLElBQUFBLFFBQVEsRUFBRWtCLGFBQUlDLE1BQUosR0FDUEMsR0FETyxDQUNILENBREcsRUFFUEMsR0FGTyxDQUVILEdBRkcsRUFHUHhCLFFBSE87QUFkRyxHQUFmO0FBb0JBLFNBQU9xQixhQUFJSSxRQUFKLENBQWFOLElBQWIsRUFBbUJDLE1BQW5CLENBQVA7QUFDRDs7QUFFTyxTQUFTTSxhQUFULENBQXVCQyxHQUF2QixFQUE0QjtBQUNsQyxRQUFNUCxNQUFNLEdBQUc7QUFDYmQsSUFBQUEsUUFBUSxFQUFFZSxhQUFJQyxNQUFKLEdBQ1BDLEdBRE8sQ0FDSCxDQURHLEVBRVBDLEdBRk8sQ0FFSCxJQUZHLEVBR1B4QixRQUhPLEVBREc7QUFLYkcsSUFBQUEsUUFBUSxFQUFFa0IsYUFBSUMsTUFBSixHQUNQQyxHQURPLENBQ0gsQ0FERyxFQUVQQyxHQUZPLENBRUgsR0FGRyxFQUdQeEIsUUFITztBQUxHLEdBQWY7QUFVQSxTQUFPcUIsYUFBSUksUUFBSixDQUFhRSxHQUFiLEVBQWtCUCxNQUFsQixDQUFQO0FBQ0QiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKb2kgZnJvbSBcImpvaVwiO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgZnVsbE5hbWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgbWlubGVuZ3RoOiA1LFxuICAgICAgbWF4bGVuZ3RoOiAyNTVcbiAgICB9LFxuICAgIHVzZXJOYW1lOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIG1pbmxlbmd0aDogNSxcbiAgICAgIG1heGxlbmd0aDogMjU1LFxuICAgICAgdW5pcXVlOiB0cnVlXG4gICAgfSxcbiAgICBlbWFpbDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICBtaW5sZW5ndGg6IDUsXG4gICAgICBtYXhsZW5ndGg6IDI1NSxcbiAgICAgIHVuaXF1ZTogdHJ1ZVxuICAgIH0sXG4gICAgcGFzc3dvcmQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgbWlubGVuZ3RoOiA1LFxuICAgICAgbWF4bGVuZ3RoOiAxMDI0XG4gICAgfVxuICB9KTtcblxudXNlclNjaGVtYS5tZXRob2RzLmdlbmVyYXRlQXV0aFRva2VuID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyBfaWQ6IHRoaXMuX2lkIH0sIHByb2Nlc3MuZW52LkpUV19LRVkpO1xuICAgIHJldHVybiB0b2tlbjtcbn1cblxuZXhwb3J0IGNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbChcbiAgXCJVc2VyXCIsXG4gICB1c2VyU2NoZW1hXG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVVc2VyKHVzZXIpIHtcbiAgY29uc3Qgc2NoZW1hID0ge1xuICAgIGZ1bGxOYW1lOiBKb2kuc3RyaW5nKClcbiAgICAgIC5taW4oNSlcbiAgICAgIC5tYXgoNTApXG4gICAgICAucmVxdWlyZWQoKSxcbiAgICBlbWFpbDogSm9pLnN0cmluZygpXG4gICAgICAubWluKDUpXG4gICAgICAubWF4KDI1NSlcbiAgICAgIC5yZXF1aXJlZCgpXG4gICAgICAuZW1haWwoKSxcbiAgICBwYXNzd29yZDogSm9pLnN0cmluZygpXG4gICAgICAubWluKDUpXG4gICAgICAubWF4KDEwMjQpXG4gICAgICAucmVxdWlyZWQoKSxcbiAgICB1c2VyTmFtZTogSm9pLnN0cmluZygpXG4gICAgICAubWluKDUpXG4gICAgICAubWF4KDI1NSlcbiAgICAgIC5yZXF1aXJlZCgpXG4gIH07XG5cbiAgcmV0dXJuIEpvaS52YWxpZGF0ZSh1c2VyLCBzY2hlbWEpO1xufVxuXG5leHBvcnQgIGZ1bmN0aW9uIHZhbGlkYXRlTG9naW4ocmVxKSB7XG4gIGNvbnN0IHNjaGVtYSA9IHtcbiAgICBwYXNzd29yZDogSm9pLnN0cmluZygpXG4gICAgICAubWluKDUpXG4gICAgICAubWF4KDEwMjQpXG4gICAgICAucmVxdWlyZWQoKSxcbiAgICB1c2VyTmFtZTogSm9pLnN0cmluZygpXG4gICAgICAubWluKDUpXG4gICAgICAubWF4KDI1NSlcbiAgICAgIC5yZXF1aXJlZCgpXG4gIH07XG4gIHJldHVybiBKb2kudmFsaWRhdGUocmVxLCBzY2hlbWEpO1xufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "fullName",
        "type",
        "String",
        "required",
        "minlength",
        "maxlength",
        "userName",
        "unique",
        "email",
        "password",
        "methods",
        "generateAuthToken",
        "token",
        "jwt",
        "sign",
        "_id",
        "process",
        "env",
        "JTW_KEY",
        "User",
        "model",
        "validateUser",
        "user",
        "schema",
        "Joi",
        "string",
        "min",
        "max",
        "validate",
        "validateLogin",
        "req"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACnCC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE,IAFF;AAGRC,IAAAA,SAAS,EAAE,CAHH;AAIRC,IAAAA,SAAS,EAAE;AAJH,GADyB;AAOnCC,EAAAA,QAAQ,EAAE;AACRL,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE,IAFF;AAGRC,IAAAA,SAAS,EAAE,CAHH;AAIRC,IAAAA,SAAS,EAAE,GAJH;AAKRE,IAAAA,MAAM,EAAE;AALA,GAPyB;AAcnCC,EAAAA,KAAK,EAAE;AACLP,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE,IAFL;AAGLC,IAAAA,SAAS,EAAE,CAHN;AAILC,IAAAA,SAAS,EAAE,GAJN;AAKLE,IAAAA,MAAM,EAAE;AALH,GAd4B;AAqBnCE,EAAAA,QAAQ,EAAE;AACRR,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE,IAFF;AAGRC,IAAAA,SAAS,EAAE,CAHH;AAIRC,IAAAA,SAAS,EAAE;AAJH;AArByB,CAApB,CAAnB;;AA6BAR,UAAU,CAACa,OAAX,CAAmBC,iBAAnB,GAAuC,YAAY;AAC/C,QAAMC,KAAK,GAAGC,sBAAIC,IAAJ,CAAS;AAAEC,IAAAA,GAAG,EAAE,KAAKA;AAAZ,GAAT,EAA4BC,OAAO,CAACC,GAAR,CAAYC,OAAxC,CAAd;;AACA,SAAON,KAAP;AACH,CAHD;;AAKO,MAAMO,IAAI,GAAGrB,kBAASsB,KAAT,CAClB,MADkB,EAEjBvB,UAFiB,CAAb;;;;AAKA,SAASwB,YAAT,CAAsBC,IAAtB,EAA4B;AACjC,QAAMC,MAAM,GAAG;AACbvB,IAAAA,QAAQ,EAAEwB,aAAIC,MAAJ,GACPC,GADO,CACH,CADG,EAEPC,GAFO,CAEH,EAFG,EAGPxB,QAHO,EADG;AAKbK,IAAAA,KAAK,EAAEgB,aAAIC,MAAJ,GACJC,GADI,CACA,CADA,EAEJC,GAFI,CAEA,GAFA,EAGJxB,QAHI,GAIJK,KAJI,EALM;AAUbC,IAAAA,QAAQ,EAAEe,aAAIC,MAAJ,GACPC,GADO,CACH,CADG,EAEPC,GAFO,CAEH,IAFG,EAGPxB,QAHO,EAVG;AAcbG,IAAAA,QAAQ,EAAEkB,aAAIC,MAAJ,GACPC,GADO,CACH,CADG,EAEPC,GAFO,CAEH,GAFG,EAGPxB,QAHO;AAdG,GAAf;AAoBA,SAAOqB,aAAII,QAAJ,CAAaN,IAAb,EAAmBC,MAAnB,CAAP;AACD;;AAEO,SAASM,aAAT,CAAuBC,GAAvB,EAA4B;AAClC,QAAMP,MAAM,GAAG;AACbd,IAAAA,QAAQ,EAAEe,aAAIC,MAAJ,GACPC,GADO,CACH,CADG,EAEPC,GAFO,CAEH,IAFG,EAGPxB,QAHO,EADG;AAKbG,IAAAA,QAAQ,EAAEkB,aAAIC,MAAJ,GACPC,GADO,CACH,CADG,EAEPC,GAFO,CAEH,GAFG,EAGPxB,QAHO;AALG,GAAf;AAUA,SAAOqB,aAAII,QAAJ,CAAaE,GAAb,EAAkBP,MAAlB,CAAP;AACD",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "sourcesContent": [
        "import Joi from \"joi\";\nimport mongoose from \"mongoose\";\nimport jwt from 'jsonwebtoken';\n\nconst userSchema = new mongoose.Schema({\n    fullName: {\n      type: String,\n      required: true,\n      minlength: 5,\n      maxlength: 255\n    },\n    userName: {\n      type: String,\n      required: true,\n      minlength: 5,\n      maxlength: 255,\n      unique: true\n    },\n    email: {\n      type: String,\n      required: true,\n      minlength: 5,\n      maxlength: 255,\n      unique: true\n    },\n    password: {\n      type: String,\n      required: true,\n      minlength: 5,\n      maxlength: 1024\n    }\n  });\n\nuserSchema.methods.generateAuthToken = function () {\n    const token = jwt.sign({ _id: this._id }, process.env.JTW_KEY);\n    return token;\n}\n\nexport const User = mongoose.model(\n  \"User\",\n   userSchema\n);\n\nexport function validateUser(user) {\n  const schema = {\n    fullName: Joi.string()\n      .min(5)\n      .max(50)\n      .required(),\n    email: Joi.string()\n      .min(5)\n      .max(255)\n      .required()\n      .email(),\n    password: Joi.string()\n      .min(5)\n      .max(1024)\n      .required(),\n    userName: Joi.string()\n      .min(5)\n      .max(255)\n      .required()\n  };\n\n  return Joi.validate(user, schema);\n}\n\nexport  function validateLogin(req) {\n  const schema = {\n    password: Joi.string()\n      .min(5)\n      .max(1024)\n      .required(),\n    userName: Joi.string()\n      .min(5)\n      .max(255)\n      .required()\n  };\n  return Joi.validate(req, schema);\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564319213021
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/userService.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/userService.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/userService.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/userService.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
        "sourceFileName": "userService.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _userDbService = _interopRequireDefault(require(\"../services/dbServices/userDbService\"));\n\nvar _AppException = _interopRequireDefault(require(\"../common/AppException\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass userService {\n  async register(req) {\n    let user = await _userDbService.default.checkIfUserNameExists(req.userName);\n\n    if (user) {\n      throw new _AppException.default(`Username ${req.userName} already exists`, 400);\n    }\n\n    user = await _userDbService.default.checkIfEmailExists(req.email);\n\n    if (user) {\n      throw new _AppException.default(`User with email ${req.email} already exists!`, 400);\n    }\n\n    user = _userDbService.default.register(req);\n    return user;\n  }\n\n  async login(req) {\n    let user = await _userDbService.default.checkIfUserNameExists(req.userName);\n\n    if (!user) {\n      throw new _AppException.default(`Invalid email or password`, 400);\n    }\n\n    const validPassword = await _bcrypt.default.compare(req.password, user.password);\n    if (!validPassword) throw new _AppException.default(`Invalid email or password`, 400);\n\n    const token = _jsonwebtoken.default.sign({\n      _id: user._id\n    }, process.env.JTW_KEY);\n\n    return token;\n  }\n\n}\n\nvar _default = new userService();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbInVzZXJTZXJ2aWNlIiwicmVnaXN0ZXIiLCJyZXEiLCJ1c2VyIiwidXNlckRiU2VydmljZSIsImNoZWNrSWZVc2VyTmFtZUV4aXN0cyIsInVzZXJOYW1lIiwiQXBwbGljYXRpb25FcnJvciIsImNoZWNrSWZFbWFpbEV4aXN0cyIsImVtYWlsIiwibG9naW4iLCJ2YWxpZFBhc3N3b3JkIiwiYmNyeXB0IiwiY29tcGFyZSIsInBhc3N3b3JkIiwidG9rZW4iLCJqd3QiLCJzaWduIiwiX2lkIiwicHJvY2VzcyIsImVudiIsIkpUV19LRVkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFdBQU4sQ0FBa0I7QUFDaEIsUUFBTUMsUUFBTixDQUFlQyxHQUFmLEVBQW9CO0FBQ2xCLFFBQUlDLElBQUksR0FBRyxNQUFNQyx1QkFBY0MscUJBQWQsQ0FBb0NILEdBQUcsQ0FBQ0ksUUFBeEMsQ0FBakI7O0FBRUEsUUFBSUgsSUFBSixFQUFVO0FBQ1IsWUFBTSxJQUFJSSxxQkFBSixDQUNILFlBQVdMLEdBQUcsQ0FBQ0ksUUFBUyxpQkFEckIsRUFFSixHQUZJLENBQU47QUFJRDs7QUFDREgsSUFBQUEsSUFBSSxHQUFHLE1BQU1DLHVCQUFjSSxrQkFBZCxDQUFpQ04sR0FBRyxDQUFDTyxLQUFyQyxDQUFiOztBQUVBLFFBQUlOLElBQUosRUFBVTtBQUNSLFlBQU0sSUFBSUkscUJBQUosQ0FDSCxtQkFBa0JMLEdBQUcsQ0FBQ08sS0FBTSxrQkFEekIsRUFFSixHQUZJLENBQU47QUFJRDs7QUFFRE4sSUFBQUEsSUFBSSxHQUFHQyx1QkFBY0gsUUFBZCxDQUF1QkMsR0FBdkIsQ0FBUDtBQUdBLFdBQU9DLElBQVA7QUFDRDs7QUFFRCxRQUFNTyxLQUFOLENBQVlSLEdBQVosRUFBaUI7QUFDZixRQUFJQyxJQUFJLEdBQUcsTUFBTUMsdUJBQWNDLHFCQUFkLENBQW9DSCxHQUFHLENBQUNJLFFBQXhDLENBQWpCOztBQUVBLFFBQUksQ0FBQ0gsSUFBTCxFQUFXO0FBQ1QsWUFBTSxJQUFJSSxxQkFBSixDQUFzQiwyQkFBdEIsRUFBa0QsR0FBbEQsQ0FBTjtBQUNEOztBQUVELFVBQU1JLGFBQWEsR0FBRyxNQUFNQyxnQkFBT0MsT0FBUCxDQUMxQlgsR0FBRyxDQUFDWSxRQURzQixFQUUxQlgsSUFBSSxDQUFDVyxRQUZxQixDQUE1QjtBQUlBLFFBQUksQ0FBQ0gsYUFBTCxFQUNFLE1BQU0sSUFBSUoscUJBQUosQ0FBc0IsMkJBQXRCLEVBQWtELEdBQWxELENBQU47O0FBRUYsVUFBTVEsS0FBSyxHQUFHQyxzQkFBSUMsSUFBSixDQUFTO0FBQUNDLE1BQUFBLEdBQUcsRUFBR2YsSUFBSSxDQUFDZTtBQUFaLEtBQVQsRUFBNEJDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxPQUF4QyxDQUFkOztBQUVBLFdBQU9OLEtBQVA7QUFDRDs7QUExQ2U7O2VBNkNILElBQUlmLFdBQUosRSIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvc2VydmljZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdXNlckRiU2VydmljZSBmcm9tIFwiLi4vc2VydmljZXMvZGJTZXJ2aWNlcy91c2VyRGJTZXJ2aWNlXCI7XG5pbXBvcnQgQXBwbGljYXRpb25FcnJvciBmcm9tIFwiLi4vY29tbW9uL0FwcEV4Y2VwdGlvblwiO1xuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5cbmNsYXNzIHVzZXJTZXJ2aWNlIHtcbiAgYXN5bmMgcmVnaXN0ZXIocmVxKSB7XG4gICAgbGV0IHVzZXIgPSBhd2FpdCB1c2VyRGJTZXJ2aWNlLmNoZWNrSWZVc2VyTmFtZUV4aXN0cyhyZXEudXNlck5hbWUpO1xuXG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBBcHBsaWNhdGlvbkVycm9yKFxuICAgICAgICBgVXNlcm5hbWUgJHtyZXEudXNlck5hbWV9IGFscmVhZHkgZXhpc3RzYCxcbiAgICAgICAgNDAwXG4gICAgICApO1xuICAgIH1cbiAgICB1c2VyID0gYXdhaXQgdXNlckRiU2VydmljZS5jaGVja0lmRW1haWxFeGlzdHMocmVxLmVtYWlsKTtcblxuICAgIGlmICh1c2VyKSB7XG4gICAgICB0aHJvdyBuZXcgQXBwbGljYXRpb25FcnJvcihcbiAgICAgICAgYFVzZXIgd2l0aCBlbWFpbCAke3JlcS5lbWFpbH0gYWxyZWFkeSBleGlzdHMhYCxcbiAgICAgICAgNDAwXG4gICAgICApO1xuICAgIH1cblxuICAgIHVzZXIgPSB1c2VyRGJTZXJ2aWNlLnJlZ2lzdGVyKHJlcSk7XG5cblxuICAgIHJldHVybiB1c2VyO1xuICB9XG5cbiAgYXN5bmMgbG9naW4ocmVxKSB7XG4gICAgbGV0IHVzZXIgPSBhd2FpdCB1c2VyRGJTZXJ2aWNlLmNoZWNrSWZVc2VyTmFtZUV4aXN0cyhyZXEudXNlck5hbWUpO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICB0aHJvdyBuZXcgQXBwbGljYXRpb25FcnJvcihgSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZGAsIDQwMCk7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsaWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKFxuICAgICAgcmVxLnBhc3N3b3JkLFxuICAgICAgdXNlci5wYXNzd29yZFxuICAgICk7XG4gICAgaWYgKCF2YWxpZFBhc3N3b3JkKVxuICAgICAgdGhyb3cgbmV3IEFwcGxpY2F0aW9uRXJyb3IoYEludmFsaWQgZW1haWwgb3IgcGFzc3dvcmRgLCA0MDApOyAgICBcbiAgICAgIFxuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe19pZCA6IHVzZXIuX2lkfSAsIHByb2Nlc3MuZW52LkpUV19LRVkpO1xuICAgICAgXG4gICAgcmV0dXJuIHRva2VuO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyB1c2VyU2VydmljZSgpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "userService.js"
      ],
      "names": [
        "userService",
        "register",
        "req",
        "user",
        "userDbService",
        "checkIfUserNameExists",
        "userName",
        "ApplicationError",
        "checkIfEmailExists",
        "email",
        "login",
        "validPassword",
        "bcrypt",
        "compare",
        "password",
        "token",
        "jwt",
        "sign",
        "_id",
        "process",
        "env",
        "JTW_KEY"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,WAAN,CAAkB;AAChB,QAAMC,QAAN,CAAeC,GAAf,EAAoB;AAClB,QAAIC,IAAI,GAAG,MAAMC,uBAAcC,qBAAd,CAAoCH,GAAG,CAACI,QAAxC,CAAjB;;AAEA,QAAIH,IAAJ,EAAU;AACR,YAAM,IAAII,qBAAJ,CACH,YAAWL,GAAG,CAACI,QAAS,iBADrB,EAEJ,GAFI,CAAN;AAID;;AACDH,IAAAA,IAAI,GAAG,MAAMC,uBAAcI,kBAAd,CAAiCN,GAAG,CAACO,KAArC,CAAb;;AAEA,QAAIN,IAAJ,EAAU;AACR,YAAM,IAAII,qBAAJ,CACH,mBAAkBL,GAAG,CAACO,KAAM,kBADzB,EAEJ,GAFI,CAAN;AAID;;AAEDN,IAAAA,IAAI,GAAGC,uBAAcH,QAAd,CAAuBC,GAAvB,CAAP;AAGA,WAAOC,IAAP;AACD;;AAED,QAAMO,KAAN,CAAYR,GAAZ,EAAiB;AACf,QAAIC,IAAI,GAAG,MAAMC,uBAAcC,qBAAd,CAAoCH,GAAG,CAACI,QAAxC,CAAjB;;AAEA,QAAI,CAACH,IAAL,EAAW;AACT,YAAM,IAAII,qBAAJ,CAAsB,2BAAtB,EAAkD,GAAlD,CAAN;AACD;;AAED,UAAMI,aAAa,GAAG,MAAMC,gBAAOC,OAAP,CAC1BX,GAAG,CAACY,QADsB,EAE1BX,IAAI,CAACW,QAFqB,CAA5B;AAIA,QAAI,CAACH,aAAL,EACE,MAAM,IAAIJ,qBAAJ,CAAsB,2BAAtB,EAAkD,GAAlD,CAAN;;AAEF,UAAMQ,KAAK,GAAGC,sBAAIC,IAAJ,CAAS;AAACC,MAAAA,GAAG,EAAGf,IAAI,CAACe;AAAZ,KAAT,EAA4BC,OAAO,CAACC,GAAR,CAAYC,OAAxC,CAAd;;AAEA,WAAON,KAAP;AACD;;AA1Ce;;eA6CH,IAAIf,WAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "sourcesContent": [
        "import userDbService from \"../services/dbServices/userDbService\";\nimport ApplicationError from \"../common/AppException\";\nimport bcrypt from \"bcrypt\";\nimport jwt from 'jsonwebtoken';\n\nclass userService {\n  async register(req) {\n    let user = await userDbService.checkIfUserNameExists(req.userName);\n\n    if (user) {\n      throw new ApplicationError(\n        `Username ${req.userName} already exists`,\n        400\n      );\n    }\n    user = await userDbService.checkIfEmailExists(req.email);\n\n    if (user) {\n      throw new ApplicationError(\n        `User with email ${req.email} already exists!`,\n        400\n      );\n    }\n\n    user = userDbService.register(req);\n\n\n    return user;\n  }\n\n  async login(req) {\n    let user = await userDbService.checkIfUserNameExists(req.userName);\n\n    if (!user) {\n      throw new ApplicationError(`Invalid email or password`, 400);\n    }\n\n    const validPassword = await bcrypt.compare(\n      req.password,\n      user.password\n    );\n    if (!validPassword)\n      throw new ApplicationError(`Invalid email or password`, 400);    \n      \n    const token = jwt.sign({_id : user._id} , process.env.JTW_KEY);\n      \n    return token;\n  }\n}\n\nexport default new userService();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564321048908
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services/dbServices\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/dbServices/userDbService.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/userDbService.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/dbServices/userDbService.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/userDbService.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
        "sourceFileName": "userDbService.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _user = require(\"../../models/user\");\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass userDbService {\n  checkIfEmailExists(email) {\n    return new Promise((resolve, reject) => {\n      _user.User.findOne({\n        email: email\n      }).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  checkIfUserNameExists(userName) {\n    return new Promise((resolve, reject) => {\n      _user.User.findOne({\n        userName: userName\n      }).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  async register(user) {\n    const salt = await _bcrypt.default.genSalt(parseInt(process.env.SALT_ROUNDS));\n    const hashedPassword = await _bcrypt.default.hash(user.password, salt);\n    return new Promise((resolve, reject) => {\n      const userObj = new _user.User({\n        fullName: user.fullName,\n        email: user.email,\n        password: hashedPassword,\n        userName: user.userName\n      });\n      userObj.save().then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  findUserById(userId) {\n    return new Promise((resolve, reject) => {\n      _user.User.findById(userId).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n}\n\nvar _default = new userDbService();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJEYlNlcnZpY2UuanMiXSwibmFtZXMiOlsidXNlckRiU2VydmljZSIsImNoZWNrSWZFbWFpbEV4aXN0cyIsImVtYWlsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJVc2VyIiwiZmluZE9uZSIsInRoZW4iLCJyIiwiY2F0Y2giLCJlcnIiLCJjaGVja0lmVXNlck5hbWVFeGlzdHMiLCJ1c2VyTmFtZSIsInJlZ2lzdGVyIiwidXNlciIsInNhbHQiLCJiY3J5cHQiLCJnZW5TYWx0IiwicGFyc2VJbnQiLCJwcm9jZXNzIiwiZW52IiwiU0FMVF9ST1VORFMiLCJoYXNoZWRQYXNzd29yZCIsImhhc2giLCJwYXNzd29yZCIsInVzZXJPYmoiLCJmdWxsTmFtZSIsInNhdmUiLCJmaW5kVXNlckJ5SWQiLCJ1c2VySWQiLCJmaW5kQnlJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBQ0EsTUFBTUEsYUFBTixDQUFvQjtBQUNsQkMsRUFBQUEsa0JBQWtCLENBQUNDLEtBQUQsRUFBUTtBQUN4QixXQUFPLElBQUlDLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDdENDLGlCQUFLQyxPQUFMLENBQWE7QUFBRUwsUUFBQUEsS0FBSyxFQUFFQTtBQUFULE9BQWIsRUFDR00sSUFESCxDQUNRQyxDQUFDLElBQUlMLE9BQU8sQ0FBQ0ssQ0FBRCxDQURwQixFQUVHQyxLQUZILENBRVNDLEdBQUcsSUFBSU4sTUFBTSxDQUFDTSxHQUFELENBRnRCO0FBR0QsS0FKTSxDQUFQO0FBS0Q7O0FBRURDLEVBQUFBLHFCQUFxQixDQUFDQyxRQUFELEVBQVc7QUFDOUIsV0FBTyxJQUFJVixPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3RDQyxpQkFBS0MsT0FBTCxDQUFhO0FBQUVNLFFBQUFBLFFBQVEsRUFBRUE7QUFBWixPQUFiLEVBQ0dMLElBREgsQ0FDUUMsQ0FBQyxJQUFJTCxPQUFPLENBQUNLLENBQUQsQ0FEcEIsRUFFR0MsS0FGSCxDQUVTQyxHQUFHLElBQUlOLE1BQU0sQ0FBQ00sR0FBRCxDQUZ0QjtBQUdELEtBSk0sQ0FBUDtBQUtEOztBQUNELFFBQU1HLFFBQU4sQ0FBZUMsSUFBZixFQUFxQjtBQUNuQixVQUFNQyxJQUFJLEdBQUcsTUFBTUMsZ0JBQU9DLE9BQVAsQ0FBZUMsUUFBUSxDQUFDQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FBYixDQUF2QixDQUFuQjtBQUNBLFVBQU1DLGNBQWMsR0FBRyxNQUFNTixnQkFBT08sSUFBUCxDQUFZVCxJQUFJLENBQUNVLFFBQWpCLEVBQTJCVCxJQUEzQixDQUE3QjtBQUNBLFdBQU8sSUFBSWIsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0QyxZQUFNcUIsT0FBTyxHQUFHLElBQUlwQixVQUFKLENBQVM7QUFDdkJxQixRQUFBQSxRQUFRLEVBQUVaLElBQUksQ0FBQ1ksUUFEUTtBQUV2QnpCLFFBQUFBLEtBQUssRUFBRWEsSUFBSSxDQUFDYixLQUZXO0FBR3ZCdUIsUUFBQUEsUUFBUSxFQUFFRixjQUhhO0FBSXZCVixRQUFBQSxRQUFRLEVBQUVFLElBQUksQ0FBQ0Y7QUFKUSxPQUFULENBQWhCO0FBTUFhLE1BQUFBLE9BQU8sQ0FDSkUsSUFESCxHQUVHcEIsSUFGSCxDQUVRQyxDQUFDLElBQUlMLE9BQU8sQ0FBQ0ssQ0FBRCxDQUZwQixFQUdHQyxLQUhILENBR1NDLEdBQUcsSUFBSU4sTUFBTSxDQUFDTSxHQUFELENBSHRCO0FBSUQsS0FYTSxDQUFQO0FBWUQ7O0FBRURrQixFQUFBQSxZQUFZLENBQUNDLE1BQUQsRUFBUztBQUNuQixXQUFPLElBQUkzQixPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3RDQyxpQkFBS3lCLFFBQUwsQ0FBY0QsTUFBZCxFQUNHdEIsSUFESCxDQUNRQyxDQUFDLElBQUlMLE9BQU8sQ0FBQ0ssQ0FBRCxDQURwQixFQUVHQyxLQUZILENBRVNDLEdBQUcsSUFBSU4sTUFBTSxDQUFDTSxHQUFELENBRnRCO0FBR0QsS0FKTSxDQUFQO0FBS0Q7O0FBdkNpQjs7ZUEwQ0wsSUFBSVgsYUFBSixFIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9zZXJ2aWNlcy9kYlNlcnZpY2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlciB9IGZyb20gXCIuLi8uLi9tb2RlbHMvdXNlclwiO1xuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XG5jbGFzcyB1c2VyRGJTZXJ2aWNlIHtcbiAgY2hlY2tJZkVtYWlsRXhpc3RzKGVtYWlsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIFVzZXIuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KVxuICAgICAgICAudGhlbihyID0+IHJlc29sdmUocikpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9XG5cbiAgY2hlY2tJZlVzZXJOYW1lRXhpc3RzKHVzZXJOYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIFVzZXIuZmluZE9uZSh7IHVzZXJOYW1lOiB1c2VyTmFtZSB9KVxuICAgICAgICAudGhlbihyID0+IHJlc29sdmUocikpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIHJlZ2lzdGVyKHVzZXIpIHtcbiAgICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQocGFyc2VJbnQocHJvY2Vzcy5lbnYuU0FMVF9ST1VORFMpKTtcbiAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHVzZXIucGFzc3dvcmQsIHNhbHQpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB1c2VyT2JqID0gbmV3IFVzZXIoe1xuICAgICAgICBmdWxsTmFtZTogdXNlci5mdWxsTmFtZSxcbiAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCxcbiAgICAgICAgdXNlck5hbWU6IHVzZXIudXNlck5hbWVcbiAgICAgIH0pO1xuICAgICAgdXNlck9ialxuICAgICAgICAuc2F2ZSgpXG4gICAgICAgIC50aGVuKHIgPT4gcmVzb2x2ZShyKSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XG4gICAgfSk7XG4gIH1cblxuICBmaW5kVXNlckJ5SWQodXNlcklkKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIFVzZXIuZmluZEJ5SWQodXNlcklkKVxuICAgICAgICAudGhlbihyID0+IHJlc29sdmUocikpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyB1c2VyRGJTZXJ2aWNlKCk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userDbService.js"
      ],
      "names": [
        "userDbService",
        "checkIfEmailExists",
        "email",
        "Promise",
        "resolve",
        "reject",
        "User",
        "findOne",
        "then",
        "r",
        "catch",
        "err",
        "checkIfUserNameExists",
        "userName",
        "register",
        "user",
        "salt",
        "bcrypt",
        "genSalt",
        "parseInt",
        "process",
        "env",
        "SALT_ROUNDS",
        "hashedPassword",
        "hash",
        "password",
        "userObj",
        "fullName",
        "save",
        "findUserById",
        "userId",
        "findById"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,aAAN,CAAoB;AAClBC,EAAAA,kBAAkB,CAACC,KAAD,EAAQ;AACxB,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,iBAAKC,OAAL,CAAa;AAAEL,QAAAA,KAAK,EAAEA;AAAT,OAAb,EACGM,IADH,CACQC,CAAC,IAAIL,OAAO,CAACK,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIN,MAAM,CAACM,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AAEDC,EAAAA,qBAAqB,CAACC,QAAD,EAAW;AAC9B,WAAO,IAAIV,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,iBAAKC,OAAL,CAAa;AAAEM,QAAAA,QAAQ,EAAEA;AAAZ,OAAb,EACGL,IADH,CACQC,CAAC,IAAIL,OAAO,CAACK,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIN,MAAM,CAACM,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AACD,QAAMG,QAAN,CAAeC,IAAf,EAAqB;AACnB,UAAMC,IAAI,GAAG,MAAMC,gBAAOC,OAAP,CAAeC,QAAQ,CAACC,OAAO,CAACC,GAAR,CAAYC,WAAb,CAAvB,CAAnB;AACA,UAAMC,cAAc,GAAG,MAAMN,gBAAOO,IAAP,CAAYT,IAAI,CAACU,QAAjB,EAA2BT,IAA3B,CAA7B;AACA,WAAO,IAAIb,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,YAAMqB,OAAO,GAAG,IAAIpB,UAAJ,CAAS;AACvBqB,QAAAA,QAAQ,EAAEZ,IAAI,CAACY,QADQ;AAEvBzB,QAAAA,KAAK,EAAEa,IAAI,CAACb,KAFW;AAGvBuB,QAAAA,QAAQ,EAAEF,cAHa;AAIvBV,QAAAA,QAAQ,EAAEE,IAAI,CAACF;AAJQ,OAAT,CAAhB;AAMAa,MAAAA,OAAO,CACJE,IADH,GAEGpB,IAFH,CAEQC,CAAC,IAAIL,OAAO,CAACK,CAAD,CAFpB,EAGGC,KAHH,CAGSC,GAAG,IAAIN,MAAM,CAACM,GAAD,CAHtB;AAID,KAXM,CAAP;AAYD;;AAEDkB,EAAAA,YAAY,CAACC,MAAD,EAAS;AACnB,WAAO,IAAI3B,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,iBAAKyB,QAAL,CAAcD,MAAd,EACGtB,IADH,CACQC,CAAC,IAAIL,OAAO,CAACK,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIN,MAAM,CAACM,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AAvCiB;;eA0CL,IAAIX,aAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "sourcesContent": [
        "import { User } from \"../../models/user\";\nimport bcrypt from \"bcrypt\";\nclass userDbService {\n  checkIfEmailExists(email) {\n    return new Promise((resolve, reject) => {\n      User.findOne({ email: email })\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  checkIfUserNameExists(userName) {\n    return new Promise((resolve, reject) => {\n      User.findOne({ userName: userName })\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n  async register(user) {\n    const salt = await bcrypt.genSalt(parseInt(process.env.SALT_ROUNDS));\n    const hashedPassword = await bcrypt.hash(user.password, salt);\n    return new Promise((resolve, reject) => {\n      const userObj = new User({\n        fullName: user.fullName,\n        email: user.email,\n        password: hashedPassword,\n        userName: user.userName\n      });\n      userObj\n        .save()\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  findUserById(userId) {\n    return new Promise((resolve, reject) => {\n      User.findById(userId)\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n}\n\nexport default new userDbService();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564816147365
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/common\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/common/AppException.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/common/AppException.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/common/AppException.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/common/AppException.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
        "sourceFileName": "AppException.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nclass ApplicationError extends Error {\n  constructor(message, status) {\n    super();\n    Error.captureStackTrace(this, this.constructor);\n    this.name = this.constructor.name;\n    this.message = message || \"Something went wrong. Please try again.\";\n    this.status = status || 500;\n  }\n\n}\n\nvar _default = ApplicationError;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFwcEV4Y2VwdGlvbi5qcyJdLCJuYW1lcyI6WyJBcHBsaWNhdGlvbkVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJjYXB0dXJlU3RhY2tUcmFjZSIsIm5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxNQUFNQSxnQkFBTixTQUErQkMsS0FBL0IsQ0FBcUM7QUFDakNDLEVBQUFBLFdBQVcsQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQWtCO0FBQzNCO0FBRUFILElBQUFBLEtBQUssQ0FBQ0ksaUJBQU4sQ0FBd0IsSUFBeEIsRUFBOEIsS0FBS0gsV0FBbkM7QUFFQSxTQUFLSSxJQUFMLEdBQVksS0FBS0osV0FBTCxDQUFpQkksSUFBN0I7QUFFQSxTQUFLSCxPQUFMLEdBQWVBLE9BQU8sSUFBSSx5Q0FBMUI7QUFFQSxTQUFLQyxNQUFMLEdBQWNBLE1BQU0sSUFBSSxHQUF4QjtBQUNEOztBQVhnQzs7ZUFjcEJKLGdCIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9jb21tb24iLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBBcHBsaWNhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1cykge1xuICAgICAgc3VwZXIoKTtcbiAgXG4gICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgXG4gICAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gIFxuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZSB8fCBcIlNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLlwiO1xuICBcbiAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzIHx8IDUwMDtcbiAgICB9XG4gIH1cbiAgXG4gIGV4cG9ydCBkZWZhdWx0IEFwcGxpY2F0aW9uRXJyb3I7XG4gICJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "AppException.js"
      ],
      "names": [
        "ApplicationError",
        "Error",
        "constructor",
        "message",
        "status",
        "captureStackTrace",
        "name"
      ],
      "mappings": ";;;;;;;AAAA,MAAMA,gBAAN,SAA+BC,KAA/B,CAAqC;AACjCC,EAAAA,WAAW,CAACC,OAAD,EAAUC,MAAV,EAAkB;AAC3B;AAEAH,IAAAA,KAAK,CAACI,iBAAN,CAAwB,IAAxB,EAA8B,KAAKH,WAAnC;AAEA,SAAKI,IAAL,GAAY,KAAKJ,WAAL,CAAiBI,IAA7B;AAEA,SAAKH,OAAL,GAAeA,OAAO,IAAI,yCAA1B;AAEA,SAAKC,MAAL,GAAcA,MAAM,IAAI,GAAxB;AACD;;AAXgC;;eAcpBJ,gB",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "sourcesContent": [
        "class ApplicationError extends Error {\n    constructor(message, status) {\n      super();\n  \n      Error.captureStackTrace(this, this.constructor);\n  \n      this.name = this.constructor.name;\n  \n      this.message = message || \"Something went wrong. Please try again.\";\n  \n      this.status = status || 500;\n    }\n  }\n  \n  export default ApplicationError;\n  "
      ]
    },
    "sourceType": "script",
    "mtime": 1564296526210
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services/dbServices\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/dbServices/userDbService.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/userDbService.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/dbServices/userDbService.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/userDbService.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
        "sourceFileName": "userDbService.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _user = require(\"../../models/user\");\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass userDbService {\n  checkIfEmailExists(email) {\n    return new Promise((resolve, reject) => {\n      _user.User.findOne({\n        email: email\n      }).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  checkIfUserNameExists(userName) {\n    return new Promise((resolve, reject) => {\n      _user.User.findOne({\n        userName: userName\n      }).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  async register(user) {\n    const salt = await _bcrypt.default.genSalt(parseInt(process.env.SALT_ROUNDS));\n    const hashedPassword = await _bcrypt.default.hash(user.password, salt);\n    return new Promise((resolve, reject) => {\n      const userObj = new _user.User({\n        fullName: user.fullName,\n        email: user.email,\n        password: hashedPassword,\n        userName: user.userName\n      });\n      userObj.save().then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  findUserById(userId) {\n    return new Promise((resolve, reject) => {\n      _user.User.findById(userId).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n}\n\nvar _default = new userDbService();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJEYlNlcnZpY2UuanMiXSwibmFtZXMiOlsidXNlckRiU2VydmljZSIsImNoZWNrSWZFbWFpbEV4aXN0cyIsImVtYWlsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJVc2VyIiwiZmluZE9uZSIsInRoZW4iLCJyIiwiY2F0Y2giLCJlcnIiLCJjaGVja0lmVXNlck5hbWVFeGlzdHMiLCJ1c2VyTmFtZSIsInJlZ2lzdGVyIiwidXNlciIsInNhbHQiLCJiY3J5cHQiLCJnZW5TYWx0IiwicGFyc2VJbnQiLCJwcm9jZXNzIiwiZW52IiwiU0FMVF9ST1VORFMiLCJoYXNoZWRQYXNzd29yZCIsImhhc2giLCJwYXNzd29yZCIsInVzZXJPYmoiLCJmdWxsTmFtZSIsInNhdmUiLCJmaW5kVXNlckJ5SWQiLCJ1c2VySWQiLCJmaW5kQnlJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBQ0EsTUFBTUEsYUFBTixDQUFvQjtBQUNsQkMsRUFBQUEsa0JBQWtCLENBQUNDLEtBQUQsRUFBUTtBQUN4QixXQUFPLElBQUlDLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDdENDLGlCQUFLQyxPQUFMLENBQWE7QUFBRUwsUUFBQUEsS0FBSyxFQUFFQTtBQUFULE9BQWIsRUFDR00sSUFESCxDQUNRQyxDQUFDLElBQUlMLE9BQU8sQ0FBQ0ssQ0FBRCxDQURwQixFQUVHQyxLQUZILENBRVNDLEdBQUcsSUFBSU4sTUFBTSxDQUFDTSxHQUFELENBRnRCO0FBR0QsS0FKTSxDQUFQO0FBS0Q7O0FBRURDLEVBQUFBLHFCQUFxQixDQUFDQyxRQUFELEVBQVc7QUFDOUIsV0FBTyxJQUFJVixPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3RDQyxpQkFBS0MsT0FBTCxDQUFhO0FBQUVNLFFBQUFBLFFBQVEsRUFBRUE7QUFBWixPQUFiLEVBQ0dMLElBREgsQ0FDUUMsQ0FBQyxJQUFJTCxPQUFPLENBQUNLLENBQUQsQ0FEcEIsRUFFR0MsS0FGSCxDQUVTQyxHQUFHLElBQUlOLE1BQU0sQ0FBQ00sR0FBRCxDQUZ0QjtBQUdELEtBSk0sQ0FBUDtBQUtEOztBQUNELFFBQU1HLFFBQU4sQ0FBZUMsSUFBZixFQUFxQjtBQUNuQixVQUFNQyxJQUFJLEdBQUcsTUFBTUMsZ0JBQU9DLE9BQVAsQ0FBZUMsUUFBUSxDQUFDQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FBYixDQUF2QixDQUFuQjtBQUNBLFVBQU1DLGNBQWMsR0FBRyxNQUFNTixnQkFBT08sSUFBUCxDQUFZVCxJQUFJLENBQUNVLFFBQWpCLEVBQTJCVCxJQUEzQixDQUE3QjtBQUNBLFdBQU8sSUFBSWIsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0QyxZQUFNcUIsT0FBTyxHQUFHLElBQUlwQixVQUFKLENBQVM7QUFDdkJxQixRQUFBQSxRQUFRLEVBQUVaLElBQUksQ0FBQ1ksUUFEUTtBQUV2QnpCLFFBQUFBLEtBQUssRUFBRWEsSUFBSSxDQUFDYixLQUZXO0FBR3ZCdUIsUUFBQUEsUUFBUSxFQUFFRixjQUhhO0FBSXZCVixRQUFBQSxRQUFRLEVBQUVFLElBQUksQ0FBQ0Y7QUFKUSxPQUFULENBQWhCO0FBTUFhLE1BQUFBLE9BQU8sQ0FDSkUsSUFESCxHQUVHcEIsSUFGSCxDQUVRQyxDQUFDLElBQUlMLE9BQU8sQ0FBQ0ssQ0FBRCxDQUZwQixFQUdHQyxLQUhILENBR1NDLEdBQUcsSUFBSU4sTUFBTSxDQUFDTSxHQUFELENBSHRCO0FBSUQsS0FYTSxDQUFQO0FBWUQ7O0FBRURrQixFQUFBQSxZQUFZLENBQUNDLE1BQUQsRUFBUztBQUNuQixXQUFPLElBQUkzQixPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3RDQyxpQkFBS3lCLFFBQUwsQ0FBY0QsTUFBZCxFQUNHdEIsSUFESCxDQUNRQyxDQUFDLElBQUlMLE9BQU8sQ0FBQ0ssQ0FBRCxDQURwQixFQUVHQyxLQUZILENBRVNDLEdBQUcsSUFBSU4sTUFBTSxDQUFDTSxHQUFELENBRnRCO0FBR0QsS0FKTSxDQUFQO0FBS0Q7O0FBdkNpQjs7ZUEwQ0wsSUFBSVgsYUFBSixFIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9zZXJ2aWNlcy9kYlNlcnZpY2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlciB9IGZyb20gXCIuLi8uLi9tb2RlbHMvdXNlclwiO1xuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XG5jbGFzcyB1c2VyRGJTZXJ2aWNlIHtcbiAgY2hlY2tJZkVtYWlsRXhpc3RzKGVtYWlsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIFVzZXIuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KVxuICAgICAgICAudGhlbihyID0+IHJlc29sdmUocikpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9XG5cbiAgY2hlY2tJZlVzZXJOYW1lRXhpc3RzKHVzZXJOYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIFVzZXIuZmluZE9uZSh7IHVzZXJOYW1lOiB1c2VyTmFtZSB9KVxuICAgICAgICAudGhlbihyID0+IHJlc29sdmUocikpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIHJlZ2lzdGVyKHVzZXIpIHtcbiAgICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQocGFyc2VJbnQocHJvY2Vzcy5lbnYuU0FMVF9ST1VORFMpKTtcbiAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHVzZXIucGFzc3dvcmQsIHNhbHQpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB1c2VyT2JqID0gbmV3IFVzZXIoe1xuICAgICAgICBmdWxsTmFtZTogdXNlci5mdWxsTmFtZSxcbiAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCxcbiAgICAgICAgdXNlck5hbWU6IHVzZXIudXNlck5hbWVcbiAgICAgIH0pO1xuICAgICAgdXNlck9ialxuICAgICAgICAuc2F2ZSgpXG4gICAgICAgIC50aGVuKHIgPT4gcmVzb2x2ZShyKSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XG4gICAgfSk7XG4gIH1cblxuICBmaW5kVXNlckJ5SWQodXNlcklkKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIFVzZXIuZmluZEJ5SWQodXNlcklkKVxuICAgICAgICAudGhlbihyID0+IHJlc29sdmUocikpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyB1c2VyRGJTZXJ2aWNlKCk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userDbService.js"
      ],
      "names": [
        "userDbService",
        "checkIfEmailExists",
        "email",
        "Promise",
        "resolve",
        "reject",
        "User",
        "findOne",
        "then",
        "r",
        "catch",
        "err",
        "checkIfUserNameExists",
        "userName",
        "register",
        "user",
        "salt",
        "bcrypt",
        "genSalt",
        "parseInt",
        "process",
        "env",
        "SALT_ROUNDS",
        "hashedPassword",
        "hash",
        "password",
        "userObj",
        "fullName",
        "save",
        "findUserById",
        "userId",
        "findById"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,aAAN,CAAoB;AAClBC,EAAAA,kBAAkB,CAACC,KAAD,EAAQ;AACxB,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,iBAAKC,OAAL,CAAa;AAAEL,QAAAA,KAAK,EAAEA;AAAT,OAAb,EACGM,IADH,CACQC,CAAC,IAAIL,OAAO,CAACK,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIN,MAAM,CAACM,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AAEDC,EAAAA,qBAAqB,CAACC,QAAD,EAAW;AAC9B,WAAO,IAAIV,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,iBAAKC,OAAL,CAAa;AAAEM,QAAAA,QAAQ,EAAEA;AAAZ,OAAb,EACGL,IADH,CACQC,CAAC,IAAIL,OAAO,CAACK,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIN,MAAM,CAACM,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AACD,QAAMG,QAAN,CAAeC,IAAf,EAAqB;AACnB,UAAMC,IAAI,GAAG,MAAMC,gBAAOC,OAAP,CAAeC,QAAQ,CAACC,OAAO,CAACC,GAAR,CAAYC,WAAb,CAAvB,CAAnB;AACA,UAAMC,cAAc,GAAG,MAAMN,gBAAOO,IAAP,CAAYT,IAAI,CAACU,QAAjB,EAA2BT,IAA3B,CAA7B;AACA,WAAO,IAAIb,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,YAAMqB,OAAO,GAAG,IAAIpB,UAAJ,CAAS;AACvBqB,QAAAA,QAAQ,EAAEZ,IAAI,CAACY,QADQ;AAEvBzB,QAAAA,KAAK,EAAEa,IAAI,CAACb,KAFW;AAGvBuB,QAAAA,QAAQ,EAAEF,cAHa;AAIvBV,QAAAA,QAAQ,EAAEE,IAAI,CAACF;AAJQ,OAAT,CAAhB;AAMAa,MAAAA,OAAO,CACJE,IADH,GAEGpB,IAFH,CAEQC,CAAC,IAAIL,OAAO,CAACK,CAAD,CAFpB,EAGGC,KAHH,CAGSC,GAAG,IAAIN,MAAM,CAACM,GAAD,CAHtB;AAID,KAXM,CAAP;AAYD;;AAEDkB,EAAAA,YAAY,CAACC,MAAD,EAAS;AACnB,WAAO,IAAI3B,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,iBAAKyB,QAAL,CAAcD,MAAd,EACGtB,IADH,CACQC,CAAC,IAAIL,OAAO,CAACK,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIN,MAAM,CAACM,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AAvCiB;;eA0CL,IAAIX,aAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "sourcesContent": [
        "import { User } from \"../../models/user\";\nimport bcrypt from \"bcrypt\";\nclass userDbService {\n  checkIfEmailExists(email) {\n    return new Promise((resolve, reject) => {\n      User.findOne({ email: email })\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  checkIfUserNameExists(userName) {\n    return new Promise((resolve, reject) => {\n      User.findOne({ userName: userName })\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n  async register(user) {\n    const salt = await bcrypt.genSalt(parseInt(process.env.SALT_ROUNDS));\n    const hashedPassword = await bcrypt.hash(user.password, salt);\n    return new Promise((resolve, reject) => {\n      const userObj = new User({\n        fullName: user.fullName,\n        email: user.email,\n        password: hashedPassword,\n        userName: user.userName\n      });\n      userObj\n        .save()\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  findUserById(userId) {\n    return new Promise((resolve, reject) => {\n      User.findById(userId)\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n}\n\nexport default new userDbService();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564816147365
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/common\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/common/AppException.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/common/AppException.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/common/AppException.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/common/AppException.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
        "sourceFileName": "AppException.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nclass ApplicationError extends Error {\n  constructor(message, status) {\n    super();\n    Error.captureStackTrace(this, this.constructor);\n    this.name = this.constructor.name;\n    this.message = message || \"Something went wrong. Please try again.\";\n    this.status = status || 500;\n  }\n\n}\n\nvar _default = ApplicationError;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFwcEV4Y2VwdGlvbi5qcyJdLCJuYW1lcyI6WyJBcHBsaWNhdGlvbkVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJjYXB0dXJlU3RhY2tUcmFjZSIsIm5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxNQUFNQSxnQkFBTixTQUErQkMsS0FBL0IsQ0FBcUM7QUFDakNDLEVBQUFBLFdBQVcsQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQWtCO0FBQzNCO0FBRUFILElBQUFBLEtBQUssQ0FBQ0ksaUJBQU4sQ0FBd0IsSUFBeEIsRUFBOEIsS0FBS0gsV0FBbkM7QUFFQSxTQUFLSSxJQUFMLEdBQVksS0FBS0osV0FBTCxDQUFpQkksSUFBN0I7QUFFQSxTQUFLSCxPQUFMLEdBQWVBLE9BQU8sSUFBSSx5Q0FBMUI7QUFFQSxTQUFLQyxNQUFMLEdBQWNBLE1BQU0sSUFBSSxHQUF4QjtBQUNEOztBQVhnQzs7ZUFjcEJKLGdCIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9jb21tb24iLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBBcHBsaWNhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1cykge1xuICAgICAgc3VwZXIoKTtcbiAgXG4gICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgXG4gICAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gIFxuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZSB8fCBcIlNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLlwiO1xuICBcbiAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzIHx8IDUwMDtcbiAgICB9XG4gIH1cbiAgXG4gIGV4cG9ydCBkZWZhdWx0IEFwcGxpY2F0aW9uRXJyb3I7XG4gICJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "AppException.js"
      ],
      "names": [
        "ApplicationError",
        "Error",
        "constructor",
        "message",
        "status",
        "captureStackTrace",
        "name"
      ],
      "mappings": ";;;;;;;AAAA,MAAMA,gBAAN,SAA+BC,KAA/B,CAAqC;AACjCC,EAAAA,WAAW,CAACC,OAAD,EAAUC,MAAV,EAAkB;AAC3B;AAEAH,IAAAA,KAAK,CAACI,iBAAN,CAAwB,IAAxB,EAA8B,KAAKH,WAAnC;AAEA,SAAKI,IAAL,GAAY,KAAKJ,WAAL,CAAiBI,IAA7B;AAEA,SAAKH,OAAL,GAAeA,OAAO,IAAI,yCAA1B;AAEA,SAAKC,MAAL,GAAcA,MAAM,IAAI,GAAxB;AACD;;AAXgC;;eAcpBJ,gB",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "sourcesContent": [
        "class ApplicationError extends Error {\n    constructor(message, status) {\n      super();\n  \n      Error.captureStackTrace(this, this.constructor);\n  \n      this.name = this.constructor.name;\n  \n      this.message = message || \"Something went wrong. Please try again.\";\n  \n      this.status = status || 500;\n    }\n  }\n  \n  export default ApplicationError;\n  "
      ]
    },
    "sourceType": "script",
    "mtime": 1564296526210
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/routers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/routers/brandsRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/routers/brandsRouter.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/routers/brandsRouter.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/routers/brandsRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
        "sourceFileName": "brandsRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar express = _interopRequireWildcard(require(\"express\"));\n\nvar _brandsController = _interopRequireDefault(require(\"../controllers/brandsController\"));\n\nvar _async = require(\"../middleware/async\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar _default = express.Router().post(\"/add\", (0, _async.asyncMiddleware)(_brandsController.default.add)).delete(\"/delete\", (0, _async.asyncMiddleware)(_brandsController.default.delete)).put(\"/update\", (0, _async.asyncMiddleware)(_brandsController.default.update));\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJyYW5kc1JvdXRlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsImJyYW5kc0NvbnRyb2xsZXIiLCJhZGQiLCJkZWxldGUiLCJwdXQiLCJ1cGRhdGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7O2VBRWVBLE9BQU8sQ0FDbkJDLE1BRFksR0FFWkMsSUFGWSxDQUVQLE1BRk8sRUFFQyw0QkFBZ0JDLDBCQUFpQkMsR0FBakMsQ0FGRCxFQUdaQyxNQUhZLENBR0wsU0FISyxFQUdNLDRCQUFnQkYsMEJBQWlCRSxNQUFqQyxDQUhOLEVBSVpDLEdBSlksQ0FJUixTQUpRLEVBSUcsNEJBQWdCSCwwQkFBaUJJLE1BQWpDLENBSkgsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvcm91dGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBicmFuZHNDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9icmFuZHNDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBhc3luY01pZGRsZXdhcmUgfSBmcm9tIFwiLi4vbWlkZGxld2FyZS9hc3luY1wiO1xuXG5leHBvcnQgZGVmYXVsdCBleHByZXNzXG4gIC5Sb3V0ZXIoKVxuICAucG9zdChcIi9hZGRcIiwgYXN5bmNNaWRkbGV3YXJlKGJyYW5kc0NvbnRyb2xsZXIuYWRkKSlcbiAgLmRlbGV0ZShcIi9kZWxldGVcIiwgYXN5bmNNaWRkbGV3YXJlKGJyYW5kc0NvbnRyb2xsZXIuZGVsZXRlKSlcbiAgLnB1dChcIi91cGRhdGVcIiwgYXN5bmNNaWRkbGV3YXJlKGJyYW5kc0NvbnRyb2xsZXIudXBkYXRlKSk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "brandsRouter.js"
      ],
      "names": [
        "express",
        "Router",
        "post",
        "brandsController",
        "add",
        "delete",
        "put",
        "update"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;eAEeA,OAAO,CACnBC,MADY,GAEZC,IAFY,CAEP,MAFO,EAEC,4BAAgBC,0BAAiBC,GAAjC,CAFD,EAGZC,MAHY,CAGL,SAHK,EAGM,4BAAgBF,0BAAiBE,MAAjC,CAHN,EAIZC,GAJY,CAIR,SAJQ,EAIG,4BAAgBH,0BAAiBI,MAAjC,CAJH,C",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "sourcesContent": [
        "import * as express from \"express\";\nimport brandsController from \"../controllers/brandsController\";\nimport { asyncMiddleware } from \"../middleware/async\";\n\nexport default express\n  .Router()\n  .post(\"/add\", asyncMiddleware(brandsController.add))\n  .delete(\"/delete\", asyncMiddleware(brandsController.delete))\n  .put(\"/update\", asyncMiddleware(brandsController.update));\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564826991904
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/controllers/brandsController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/controllers/brandsController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/controllers/brandsController.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/controllers/brandsController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
        "sourceFileName": "brandsController.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _brandsService = _interopRequireDefault(require(\"../services/brandsService\"));\n\nvar _brands = require(\"../models/brands\");\n\nvar _constants = _interopRequireDefault(require(\"../common/constants\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass BrandsController {\n  async add(req, res) {\n    // Validate request\n    const {\n      error\n    } = (0, _brands.validateBrand)(req.body, _constants.default.brandActions.Add);\n    if (error) return res.status(400).send(error.details[0].message); // If the request is good send it to the service\n\n    const brand = await _brandsService.default.add(req.body); // Return the message and the object\n\n    return res.status(201).json({\n      message: \"success\",\n      brand: {\n        brand\n      }\n    });\n  }\n\n  async update(req, res) {\n    // Validate request\n    const {\n      error\n    } = (0, _brands.validateBrand)(req.body, _constants.default.brandActions.Update);\n    if (error) return res.status(400).send(error.details[0].message); // If the request is good send it to the service\n\n    const updatedBrand = await _brandsService.default.update(req.body); // Return the result\n\n    return res.status(200).json({\n      message: \"success\",\n      updatedBrand: updatedBrand\n    });\n  }\n\n  async delete(req, res) {\n    // Validate request\n    const {\n      error\n    } = (0, _brands.validateBrand)(req.body, _constants.default.brandActions.Delete);\n    if (error) return res.status(400).send(error.details[0].message);\n    await _brandsService.default.delete(req.body.id);\n    res.status(200).json({\n      \"message \": \"Brand has been deleted\"\n    });\n  }\n\n}\n\nvar _default = new BrandsController();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJyYW5kc0NvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiQnJhbmRzQ29udHJvbGxlciIsImFkZCIsInJlcSIsInJlcyIsImVycm9yIiwiYm9keSIsImNvbnN0YW50cyIsImJyYW5kQWN0aW9ucyIsIkFkZCIsInN0YXR1cyIsInNlbmQiLCJkZXRhaWxzIiwibWVzc2FnZSIsImJyYW5kIiwiYnJhbmRzU2VydmljZSIsImpzb24iLCJ1cGRhdGUiLCJVcGRhdGUiLCJ1cGRhdGVkQnJhbmQiLCJkZWxldGUiLCJEZWxldGUiLCJpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsZ0JBQU4sQ0FBdUI7QUFDckIsUUFBTUMsR0FBTixDQUFVQyxHQUFWLEVBQWVDLEdBQWYsRUFBb0I7QUFDbEI7QUFDQSxVQUFNO0FBQUVDLE1BQUFBO0FBQUYsUUFBWSwyQkFBY0YsR0FBRyxDQUFDRyxJQUFsQixFQUF3QkMsbUJBQVVDLFlBQVYsQ0FBdUJDLEdBQS9DLENBQWxCO0FBQ0EsUUFBSUosS0FBSixFQUFXLE9BQU9ELEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCTixLQUFLLENBQUNPLE9BQU4sQ0FBYyxDQUFkLEVBQWlCQyxPQUF0QyxDQUFQLENBSE8sQ0FJbEI7O0FBQ0EsVUFBTUMsS0FBSyxHQUFHLE1BQU1DLHVCQUFjYixHQUFkLENBQWtCQyxHQUFHLENBQUNHLElBQXRCLENBQXBCLENBTGtCLENBT2xCOztBQUNBLFdBQU9GLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JNLElBQWhCLENBQXFCO0FBQUVILE1BQUFBLE9BQU8sRUFBRSxTQUFYO0FBQXNCQyxNQUFBQSxLQUFLLEVBQUU7QUFBRUEsUUFBQUE7QUFBRjtBQUE3QixLQUFyQixDQUFQO0FBQ0Q7O0FBQ0QsUUFBTUcsTUFBTixDQUFhZCxHQUFiLEVBQWtCQyxHQUFsQixFQUF1QjtBQUNyQjtBQUNBLFVBQU07QUFBRUMsTUFBQUE7QUFBRixRQUFZLDJCQUFjRixHQUFHLENBQUNHLElBQWxCLEVBQXdCQyxtQkFBVUMsWUFBVixDQUF1QlUsTUFBL0MsQ0FBbEI7QUFDQSxRQUFJYixLQUFKLEVBQVcsT0FBT0QsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJOLEtBQUssQ0FBQ08sT0FBTixDQUFjLENBQWQsRUFBaUJDLE9BQXRDLENBQVAsQ0FIVSxDQUtyQjs7QUFDQSxVQUFNTSxZQUFZLEdBQUcsTUFBTUosdUJBQWNFLE1BQWQsQ0FBcUJkLEdBQUcsQ0FBQ0csSUFBekIsQ0FBM0IsQ0FOcUIsQ0FRckI7O0FBQ0EsV0FBT0YsR0FBRyxDQUNQTSxNQURJLENBQ0csR0FESCxFQUVKTSxJQUZJLENBRUM7QUFBRUgsTUFBQUEsT0FBTyxFQUFFLFNBQVg7QUFBc0JNLE1BQUFBLFlBQVksRUFBRUE7QUFBcEMsS0FGRCxDQUFQO0FBR0Q7O0FBQ0QsUUFBTUMsTUFBTixDQUFhakIsR0FBYixFQUFrQkMsR0FBbEIsRUFBdUI7QUFDckI7QUFDQSxVQUFNO0FBQUVDLE1BQUFBO0FBQUYsUUFBWSwyQkFBY0YsR0FBRyxDQUFDRyxJQUFsQixFQUF3QkMsbUJBQVVDLFlBQVYsQ0FBdUJhLE1BQS9DLENBQWxCO0FBQ0EsUUFBSWhCLEtBQUosRUFBVyxPQUFPRCxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQk4sS0FBSyxDQUFDTyxPQUFOLENBQWMsQ0FBZCxFQUFpQkMsT0FBdEMsQ0FBUDtBQUVYLFVBQU1FLHVCQUFjSyxNQUFkLENBQXFCakIsR0FBRyxDQUFDRyxJQUFKLENBQVNnQixFQUE5QixDQUFOO0FBRUFsQixJQUFBQSxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCTSxJQUFoQixDQUFxQjtBQUFFLGtCQUFZO0FBQWQsS0FBckI7QUFDRDs7QUFoQ29COztlQW1DUixJQUFJZixnQkFBSixFIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBicmFuZHNTZXJ2aWNlIGZyb20gXCIuLi9zZXJ2aWNlcy9icmFuZHNTZXJ2aWNlXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZUJyYW5kIH0gZnJvbSBcIi4uL21vZGVscy9icmFuZHNcIjtcbmltcG9ydCBjb25zdGFudHMgZnJvbSBcIi4uL2NvbW1vbi9jb25zdGFudHNcIjtcblxuY2xhc3MgQnJhbmRzQ29udHJvbGxlciB7XG4gIGFzeW5jIGFkZChyZXEsIHJlcykge1xuICAgIC8vIFZhbGlkYXRlIHJlcXVlc3RcbiAgICBjb25zdCB7IGVycm9yIH0gPSB2YWxpZGF0ZUJyYW5kKHJlcS5ib2R5LCBjb25zdGFudHMuYnJhbmRBY3Rpb25zLkFkZCk7XG4gICAgaWYgKGVycm9yKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlKTtcbiAgICAvLyBJZiB0aGUgcmVxdWVzdCBpcyBnb29kIHNlbmQgaXQgdG8gdGhlIHNlcnZpY2VcbiAgICBjb25zdCBicmFuZCA9IGF3YWl0IGJyYW5kc1NlcnZpY2UuYWRkKHJlcS5ib2R5KTtcblxuICAgIC8vIFJldHVybiB0aGUgbWVzc2FnZSBhbmQgdGhlIG9iamVjdFxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7IG1lc3NhZ2U6IFwic3VjY2Vzc1wiLCBicmFuZDogeyBicmFuZCB9IH0pO1xuICB9XG4gIGFzeW5jIHVwZGF0ZShyZXEsIHJlcykge1xuICAgIC8vIFZhbGlkYXRlIHJlcXVlc3RcbiAgICBjb25zdCB7IGVycm9yIH0gPSB2YWxpZGF0ZUJyYW5kKHJlcS5ib2R5LCBjb25zdGFudHMuYnJhbmRBY3Rpb25zLlVwZGF0ZSk7XG4gICAgaWYgKGVycm9yKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlKTtcblxuICAgIC8vIElmIHRoZSByZXF1ZXN0IGlzIGdvb2Qgc2VuZCBpdCB0byB0aGUgc2VydmljZVxuICAgIGNvbnN0IHVwZGF0ZWRCcmFuZCA9IGF3YWl0IGJyYW5kc1NlcnZpY2UudXBkYXRlKHJlcS5ib2R5KTtcblxuICAgIC8vIFJldHVybiB0aGUgcmVzdWx0XG4gICAgcmV0dXJuIHJlc1xuICAgICAgLnN0YXR1cygyMDApXG4gICAgICAuanNvbih7IG1lc3NhZ2U6IFwic3VjY2Vzc1wiLCB1cGRhdGVkQnJhbmQ6IHVwZGF0ZWRCcmFuZCB9KTtcbiAgfVxuICBhc3luYyBkZWxldGUocmVxLCByZXMpIHtcbiAgICAvLyBWYWxpZGF0ZSByZXF1ZXN0XG4gICAgY29uc3QgeyBlcnJvciB9ID0gdmFsaWRhdGVCcmFuZChyZXEuYm9keSwgY29uc3RhbnRzLmJyYW5kQWN0aW9ucy5EZWxldGUpO1xuICAgIGlmIChlcnJvcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSk7XG5cbiAgICBhd2FpdCBicmFuZHNTZXJ2aWNlLmRlbGV0ZShyZXEuYm9keS5pZCk7XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IFwibWVzc2FnZSBcIjogXCJCcmFuZCBoYXMgYmVlbiBkZWxldGVkXCIgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEJyYW5kc0NvbnRyb2xsZXIoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "brandsController.js"
      ],
      "names": [
        "BrandsController",
        "add",
        "req",
        "res",
        "error",
        "body",
        "constants",
        "brandActions",
        "Add",
        "status",
        "send",
        "details",
        "message",
        "brand",
        "brandsService",
        "json",
        "update",
        "Update",
        "updatedBrand",
        "delete",
        "Delete",
        "id"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,gBAAN,CAAuB;AACrB,QAAMC,GAAN,CAAUC,GAAV,EAAeC,GAAf,EAAoB;AAClB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAY,2BAAcF,GAAG,CAACG,IAAlB,EAAwBC,mBAAUC,YAAV,CAAuBC,GAA/C,CAAlB;AACA,QAAIJ,KAAJ,EAAW,OAAOD,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,KAAK,CAACO,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP,CAHO,CAIlB;;AACA,UAAMC,KAAK,GAAG,MAAMC,uBAAcb,GAAd,CAAkBC,GAAG,CAACG,IAAtB,CAApB,CALkB,CAOlB;;AACA,WAAOF,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBM,IAAhB,CAAqB;AAAEH,MAAAA,OAAO,EAAE,SAAX;AAAsBC,MAAAA,KAAK,EAAE;AAAEA,QAAAA;AAAF;AAA7B,KAArB,CAAP;AACD;;AACD,QAAMG,MAAN,CAAad,GAAb,EAAkBC,GAAlB,EAAuB;AACrB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAY,2BAAcF,GAAG,CAACG,IAAlB,EAAwBC,mBAAUC,YAAV,CAAuBU,MAA/C,CAAlB;AACA,QAAIb,KAAJ,EAAW,OAAOD,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,KAAK,CAACO,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP,CAHU,CAKrB;;AACA,UAAMM,YAAY,GAAG,MAAMJ,uBAAcE,MAAd,CAAqBd,GAAG,CAACG,IAAzB,CAA3B,CANqB,CAQrB;;AACA,WAAOF,GAAG,CACPM,MADI,CACG,GADH,EAEJM,IAFI,CAEC;AAAEH,MAAAA,OAAO,EAAE,SAAX;AAAsBM,MAAAA,YAAY,EAAEA;AAApC,KAFD,CAAP;AAGD;;AACD,QAAMC,MAAN,CAAajB,GAAb,EAAkBC,GAAlB,EAAuB;AACrB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAY,2BAAcF,GAAG,CAACG,IAAlB,EAAwBC,mBAAUC,YAAV,CAAuBa,MAA/C,CAAlB;AACA,QAAIhB,KAAJ,EAAW,OAAOD,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,KAAK,CAACO,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP;AAEX,UAAME,uBAAcK,MAAd,CAAqBjB,GAAG,CAACG,IAAJ,CAASgB,EAA9B,CAAN;AAEAlB,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBM,IAAhB,CAAqB;AAAE,kBAAY;AAAd,KAArB;AACD;;AAhCoB;;eAmCR,IAAIf,gBAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "sourcesContent": [
        "import brandsService from \"../services/brandsService\";\nimport { validateBrand } from \"../models/brands\";\nimport constants from \"../common/constants\";\n\nclass BrandsController {\n  async add(req, res) {\n    // Validate request\n    const { error } = validateBrand(req.body, constants.brandActions.Add);\n    if (error) return res.status(400).send(error.details[0].message);\n    // If the request is good send it to the service\n    const brand = await brandsService.add(req.body);\n\n    // Return the message and the object\n    return res.status(201).json({ message: \"success\", brand: { brand } });\n  }\n  async update(req, res) {\n    // Validate request\n    const { error } = validateBrand(req.body, constants.brandActions.Update);\n    if (error) return res.status(400).send(error.details[0].message);\n\n    // If the request is good send it to the service\n    const updatedBrand = await brandsService.update(req.body);\n\n    // Return the result\n    return res\n      .status(200)\n      .json({ message: \"success\", updatedBrand: updatedBrand });\n  }\n  async delete(req, res) {\n    // Validate request\n    const { error } = validateBrand(req.body, constants.brandActions.Delete);\n    if (error) return res.status(400).send(error.details[0].message);\n\n    await brandsService.delete(req.body.id);\n\n    res.status(200).json({ \"message \": \"Brand has been deleted\" });\n  }\n}\n\nexport default new BrandsController();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564827075146
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/brandsService.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/brandsService.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/brandsService.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/brandsService.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
        "sourceFileName": "brandsService.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _brandsDbService = _interopRequireDefault(require(\"./dbServices/brandsDbService\"));\n\nvar _AppException = _interopRequireDefault(require(\"./../common/AppException\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass brandsService {\n  async add(req) {\n    // Check if user name already exists\n    let brandNameExists = await _brandsDbService.default.checkIfBrandNameExists(req.brandName); // Throw error if already exists\n\n    if (brandNameExists) {\n      throw new _AppException.default(`Brand name ${req.brandName} already exists`, 400);\n    } // Add the brand into the database\n\n\n    const brand = _brandsDbService.default.add(req); // Return the new brand\n\n\n    return brand;\n  }\n\n  async delete(brandId) {\n    const brand = await _brandsDbService.default.findBrandById(brandId);\n\n    if (!brand) {\n      throw new _AppException.default(\"Brand with this id doesn't exists\", 400);\n    }\n\n    return _brandsDbService.default.delete(brandId);\n  }\n\n  async update(req) {\n    // Check if we already have this brand\n    let brand = await _brandsDbService.default.findBrandById(req.id);\n\n    if (!brand) {\n      throw new _AppException.default(`Brand with id ${req.id} doesn't exists!`, 400);\n    } // Insert the brand into mongoDB\n\n\n    brand = await _brandsDbService.default.update(req);\n    return brand;\n  }\n\n}\n\nvar _default = new brandsService();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJyYW5kc1NlcnZpY2UuanMiXSwibmFtZXMiOlsiYnJhbmRzU2VydmljZSIsImFkZCIsInJlcSIsImJyYW5kTmFtZUV4aXN0cyIsImJyYW5kc0RiIiwiY2hlY2tJZkJyYW5kTmFtZUV4aXN0cyIsImJyYW5kTmFtZSIsIkFwcGxpY2F0aW9uRXJyb3IiLCJicmFuZCIsImRlbGV0ZSIsImJyYW5kSWQiLCJicmFuZHNEYlNlcnZpY2UiLCJmaW5kQnJhbmRCeUlkIiwidXBkYXRlIiwiaWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLGFBQU4sQ0FBb0I7QUFDbEIsUUFBTUMsR0FBTixDQUFVQyxHQUFWLEVBQWU7QUFDYjtBQUNBLFFBQUlDLGVBQWUsR0FBRyxNQUFNQyx5QkFBU0Msc0JBQVQsQ0FBZ0NILEdBQUcsQ0FBQ0ksU0FBcEMsQ0FBNUIsQ0FGYSxDQUliOztBQUNBLFFBQUlILGVBQUosRUFBcUI7QUFDbkIsWUFBTSxJQUFJSSxxQkFBSixDQUNILGNBQWFMLEdBQUcsQ0FBQ0ksU0FBVSxpQkFEeEIsRUFFSixHQUZJLENBQU47QUFJRCxLQVZZLENBWWI7OztBQUNBLFVBQU1FLEtBQUssR0FBR0oseUJBQVNILEdBQVQsQ0FBYUMsR0FBYixDQUFkLENBYmEsQ0FlYjs7O0FBQ0EsV0FBT00sS0FBUDtBQUNEOztBQUNELFFBQU1DLE1BQU4sQ0FBYUMsT0FBYixFQUFzQjtBQUNwQixVQUFNRixLQUFLLEdBQUcsTUFBTUcseUJBQWdCQyxhQUFoQixDQUE4QkYsT0FBOUIsQ0FBcEI7O0FBRUEsUUFBRyxDQUFDRixLQUFKLEVBQVc7QUFDVCxZQUFNLElBQUlELHFCQUFKLENBQXFCLG1DQUFyQixFQUEwRCxHQUExRCxDQUFOO0FBQ0Q7O0FBRUQsV0FBT0kseUJBQWdCRixNQUFoQixDQUF1QkMsT0FBdkIsQ0FBUDtBQUNEOztBQUVELFFBQU1HLE1BQU4sQ0FBYVgsR0FBYixFQUFrQjtBQUNoQjtBQUNBLFFBQUlNLEtBQUssR0FBRyxNQUFNSix5QkFBU1EsYUFBVCxDQUF1QlYsR0FBRyxDQUFDWSxFQUEzQixDQUFsQjs7QUFDQSxRQUFJLENBQUNOLEtBQUwsRUFBWTtBQUNWLFlBQU0sSUFBSUQscUJBQUosQ0FDSCxpQkFBZ0JMLEdBQUcsQ0FBQ1ksRUFBRyxrQkFEcEIsRUFFSixHQUZJLENBQU47QUFJRCxLQVJlLENBVWhCOzs7QUFDQU4sSUFBQUEsS0FBSyxHQUFHLE1BQU1KLHlCQUFTUyxNQUFULENBQWdCWCxHQUFoQixDQUFkO0FBRUEsV0FBT00sS0FBUDtBQUNEOztBQTNDaUI7O2VBOENMLElBQUlSLGFBQUosRSIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvc2VydmljZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYnJhbmRzRGIgZnJvbSBcIi4vZGJTZXJ2aWNlcy9icmFuZHNEYlNlcnZpY2VcIjtcbmltcG9ydCBBcHBsaWNhdGlvbkVycm9yIGZyb20gXCIuLy4uL2NvbW1vbi9BcHBFeGNlcHRpb25cIjtcbmltcG9ydCBicmFuZHNEYlNlcnZpY2UgZnJvbSBcIi4vZGJTZXJ2aWNlcy9icmFuZHNEYlNlcnZpY2VcIjtcbmNsYXNzIGJyYW5kc1NlcnZpY2Uge1xuICBhc3luYyBhZGQocmVxKSB7XG4gICAgLy8gQ2hlY2sgaWYgdXNlciBuYW1lIGFscmVhZHkgZXhpc3RzXG4gICAgbGV0IGJyYW5kTmFtZUV4aXN0cyA9IGF3YWl0IGJyYW5kc0RiLmNoZWNrSWZCcmFuZE5hbWVFeGlzdHMocmVxLmJyYW5kTmFtZSk7XG5cbiAgICAvLyBUaHJvdyBlcnJvciBpZiBhbHJlYWR5IGV4aXN0c1xuICAgIGlmIChicmFuZE5hbWVFeGlzdHMpIHtcbiAgICAgIHRocm93IG5ldyBBcHBsaWNhdGlvbkVycm9yKFxuICAgICAgICBgQnJhbmQgbmFtZSAke3JlcS5icmFuZE5hbWV9IGFscmVhZHkgZXhpc3RzYCxcbiAgICAgICAgNDAwXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgYnJhbmQgaW50byB0aGUgZGF0YWJhc2VcbiAgICBjb25zdCBicmFuZCA9IGJyYW5kc0RiLmFkZChyZXEpO1xuXG4gICAgLy8gUmV0dXJuIHRoZSBuZXcgYnJhbmRcbiAgICByZXR1cm4gYnJhbmQ7XG4gIH1cbiAgYXN5bmMgZGVsZXRlKGJyYW5kSWQpIHtcbiAgICBjb25zdCBicmFuZCA9IGF3YWl0IGJyYW5kc0RiU2VydmljZS5maW5kQnJhbmRCeUlkKGJyYW5kSWQpO1xuXG4gICAgaWYoIWJyYW5kKSB7XG4gICAgICB0aHJvdyBuZXcgQXBwbGljYXRpb25FcnJvcihcIkJyYW5kIHdpdGggdGhpcyBpZCBkb2Vzbid0IGV4aXN0c1wiLCA0MDApO1xuICAgIH1cblxuICAgIHJldHVybiBicmFuZHNEYlNlcnZpY2UuZGVsZXRlKGJyYW5kSWQpO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlKHJlcSkge1xuICAgIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSB0aGlzIGJyYW5kXG4gICAgbGV0IGJyYW5kID0gYXdhaXQgYnJhbmRzRGIuZmluZEJyYW5kQnlJZChyZXEuaWQpO1xuICAgIGlmICghYnJhbmQpIHtcbiAgICAgIHRocm93IG5ldyBBcHBsaWNhdGlvbkVycm9yKFxuICAgICAgICBgQnJhbmQgd2l0aCBpZCAke3JlcS5pZH0gZG9lc24ndCBleGlzdHMhYCxcbiAgICAgICAgNDAwXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEluc2VydCB0aGUgYnJhbmQgaW50byBtb25nb0RCXG4gICAgYnJhbmQgPSBhd2FpdCBicmFuZHNEYi51cGRhdGUocmVxKTtcblxuICAgIHJldHVybiBicmFuZDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgYnJhbmRzU2VydmljZSgpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "brandsService.js"
      ],
      "names": [
        "brandsService",
        "add",
        "req",
        "brandNameExists",
        "brandsDb",
        "checkIfBrandNameExists",
        "brandName",
        "ApplicationError",
        "brand",
        "delete",
        "brandId",
        "brandsDbService",
        "findBrandById",
        "update",
        "id"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,aAAN,CAAoB;AAClB,QAAMC,GAAN,CAAUC,GAAV,EAAe;AACb;AACA,QAAIC,eAAe,GAAG,MAAMC,yBAASC,sBAAT,CAAgCH,GAAG,CAACI,SAApC,CAA5B,CAFa,CAIb;;AACA,QAAIH,eAAJ,EAAqB;AACnB,YAAM,IAAII,qBAAJ,CACH,cAAaL,GAAG,CAACI,SAAU,iBADxB,EAEJ,GAFI,CAAN;AAID,KAVY,CAYb;;;AACA,UAAME,KAAK,GAAGJ,yBAASH,GAAT,CAAaC,GAAb,CAAd,CAba,CAeb;;;AACA,WAAOM,KAAP;AACD;;AACD,QAAMC,MAAN,CAAaC,OAAb,EAAsB;AACpB,UAAMF,KAAK,GAAG,MAAMG,yBAAgBC,aAAhB,CAA8BF,OAA9B,CAApB;;AAEA,QAAG,CAACF,KAAJ,EAAW;AACT,YAAM,IAAID,qBAAJ,CAAqB,mCAArB,EAA0D,GAA1D,CAAN;AACD;;AAED,WAAOI,yBAAgBF,MAAhB,CAAuBC,OAAvB,CAAP;AACD;;AAED,QAAMG,MAAN,CAAaX,GAAb,EAAkB;AAChB;AACA,QAAIM,KAAK,GAAG,MAAMJ,yBAASQ,aAAT,CAAuBV,GAAG,CAACY,EAA3B,CAAlB;;AACA,QAAI,CAACN,KAAL,EAAY;AACV,YAAM,IAAID,qBAAJ,CACH,iBAAgBL,GAAG,CAACY,EAAG,kBADpB,EAEJ,GAFI,CAAN;AAID,KARe,CAUhB;;;AACAN,IAAAA,KAAK,GAAG,MAAMJ,yBAASS,MAAT,CAAgBX,GAAhB,CAAd;AAEA,WAAOM,KAAP;AACD;;AA3CiB;;eA8CL,IAAIR,aAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "sourcesContent": [
        "import brandsDb from \"./dbServices/brandsDbService\";\nimport ApplicationError from \"./../common/AppException\";\nimport brandsDbService from \"./dbServices/brandsDbService\";\nclass brandsService {\n  async add(req) {\n    // Check if user name already exists\n    let brandNameExists = await brandsDb.checkIfBrandNameExists(req.brandName);\n\n    // Throw error if already exists\n    if (brandNameExists) {\n      throw new ApplicationError(\n        `Brand name ${req.brandName} already exists`,\n        400\n      );\n    }\n\n    // Add the brand into the database\n    const brand = brandsDb.add(req);\n\n    // Return the new brand\n    return brand;\n  }\n  async delete(brandId) {\n    const brand = await brandsDbService.findBrandById(brandId);\n\n    if(!brand) {\n      throw new ApplicationError(\"Brand with this id doesn't exists\", 400);\n    }\n\n    return brandsDbService.delete(brandId);\n  }\n\n  async update(req) {\n    // Check if we already have this brand\n    let brand = await brandsDb.findBrandById(req.id);\n    if (!brand) {\n      throw new ApplicationError(\n        `Brand with id ${req.id} doesn't exists!`,\n        400\n      );\n    }\n\n    // Insert the brand into mongoDB\n    brand = await brandsDb.update(req);\n\n    return brand;\n  }\n}\n\nexport default new brandsService();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564801745947
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/models/brands.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/models/brands.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/models/brands.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/models/brands.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
        "sourceFileName": "brands.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateBrand = validateBrand;\nexports.Brand = void 0;\n\nvar _joi = _interopRequireDefault(require(\"joi\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _constants = _interopRequireDefault(require(\"../common/constants\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst brandsSchema = new _mongoose.default.Schema({\n  brandName: {\n    type: String,\n    required: true,\n    minlength: 2,\n    maxlength: 255,\n    unique: true\n  }\n});\n\nconst Brand = _mongoose.default.model(\"Brand\", brandsSchema);\n\nexports.Brand = Brand;\n\nfunction validateBrand(req, action) {\n  let schema = {};\n\n  switch (action) {\n    case _constants.default.brandActions.Add:\n      schema = {\n        brandName: _joi.default.string().required().min(2).max(255)\n      };\n      return _joi.default.validate(req, schema);\n\n    case _constants.default.brandActions.Update:\n      schema = {\n        brandName: _joi.default.string().required().min(2).max(255),\n        id: _joi.default.string().required().min(24).max(24)\n      };\n      return _joi.default.validate(req, schema);\n\n    case _constants.default.brandActions.Delete:\n      schema = {\n        id: _joi.default.string().required().min(24).max(24)\n      };\n      return _joi.default.validate(req, schema);\n\n    default:\n      schema = {\n        brandName: _joi.default.string().required().min(2).max(255)\n      };\n      return _joi.default.validate(req, schema);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJyYW5kcy5qcyJdLCJuYW1lcyI6WyJicmFuZHNTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsImJyYW5kTmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsIm1pbmxlbmd0aCIsIm1heGxlbmd0aCIsInVuaXF1ZSIsIkJyYW5kIiwibW9kZWwiLCJ2YWxpZGF0ZUJyYW5kIiwicmVxIiwiYWN0aW9uIiwic2NoZW1hIiwiY29uc3RhbnRzIiwiYnJhbmRBY3Rpb25zIiwiQWRkIiwiSm9pIiwic3RyaW5nIiwibWluIiwibWF4IiwidmFsaWRhdGUiLCJVcGRhdGUiLCJpZCIsIkRlbGV0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFlBQVksR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUFvQjtBQUN2Q0MsRUFBQUEsU0FBUyxFQUFFO0FBQ1RDLElBQUFBLElBQUksRUFBRUMsTUFERztBQUVUQyxJQUFBQSxRQUFRLEVBQUUsSUFGRDtBQUdUQyxJQUFBQSxTQUFTLEVBQUUsQ0FIRjtBQUlUQyxJQUFBQSxTQUFTLEVBQUUsR0FKRjtBQUtUQyxJQUFBQSxNQUFNLEVBQUU7QUFMQztBQUQ0QixDQUFwQixDQUFyQjs7QUFVTyxNQUFNQyxLQUFLLEdBQUdULGtCQUFTVSxLQUFULENBQWUsT0FBZixFQUF3QlgsWUFBeEIsQ0FBZDs7OztBQUVBLFNBQVNZLGFBQVQsQ0FBdUJDLEdBQXZCLEVBQTRCQyxNQUE1QixFQUFvQztBQUN6QyxNQUFJQyxNQUFNLEdBQUcsRUFBYjs7QUFDQSxVQUFRRCxNQUFSO0FBQ0UsU0FBS0UsbUJBQVVDLFlBQVYsQ0FBdUJDLEdBQTVCO0FBQ0VILE1BQUFBLE1BQU0sR0FBRztBQUNQWixRQUFBQSxTQUFTLEVBQUVnQixhQUFJQyxNQUFKLEdBQ1JkLFFBRFEsR0FFUmUsR0FGUSxDQUVKLENBRkksRUFHUkMsR0FIUSxDQUdKLEdBSEk7QUFESixPQUFUO0FBTUEsYUFBT0gsYUFBSUksUUFBSixDQUFhVixHQUFiLEVBQWtCRSxNQUFsQixDQUFQOztBQUNGLFNBQUtDLG1CQUFVQyxZQUFWLENBQXVCTyxNQUE1QjtBQUNFVCxNQUFBQSxNQUFNLEdBQUc7QUFDUFosUUFBQUEsU0FBUyxFQUFFZ0IsYUFBSUMsTUFBSixHQUNSZCxRQURRLEdBRVJlLEdBRlEsQ0FFSixDQUZJLEVBR1JDLEdBSFEsQ0FHSixHQUhJLENBREo7QUFLUEcsUUFBQUEsRUFBRSxFQUFFTixhQUFJQyxNQUFKLEdBQ0RkLFFBREMsR0FFRGUsR0FGQyxDQUVHLEVBRkgsRUFHREMsR0FIQyxDQUdHLEVBSEg7QUFMRyxPQUFUO0FBVUEsYUFBT0gsYUFBSUksUUFBSixDQUFhVixHQUFiLEVBQWtCRSxNQUFsQixDQUFQOztBQUNGLFNBQUtDLG1CQUFVQyxZQUFWLENBQXVCUyxNQUE1QjtBQUNFWCxNQUFBQSxNQUFNLEdBQUc7QUFDUFUsUUFBQUEsRUFBRSxFQUFFTixhQUFJQyxNQUFKLEdBQ0RkLFFBREMsR0FFRGUsR0FGQyxDQUVHLEVBRkgsRUFHREMsR0FIQyxDQUdHLEVBSEg7QUFERyxPQUFUO0FBTUEsYUFBT0gsYUFBSUksUUFBSixDQUFhVixHQUFiLEVBQWtCRSxNQUFsQixDQUFQOztBQUNGO0FBQ0VBLE1BQUFBLE1BQU0sR0FBRztBQUNQWixRQUFBQSxTQUFTLEVBQUVnQixhQUFJQyxNQUFKLEdBQ1JkLFFBRFEsR0FFUmUsR0FGUSxDQUVKLENBRkksRUFHUkMsR0FIUSxDQUdKLEdBSEk7QUFESixPQUFUO0FBTUEsYUFBT0gsYUFBSUksUUFBSixDQUFhVixHQUFiLEVBQWtCRSxNQUFsQixDQUFQO0FBcENKO0FBc0NEIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSm9pIGZyb20gXCJqb2lcIjtcbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBjb25zdGFudHMgZnJvbSBcIi4uL2NvbW1vbi9jb25zdGFudHNcIjtcblxuY29uc3QgYnJhbmRzU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIGJyYW5kTmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBtaW5sZW5ndGg6IDIsXG4gICAgbWF4bGVuZ3RoOiAyNTUsXG4gICAgdW5pcXVlOiB0cnVlXG4gIH1cbn0pO1xuXG5leHBvcnQgY29uc3QgQnJhbmQgPSBtb25nb29zZS5tb2RlbChcIkJyYW5kXCIsIGJyYW5kc1NjaGVtYSk7XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUJyYW5kKHJlcSwgYWN0aW9uKSB7XG4gIGxldCBzY2hlbWEgPSB7fTtcbiAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICBjYXNlIGNvbnN0YW50cy5icmFuZEFjdGlvbnMuQWRkOlxuICAgICAgc2NoZW1hID0ge1xuICAgICAgICBicmFuZE5hbWU6IEpvaS5zdHJpbmcoKVxuICAgICAgICAgIC5yZXF1aXJlZCgpXG4gICAgICAgICAgLm1pbigyKVxuICAgICAgICAgIC5tYXgoMjU1KVxuICAgICAgfTtcbiAgICAgIHJldHVybiBKb2kudmFsaWRhdGUocmVxLCBzY2hlbWEpO1xuICAgIGNhc2UgY29uc3RhbnRzLmJyYW5kQWN0aW9ucy5VcGRhdGU6XG4gICAgICBzY2hlbWEgPSB7XG4gICAgICAgIGJyYW5kTmFtZTogSm9pLnN0cmluZygpXG4gICAgICAgICAgLnJlcXVpcmVkKClcbiAgICAgICAgICAubWluKDIpXG4gICAgICAgICAgLm1heCgyNTUpLFxuICAgICAgICBpZDogSm9pLnN0cmluZygpXG4gICAgICAgICAgLnJlcXVpcmVkKClcbiAgICAgICAgICAubWluKDI0KVxuICAgICAgICAgIC5tYXgoMjQpXG4gICAgICB9O1xuICAgICAgcmV0dXJuIEpvaS52YWxpZGF0ZShyZXEsIHNjaGVtYSk7XG4gICAgY2FzZSBjb25zdGFudHMuYnJhbmRBY3Rpb25zLkRlbGV0ZTpcbiAgICAgIHNjaGVtYSA9IHtcbiAgICAgICAgaWQ6IEpvaS5zdHJpbmcoKVxuICAgICAgICAgIC5yZXF1aXJlZCgpXG4gICAgICAgICAgLm1pbigyNClcbiAgICAgICAgICAubWF4KDI0KVxuICAgICAgfTtcbiAgICAgIHJldHVybiBKb2kudmFsaWRhdGUocmVxLCBzY2hlbWEpO1xuICAgIGRlZmF1bHQ6XG4gICAgICBzY2hlbWEgPSB7XG4gICAgICAgIGJyYW5kTmFtZTogSm9pLnN0cmluZygpXG4gICAgICAgICAgLnJlcXVpcmVkKClcbiAgICAgICAgICAubWluKDIpXG4gICAgICAgICAgLm1heCgyNTUpXG4gICAgICB9O1xuICAgICAgcmV0dXJuIEpvaS52YWxpZGF0ZShyZXEsIHNjaGVtYSk7XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "brands.js"
      ],
      "names": [
        "brandsSchema",
        "mongoose",
        "Schema",
        "brandName",
        "type",
        "String",
        "required",
        "minlength",
        "maxlength",
        "unique",
        "Brand",
        "model",
        "validateBrand",
        "req",
        "action",
        "schema",
        "constants",
        "brandActions",
        "Add",
        "Joi",
        "string",
        "min",
        "max",
        "validate",
        "Update",
        "id",
        "Delete"
      ],
      "mappings": ";;;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,YAAY,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACvCC,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAEC,MADG;AAETC,IAAAA,QAAQ,EAAE,IAFD;AAGTC,IAAAA,SAAS,EAAE,CAHF;AAITC,IAAAA,SAAS,EAAE,GAJF;AAKTC,IAAAA,MAAM,EAAE;AALC;AAD4B,CAApB,CAArB;;AAUO,MAAMC,KAAK,GAAGT,kBAASU,KAAT,CAAe,OAAf,EAAwBX,YAAxB,CAAd;;;;AAEA,SAASY,aAAT,CAAuBC,GAAvB,EAA4BC,MAA5B,EAAoC;AACzC,MAAIC,MAAM,GAAG,EAAb;;AACA,UAAQD,MAAR;AACE,SAAKE,mBAAUC,YAAV,CAAuBC,GAA5B;AACEH,MAAAA,MAAM,GAAG;AACPZ,QAAAA,SAAS,EAAEgB,aAAIC,MAAJ,GACRd,QADQ,GAERe,GAFQ,CAEJ,CAFI,EAGRC,GAHQ,CAGJ,GAHI;AADJ,OAAT;AAMA,aAAOH,aAAII,QAAJ,CAAaV,GAAb,EAAkBE,MAAlB,CAAP;;AACF,SAAKC,mBAAUC,YAAV,CAAuBO,MAA5B;AACET,MAAAA,MAAM,GAAG;AACPZ,QAAAA,SAAS,EAAEgB,aAAIC,MAAJ,GACRd,QADQ,GAERe,GAFQ,CAEJ,CAFI,EAGRC,GAHQ,CAGJ,GAHI,CADJ;AAKPG,QAAAA,EAAE,EAAEN,aAAIC,MAAJ,GACDd,QADC,GAEDe,GAFC,CAEG,EAFH,EAGDC,GAHC,CAGG,EAHH;AALG,OAAT;AAUA,aAAOH,aAAII,QAAJ,CAAaV,GAAb,EAAkBE,MAAlB,CAAP;;AACF,SAAKC,mBAAUC,YAAV,CAAuBS,MAA5B;AACEX,MAAAA,MAAM,GAAG;AACPU,QAAAA,EAAE,EAAEN,aAAIC,MAAJ,GACDd,QADC,GAEDe,GAFC,CAEG,EAFH,EAGDC,GAHC,CAGG,EAHH;AADG,OAAT;AAMA,aAAOH,aAAII,QAAJ,CAAaV,GAAb,EAAkBE,MAAlB,CAAP;;AACF;AACEA,MAAAA,MAAM,GAAG;AACPZ,QAAAA,SAAS,EAAEgB,aAAIC,MAAJ,GACRd,QADQ,GAERe,GAFQ,CAEJ,CAFI,EAGRC,GAHQ,CAGJ,GAHI;AADJ,OAAT;AAMA,aAAOH,aAAII,QAAJ,CAAaV,GAAb,EAAkBE,MAAlB,CAAP;AApCJ;AAsCD",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "sourcesContent": [
        "import Joi from \"joi\";\nimport mongoose from \"mongoose\";\nimport constants from \"../common/constants\";\n\nconst brandsSchema = new mongoose.Schema({\n  brandName: {\n    type: String,\n    required: true,\n    minlength: 2,\n    maxlength: 255,\n    unique: true\n  }\n});\n\nexport const Brand = mongoose.model(\"Brand\", brandsSchema);\n\nexport function validateBrand(req, action) {\n  let schema = {};\n  switch (action) {\n    case constants.brandActions.Add:\n      schema = {\n        brandName: Joi.string()\n          .required()\n          .min(2)\n          .max(255)\n      };\n      return Joi.validate(req, schema);\n    case constants.brandActions.Update:\n      schema = {\n        brandName: Joi.string()\n          .required()\n          .min(2)\n          .max(255),\n        id: Joi.string()\n          .required()\n          .min(24)\n          .max(24)\n      };\n      return Joi.validate(req, schema);\n    case constants.brandActions.Delete:\n      schema = {\n        id: Joi.string()\n          .required()\n          .min(24)\n          .max(24)\n      };\n      return Joi.validate(req, schema);\n    default:\n      schema = {\n        brandName: Joi.string()\n          .required()\n          .min(2)\n          .max(255)\n      };\n      return Joi.validate(req, schema);\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564801228988
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/routers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/routers/brandsRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/routers/brandsRouter.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/routers/brandsRouter.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/routers/brandsRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
        "sourceFileName": "brandsRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar express = _interopRequireWildcard(require(\"express\"));\n\nvar _brandsController = _interopRequireDefault(require(\"../controllers/brandsController\"));\n\nvar _async = require(\"../middleware/async\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar _default = express.Router().post(\"/add\", (0, _async.asyncMiddleware)(_brandsController.default.add)).delete(\"/delete\", (0, _async.asyncMiddleware)(_brandsController.default.delete)).put(\"/update\", (0, _async.asyncMiddleware)(_brandsController.default.update));\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJyYW5kc1JvdXRlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsImJyYW5kc0NvbnRyb2xsZXIiLCJhZGQiLCJkZWxldGUiLCJwdXQiLCJ1cGRhdGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7O2VBRWVBLE9BQU8sQ0FDbkJDLE1BRFksR0FFWkMsSUFGWSxDQUVQLE1BRk8sRUFFQyw0QkFBZ0JDLDBCQUFpQkMsR0FBakMsQ0FGRCxFQUdaQyxNQUhZLENBR0wsU0FISyxFQUdNLDRCQUFnQkYsMEJBQWlCRSxNQUFqQyxDQUhOLEVBSVpDLEdBSlksQ0FJUixTQUpRLEVBSUcsNEJBQWdCSCwwQkFBaUJJLE1BQWpDLENBSkgsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvcm91dGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBicmFuZHNDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9icmFuZHNDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBhc3luY01pZGRsZXdhcmUgfSBmcm9tIFwiLi4vbWlkZGxld2FyZS9hc3luY1wiO1xuXG5leHBvcnQgZGVmYXVsdCBleHByZXNzXG4gIC5Sb3V0ZXIoKVxuICAucG9zdChcIi9hZGRcIiwgYXN5bmNNaWRkbGV3YXJlKGJyYW5kc0NvbnRyb2xsZXIuYWRkKSlcbiAgLmRlbGV0ZShcIi9kZWxldGVcIiwgYXN5bmNNaWRkbGV3YXJlKGJyYW5kc0NvbnRyb2xsZXIuZGVsZXRlKSlcbiAgLnB1dChcIi91cGRhdGVcIiwgYXN5bmNNaWRkbGV3YXJlKGJyYW5kc0NvbnRyb2xsZXIudXBkYXRlKSk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "brandsRouter.js"
      ],
      "names": [
        "express",
        "Router",
        "post",
        "brandsController",
        "add",
        "delete",
        "put",
        "update"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;eAEeA,OAAO,CACnBC,MADY,GAEZC,IAFY,CAEP,MAFO,EAEC,4BAAgBC,0BAAiBC,GAAjC,CAFD,EAGZC,MAHY,CAGL,SAHK,EAGM,4BAAgBF,0BAAiBE,MAAjC,CAHN,EAIZC,GAJY,CAIR,SAJQ,EAIG,4BAAgBH,0BAAiBI,MAAjC,CAJH,C",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "sourcesContent": [
        "import * as express from \"express\";\nimport brandsController from \"../controllers/brandsController\";\nimport { asyncMiddleware } from \"../middleware/async\";\n\nexport default express\n  .Router()\n  .post(\"/add\", asyncMiddleware(brandsController.add))\n  .delete(\"/delete\", asyncMiddleware(brandsController.delete))\n  .put(\"/update\", asyncMiddleware(brandsController.update));\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564826991904
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/controllers/brandsController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/controllers/brandsController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/controllers/brandsController.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/controllers/brandsController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
        "sourceFileName": "brandsController.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _brandsService = _interopRequireDefault(require(\"../services/brandsService\"));\n\nvar _brands = require(\"../models/brands\");\n\nvar _constants = _interopRequireDefault(require(\"../common/constants\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass BrandsController {\n  async add(req, res) {\n    // Validate request\n    const {\n      error\n    } = (0, _brands.validateBrand)(req.body, _constants.default.brandActions.Add);\n    if (error) return res.status(400).send(error.details[0].message); // If the request is good send it to the service\n\n    const brand = await _brandsService.default.add(req.body); // Return the message and the object\n\n    return res.status(201).json({\n      message: \"success\",\n      brand: {\n        brand\n      }\n    });\n  }\n\n  async update(req, res) {\n    // Validate request\n    const {\n      error\n    } = (0, _brands.validateBrand)(req.body, _constants.default.brandActions.Update);\n    if (error) return res.status(400).send(error.details[0].message); // If the request is good send it to the service\n\n    const updatedBrand = await _brandsService.default.update(req.body); // Return the result\n\n    return res.status(200).json({\n      message: \"success\",\n      updatedBrand: updatedBrand\n    });\n  }\n\n  async delete(req, res) {\n    // Validate request\n    const {\n      error\n    } = (0, _brands.validateBrand)(req.body, _constants.default.brandActions.Delete);\n    if (error) return res.status(400).send(error.details[0].message);\n    await _brandsService.default.delete(req.body.id);\n    res.status(200).json({\n      \"message \": \"Brand has been deleted\"\n    });\n  }\n\n}\n\nvar _default = new BrandsController();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJyYW5kc0NvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiQnJhbmRzQ29udHJvbGxlciIsImFkZCIsInJlcSIsInJlcyIsImVycm9yIiwiYm9keSIsImNvbnN0YW50cyIsImJyYW5kQWN0aW9ucyIsIkFkZCIsInN0YXR1cyIsInNlbmQiLCJkZXRhaWxzIiwibWVzc2FnZSIsImJyYW5kIiwiYnJhbmRzU2VydmljZSIsImpzb24iLCJ1cGRhdGUiLCJVcGRhdGUiLCJ1cGRhdGVkQnJhbmQiLCJkZWxldGUiLCJEZWxldGUiLCJpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsZ0JBQU4sQ0FBdUI7QUFDckIsUUFBTUMsR0FBTixDQUFVQyxHQUFWLEVBQWVDLEdBQWYsRUFBb0I7QUFDbEI7QUFDQSxVQUFNO0FBQUVDLE1BQUFBO0FBQUYsUUFBWSwyQkFBY0YsR0FBRyxDQUFDRyxJQUFsQixFQUF3QkMsbUJBQVVDLFlBQVYsQ0FBdUJDLEdBQS9DLENBQWxCO0FBQ0EsUUFBSUosS0FBSixFQUFXLE9BQU9ELEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCTixLQUFLLENBQUNPLE9BQU4sQ0FBYyxDQUFkLEVBQWlCQyxPQUF0QyxDQUFQLENBSE8sQ0FJbEI7O0FBQ0EsVUFBTUMsS0FBSyxHQUFHLE1BQU1DLHVCQUFjYixHQUFkLENBQWtCQyxHQUFHLENBQUNHLElBQXRCLENBQXBCLENBTGtCLENBT2xCOztBQUNBLFdBQU9GLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JNLElBQWhCLENBQXFCO0FBQUVILE1BQUFBLE9BQU8sRUFBRSxTQUFYO0FBQXNCQyxNQUFBQSxLQUFLLEVBQUU7QUFBRUEsUUFBQUE7QUFBRjtBQUE3QixLQUFyQixDQUFQO0FBQ0Q7O0FBQ0QsUUFBTUcsTUFBTixDQUFhZCxHQUFiLEVBQWtCQyxHQUFsQixFQUF1QjtBQUNyQjtBQUNBLFVBQU07QUFBRUMsTUFBQUE7QUFBRixRQUFZLDJCQUFjRixHQUFHLENBQUNHLElBQWxCLEVBQXdCQyxtQkFBVUMsWUFBVixDQUF1QlUsTUFBL0MsQ0FBbEI7QUFDQSxRQUFJYixLQUFKLEVBQVcsT0FBT0QsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJOLEtBQUssQ0FBQ08sT0FBTixDQUFjLENBQWQsRUFBaUJDLE9BQXRDLENBQVAsQ0FIVSxDQUtyQjs7QUFDQSxVQUFNTSxZQUFZLEdBQUcsTUFBTUosdUJBQWNFLE1BQWQsQ0FBcUJkLEdBQUcsQ0FBQ0csSUFBekIsQ0FBM0IsQ0FOcUIsQ0FRckI7O0FBQ0EsV0FBT0YsR0FBRyxDQUNQTSxNQURJLENBQ0csR0FESCxFQUVKTSxJQUZJLENBRUM7QUFBRUgsTUFBQUEsT0FBTyxFQUFFLFNBQVg7QUFBc0JNLE1BQUFBLFlBQVksRUFBRUE7QUFBcEMsS0FGRCxDQUFQO0FBR0Q7O0FBQ0QsUUFBTUMsTUFBTixDQUFhakIsR0FBYixFQUFrQkMsR0FBbEIsRUFBdUI7QUFDckI7QUFDQSxVQUFNO0FBQUVDLE1BQUFBO0FBQUYsUUFBWSwyQkFBY0YsR0FBRyxDQUFDRyxJQUFsQixFQUF3QkMsbUJBQVVDLFlBQVYsQ0FBdUJhLE1BQS9DLENBQWxCO0FBQ0EsUUFBSWhCLEtBQUosRUFBVyxPQUFPRCxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQk4sS0FBSyxDQUFDTyxPQUFOLENBQWMsQ0FBZCxFQUFpQkMsT0FBdEMsQ0FBUDtBQUVYLFVBQU1FLHVCQUFjSyxNQUFkLENBQXFCakIsR0FBRyxDQUFDRyxJQUFKLENBQVNnQixFQUE5QixDQUFOO0FBRUFsQixJQUFBQSxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCTSxJQUFoQixDQUFxQjtBQUFFLGtCQUFZO0FBQWQsS0FBckI7QUFDRDs7QUFoQ29COztlQW1DUixJQUFJZixnQkFBSixFIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBicmFuZHNTZXJ2aWNlIGZyb20gXCIuLi9zZXJ2aWNlcy9icmFuZHNTZXJ2aWNlXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZUJyYW5kIH0gZnJvbSBcIi4uL21vZGVscy9icmFuZHNcIjtcbmltcG9ydCBjb25zdGFudHMgZnJvbSBcIi4uL2NvbW1vbi9jb25zdGFudHNcIjtcblxuY2xhc3MgQnJhbmRzQ29udHJvbGxlciB7XG4gIGFzeW5jIGFkZChyZXEsIHJlcykge1xuICAgIC8vIFZhbGlkYXRlIHJlcXVlc3RcbiAgICBjb25zdCB7IGVycm9yIH0gPSB2YWxpZGF0ZUJyYW5kKHJlcS5ib2R5LCBjb25zdGFudHMuYnJhbmRBY3Rpb25zLkFkZCk7XG4gICAgaWYgKGVycm9yKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlKTtcbiAgICAvLyBJZiB0aGUgcmVxdWVzdCBpcyBnb29kIHNlbmQgaXQgdG8gdGhlIHNlcnZpY2VcbiAgICBjb25zdCBicmFuZCA9IGF3YWl0IGJyYW5kc1NlcnZpY2UuYWRkKHJlcS5ib2R5KTtcblxuICAgIC8vIFJldHVybiB0aGUgbWVzc2FnZSBhbmQgdGhlIG9iamVjdFxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7IG1lc3NhZ2U6IFwic3VjY2Vzc1wiLCBicmFuZDogeyBicmFuZCB9IH0pO1xuICB9XG4gIGFzeW5jIHVwZGF0ZShyZXEsIHJlcykge1xuICAgIC8vIFZhbGlkYXRlIHJlcXVlc3RcbiAgICBjb25zdCB7IGVycm9yIH0gPSB2YWxpZGF0ZUJyYW5kKHJlcS5ib2R5LCBjb25zdGFudHMuYnJhbmRBY3Rpb25zLlVwZGF0ZSk7XG4gICAgaWYgKGVycm9yKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlKTtcblxuICAgIC8vIElmIHRoZSByZXF1ZXN0IGlzIGdvb2Qgc2VuZCBpdCB0byB0aGUgc2VydmljZVxuICAgIGNvbnN0IHVwZGF0ZWRCcmFuZCA9IGF3YWl0IGJyYW5kc1NlcnZpY2UudXBkYXRlKHJlcS5ib2R5KTtcblxuICAgIC8vIFJldHVybiB0aGUgcmVzdWx0XG4gICAgcmV0dXJuIHJlc1xuICAgICAgLnN0YXR1cygyMDApXG4gICAgICAuanNvbih7IG1lc3NhZ2U6IFwic3VjY2Vzc1wiLCB1cGRhdGVkQnJhbmQ6IHVwZGF0ZWRCcmFuZCB9KTtcbiAgfVxuICBhc3luYyBkZWxldGUocmVxLCByZXMpIHtcbiAgICAvLyBWYWxpZGF0ZSByZXF1ZXN0XG4gICAgY29uc3QgeyBlcnJvciB9ID0gdmFsaWRhdGVCcmFuZChyZXEuYm9keSwgY29uc3RhbnRzLmJyYW5kQWN0aW9ucy5EZWxldGUpO1xuICAgIGlmIChlcnJvcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSk7XG5cbiAgICBhd2FpdCBicmFuZHNTZXJ2aWNlLmRlbGV0ZShyZXEuYm9keS5pZCk7XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IFwibWVzc2FnZSBcIjogXCJCcmFuZCBoYXMgYmVlbiBkZWxldGVkXCIgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEJyYW5kc0NvbnRyb2xsZXIoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "brandsController.js"
      ],
      "names": [
        "BrandsController",
        "add",
        "req",
        "res",
        "error",
        "body",
        "constants",
        "brandActions",
        "Add",
        "status",
        "send",
        "details",
        "message",
        "brand",
        "brandsService",
        "json",
        "update",
        "Update",
        "updatedBrand",
        "delete",
        "Delete",
        "id"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,gBAAN,CAAuB;AACrB,QAAMC,GAAN,CAAUC,GAAV,EAAeC,GAAf,EAAoB;AAClB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAY,2BAAcF,GAAG,CAACG,IAAlB,EAAwBC,mBAAUC,YAAV,CAAuBC,GAA/C,CAAlB;AACA,QAAIJ,KAAJ,EAAW,OAAOD,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,KAAK,CAACO,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP,CAHO,CAIlB;;AACA,UAAMC,KAAK,GAAG,MAAMC,uBAAcb,GAAd,CAAkBC,GAAG,CAACG,IAAtB,CAApB,CALkB,CAOlB;;AACA,WAAOF,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBM,IAAhB,CAAqB;AAAEH,MAAAA,OAAO,EAAE,SAAX;AAAsBC,MAAAA,KAAK,EAAE;AAAEA,QAAAA;AAAF;AAA7B,KAArB,CAAP;AACD;;AACD,QAAMG,MAAN,CAAad,GAAb,EAAkBC,GAAlB,EAAuB;AACrB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAY,2BAAcF,GAAG,CAACG,IAAlB,EAAwBC,mBAAUC,YAAV,CAAuBU,MAA/C,CAAlB;AACA,QAAIb,KAAJ,EAAW,OAAOD,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,KAAK,CAACO,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP,CAHU,CAKrB;;AACA,UAAMM,YAAY,GAAG,MAAMJ,uBAAcE,MAAd,CAAqBd,GAAG,CAACG,IAAzB,CAA3B,CANqB,CAQrB;;AACA,WAAOF,GAAG,CACPM,MADI,CACG,GADH,EAEJM,IAFI,CAEC;AAAEH,MAAAA,OAAO,EAAE,SAAX;AAAsBM,MAAAA,YAAY,EAAEA;AAApC,KAFD,CAAP;AAGD;;AACD,QAAMC,MAAN,CAAajB,GAAb,EAAkBC,GAAlB,EAAuB;AACrB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAY,2BAAcF,GAAG,CAACG,IAAlB,EAAwBC,mBAAUC,YAAV,CAAuBa,MAA/C,CAAlB;AACA,QAAIhB,KAAJ,EAAW,OAAOD,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,KAAK,CAACO,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP;AAEX,UAAME,uBAAcK,MAAd,CAAqBjB,GAAG,CAACG,IAAJ,CAASgB,EAA9B,CAAN;AAEAlB,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBM,IAAhB,CAAqB;AAAE,kBAAY;AAAd,KAArB;AACD;;AAhCoB;;eAmCR,IAAIf,gBAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "sourcesContent": [
        "import brandsService from \"../services/brandsService\";\nimport { validateBrand } from \"../models/brands\";\nimport constants from \"../common/constants\";\n\nclass BrandsController {\n  async add(req, res) {\n    // Validate request\n    const { error } = validateBrand(req.body, constants.brandActions.Add);\n    if (error) return res.status(400).send(error.details[0].message);\n    // If the request is good send it to the service\n    const brand = await brandsService.add(req.body);\n\n    // Return the message and the object\n    return res.status(201).json({ message: \"success\", brand: { brand } });\n  }\n  async update(req, res) {\n    // Validate request\n    const { error } = validateBrand(req.body, constants.brandActions.Update);\n    if (error) return res.status(400).send(error.details[0].message);\n\n    // If the request is good send it to the service\n    const updatedBrand = await brandsService.update(req.body);\n\n    // Return the result\n    return res\n      .status(200)\n      .json({ message: \"success\", updatedBrand: updatedBrand });\n  }\n  async delete(req, res) {\n    // Validate request\n    const { error } = validateBrand(req.body, constants.brandActions.Delete);\n    if (error) return res.status(400).send(error.details[0].message);\n\n    await brandsService.delete(req.body.id);\n\n    res.status(200).json({ \"message \": \"Brand has been deleted\" });\n  }\n}\n\nexport default new BrandsController();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564827075146
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services/dbServices\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/dbServices/brandsDbService.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/brandsDbService.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/dbServices/brandsDbService.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/brandsDbService.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
        "sourceFileName": "brandsDbService.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _brands = require(\"../../models/brands\");\n\nclass brandsDbService {\n  add(req) {\n    return new Promise((resolve, reject) => {\n      const brand = new _brands.Brand({\n        brandName: req.brandName\n      });\n      brand.save().then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  delete(brandId) {\n    return new Promise((resolve, reject) => {\n      _brands.Brand.findByIdAndDelete(brandId).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  update(req) {\n    return new Promise((resolve, reject) => {\n      _brands.Brand.findByIdAndUpdate(req.id, req, {\n        upsert: true\n      }).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  checkIfBrandNameExists(name) {\n    return new Promise((resolve, reject) => {\n      _brands.Brand.findOne({\n        brandName: name\n      }).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  findBrandById(brandId) {\n    return new Promise((resolve, reject) => {\n      _brands.Brand.findById(brandId).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n}\n\nvar _default = new brandsDbService();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJyYW5kc0RiU2VydmljZS5qcyJdLCJuYW1lcyI6WyJicmFuZHNEYlNlcnZpY2UiLCJhZGQiLCJyZXEiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImJyYW5kIiwiQnJhbmQiLCJicmFuZE5hbWUiLCJzYXZlIiwidGhlbiIsInIiLCJjYXRjaCIsImVyciIsImRlbGV0ZSIsImJyYW5kSWQiLCJmaW5kQnlJZEFuZERlbGV0ZSIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiaWQiLCJ1cHNlcnQiLCJjaGVja0lmQnJhbmROYW1lRXhpc3RzIiwibmFtZSIsImZpbmRPbmUiLCJmaW5kQnJhbmRCeUlkIiwiZmluZEJ5SWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQSxNQUFNQSxlQUFOLENBQXNCO0FBQ3BCQyxFQUFBQSxHQUFHLENBQUNDLEdBQUQsRUFBTTtBQUNQLFdBQU8sSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0QyxZQUFNQyxLQUFLLEdBQUcsSUFBSUMsYUFBSixDQUFVO0FBQ3RCQyxRQUFBQSxTQUFTLEVBQUVOLEdBQUcsQ0FBQ007QUFETyxPQUFWLENBQWQ7QUFHQUYsTUFBQUEsS0FBSyxDQUNGRyxJQURILEdBRUdDLElBRkgsQ0FFUUMsQ0FBQyxJQUFJUCxPQUFPLENBQUNPLENBQUQsQ0FGcEIsRUFHR0MsS0FISCxDQUdTQyxHQUFHLElBQUlSLE1BQU0sQ0FBQ1EsR0FBRCxDQUh0QjtBQUlELEtBUk0sQ0FBUDtBQVNEOztBQUNEQyxFQUFBQSxNQUFNLENBQUNDLE9BQUQsRUFBVTtBQUNkLFdBQU8sSUFBSVosT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0Q0Usb0JBQU1TLGlCQUFOLENBQXdCRCxPQUF4QixFQUNHTCxJQURILENBQ1FDLENBQUMsSUFBSVAsT0FBTyxDQUFDTyxDQUFELENBRHBCLEVBRUdDLEtBRkgsQ0FFU0MsR0FBRyxJQUFJUixNQUFNLENBQUNRLEdBQUQsQ0FGdEI7QUFHRCxLQUpNLENBQVA7QUFLRDs7QUFDREksRUFBQUEsTUFBTSxDQUFDZixHQUFELEVBQU07QUFDVixXQUFPLElBQUlDLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDdENFLG9CQUFNVyxpQkFBTixDQUF3QmhCLEdBQUcsQ0FBQ2lCLEVBQTVCLEVBQWdDakIsR0FBaEMsRUFBcUM7QUFBRWtCLFFBQUFBLE1BQU0sRUFBRTtBQUFWLE9BQXJDLEVBQ0dWLElBREgsQ0FDUUMsQ0FBQyxJQUFJUCxPQUFPLENBQUNPLENBQUQsQ0FEcEIsRUFFR0MsS0FGSCxDQUVTQyxHQUFHLElBQUlSLE1BQU0sQ0FBQ1EsR0FBRCxDQUZ0QjtBQUdELEtBSk0sQ0FBUDtBQUtEOztBQUVEUSxFQUFBQSxzQkFBc0IsQ0FBQ0MsSUFBRCxFQUFPO0FBQzNCLFdBQU8sSUFBSW5CLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDdENFLG9CQUFNZ0IsT0FBTixDQUFjO0FBQUVmLFFBQUFBLFNBQVMsRUFBRWM7QUFBYixPQUFkLEVBQ0daLElBREgsQ0FDUUMsQ0FBQyxJQUFJUCxPQUFPLENBQUNPLENBQUQsQ0FEcEIsRUFFR0MsS0FGSCxDQUVTQyxHQUFHLElBQUlSLE1BQU0sQ0FBQ1EsR0FBRCxDQUZ0QjtBQUdELEtBSk0sQ0FBUDtBQUtEOztBQUVEVyxFQUFBQSxhQUFhLENBQUNULE9BQUQsRUFBVTtBQUNyQixXQUFPLElBQUlaLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDdENFLG9CQUFNa0IsUUFBTixDQUFlVixPQUFmLEVBQ0dMLElBREgsQ0FDUUMsQ0FBQyxJQUFJUCxPQUFPLENBQUNPLENBQUQsQ0FEcEIsRUFFR0MsS0FGSCxDQUVTQyxHQUFHLElBQUlSLE1BQU0sQ0FBQ1EsR0FBRCxDQUZ0QjtBQUdELEtBSk0sQ0FBUDtBQUtEOztBQXpDbUI7O2VBNENQLElBQUliLGVBQUosRSIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvc2VydmljZXMvZGJTZXJ2aWNlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJyYW5kIH0gZnJvbSBcIi4uLy4uL21vZGVscy9icmFuZHNcIjtcbmNsYXNzIGJyYW5kc0RiU2VydmljZSB7XG4gIGFkZChyZXEpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgYnJhbmQgPSBuZXcgQnJhbmQoe1xuICAgICAgICBicmFuZE5hbWU6IHJlcS5icmFuZE5hbWVcbiAgICAgIH0pO1xuICAgICAgYnJhbmRcbiAgICAgICAgLnNhdmUoKVxuICAgICAgICAudGhlbihyID0+IHJlc29sdmUocikpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9XG4gIGRlbGV0ZShicmFuZElkKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIEJyYW5kLmZpbmRCeUlkQW5kRGVsZXRlKGJyYW5kSWQpXG4gICAgICAgIC50aGVuKHIgPT4gcmVzb2x2ZShyKSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XG4gICAgfSk7XG4gIH1cbiAgdXBkYXRlKHJlcSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBCcmFuZC5maW5kQnlJZEFuZFVwZGF0ZShyZXEuaWQsIHJlcSwgeyB1cHNlcnQ6IHRydWUgfSlcbiAgICAgICAgLnRoZW4ociA9PiByZXNvbHZlKHIpKVxuICAgICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNoZWNrSWZCcmFuZE5hbWVFeGlzdHMobmFtZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBCcmFuZC5maW5kT25lKHsgYnJhbmROYW1lOiBuYW1lIH0pXG4gICAgICAgIC50aGVuKHIgPT4gcmVzb2x2ZShyKSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XG4gICAgfSk7XG4gIH1cblxuICBmaW5kQnJhbmRCeUlkKGJyYW5kSWQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgQnJhbmQuZmluZEJ5SWQoYnJhbmRJZClcbiAgICAgICAgLnRoZW4ociA9PiByZXNvbHZlKHIpKVxuICAgICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgYnJhbmRzRGJTZXJ2aWNlKCk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "brandsDbService.js"
      ],
      "names": [
        "brandsDbService",
        "add",
        "req",
        "Promise",
        "resolve",
        "reject",
        "brand",
        "Brand",
        "brandName",
        "save",
        "then",
        "r",
        "catch",
        "err",
        "delete",
        "brandId",
        "findByIdAndDelete",
        "update",
        "findByIdAndUpdate",
        "id",
        "upsert",
        "checkIfBrandNameExists",
        "name",
        "findOne",
        "findBrandById",
        "findById"
      ],
      "mappings": ";;;;;;;AAAA;;AACA,MAAMA,eAAN,CAAsB;AACpBC,EAAAA,GAAG,CAACC,GAAD,EAAM;AACP,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,YAAMC,KAAK,GAAG,IAAIC,aAAJ,CAAU;AACtBC,QAAAA,SAAS,EAAEN,GAAG,CAACM;AADO,OAAV,CAAd;AAGAF,MAAAA,KAAK,CACFG,IADH,GAEGC,IAFH,CAEQC,CAAC,IAAIP,OAAO,CAACO,CAAD,CAFpB,EAGGC,KAHH,CAGSC,GAAG,IAAIR,MAAM,CAACQ,GAAD,CAHtB;AAID,KARM,CAAP;AASD;;AACDC,EAAAA,MAAM,CAACC,OAAD,EAAU;AACd,WAAO,IAAIZ,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,oBAAMS,iBAAN,CAAwBD,OAAxB,EACGL,IADH,CACQC,CAAC,IAAIP,OAAO,CAACO,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIR,MAAM,CAACQ,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AACDI,EAAAA,MAAM,CAACf,GAAD,EAAM;AACV,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,oBAAMW,iBAAN,CAAwBhB,GAAG,CAACiB,EAA5B,EAAgCjB,GAAhC,EAAqC;AAAEkB,QAAAA,MAAM,EAAE;AAAV,OAArC,EACGV,IADH,CACQC,CAAC,IAAIP,OAAO,CAACO,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIR,MAAM,CAACQ,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AAEDQ,EAAAA,sBAAsB,CAACC,IAAD,EAAO;AAC3B,WAAO,IAAInB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,oBAAMgB,OAAN,CAAc;AAAEf,QAAAA,SAAS,EAAEc;AAAb,OAAd,EACGZ,IADH,CACQC,CAAC,IAAIP,OAAO,CAACO,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIR,MAAM,CAACQ,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AAEDW,EAAAA,aAAa,CAACT,OAAD,EAAU;AACrB,WAAO,IAAIZ,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,oBAAMkB,QAAN,CAAeV,OAAf,EACGL,IADH,CACQC,CAAC,IAAIP,OAAO,CAACO,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIR,MAAM,CAACQ,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AAzCmB;;eA4CP,IAAIb,eAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "sourcesContent": [
        "import { Brand } from \"../../models/brands\";\nclass brandsDbService {\n  add(req) {\n    return new Promise((resolve, reject) => {\n      const brand = new Brand({\n        brandName: req.brandName\n      });\n      brand\n        .save()\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n  delete(brandId) {\n    return new Promise((resolve, reject) => {\n      Brand.findByIdAndDelete(brandId)\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n  update(req) {\n    return new Promise((resolve, reject) => {\n      Brand.findByIdAndUpdate(req.id, req, { upsert: true })\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  checkIfBrandNameExists(name) {\n    return new Promise((resolve, reject) => {\n      Brand.findOne({ brandName: name })\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  findBrandById(brandId) {\n    return new Promise((resolve, reject) => {\n      Brand.findById(brandId)\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n}\n\nexport default new brandsDbService();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564801538784
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/brandsService.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/brandsService.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/brandsService.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/brandsService.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
        "sourceFileName": "brandsService.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _brandsDbService = _interopRequireDefault(require(\"./dbServices/brandsDbService\"));\n\nvar _AppException = _interopRequireDefault(require(\"./../common/AppException\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass brandsService {\n  async add(req) {\n    // Check if user name already exists\n    let brandNameExists = await _brandsDbService.default.checkIfBrandNameExists(req.brandName); // Throw error if already exists\n\n    if (brandNameExists) {\n      throw new _AppException.default(`Brand name ${req.brandName} already exists`, 400);\n    } // Add the brand into the database\n\n\n    const brand = _brandsDbService.default.add(req); // Return the new brand\n\n\n    return brand;\n  }\n\n  async delete(brandId) {\n    const brand = await _brandsDbService.default.findBrandById(brandId);\n\n    if (!brand) {\n      throw new _AppException.default(\"Brand with this id doesn't exists\", 400);\n    }\n\n    return _brandsDbService.default.delete(brandId);\n  }\n\n  async update(req) {\n    // Check if we already have this brand\n    let brand = await _brandsDbService.default.findBrandById(req.id);\n\n    if (!brand) {\n      throw new _AppException.default(`Brand with id ${req.id} doesn't exists!`, 400);\n    } // Insert the brand into mongoDB\n\n\n    brand = await _brandsDbService.default.update(req);\n    return brand;\n  }\n\n}\n\nvar _default = new brandsService();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJyYW5kc1NlcnZpY2UuanMiXSwibmFtZXMiOlsiYnJhbmRzU2VydmljZSIsImFkZCIsInJlcSIsImJyYW5kTmFtZUV4aXN0cyIsImJyYW5kc0RiIiwiY2hlY2tJZkJyYW5kTmFtZUV4aXN0cyIsImJyYW5kTmFtZSIsIkFwcGxpY2F0aW9uRXJyb3IiLCJicmFuZCIsImRlbGV0ZSIsImJyYW5kSWQiLCJicmFuZHNEYlNlcnZpY2UiLCJmaW5kQnJhbmRCeUlkIiwidXBkYXRlIiwiaWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLGFBQU4sQ0FBb0I7QUFDbEIsUUFBTUMsR0FBTixDQUFVQyxHQUFWLEVBQWU7QUFDYjtBQUNBLFFBQUlDLGVBQWUsR0FBRyxNQUFNQyx5QkFBU0Msc0JBQVQsQ0FBZ0NILEdBQUcsQ0FBQ0ksU0FBcEMsQ0FBNUIsQ0FGYSxDQUliOztBQUNBLFFBQUlILGVBQUosRUFBcUI7QUFDbkIsWUFBTSxJQUFJSSxxQkFBSixDQUNILGNBQWFMLEdBQUcsQ0FBQ0ksU0FBVSxpQkFEeEIsRUFFSixHQUZJLENBQU47QUFJRCxLQVZZLENBWWI7OztBQUNBLFVBQU1FLEtBQUssR0FBR0oseUJBQVNILEdBQVQsQ0FBYUMsR0FBYixDQUFkLENBYmEsQ0FlYjs7O0FBQ0EsV0FBT00sS0FBUDtBQUNEOztBQUNELFFBQU1DLE1BQU4sQ0FBYUMsT0FBYixFQUFzQjtBQUNwQixVQUFNRixLQUFLLEdBQUcsTUFBTUcseUJBQWdCQyxhQUFoQixDQUE4QkYsT0FBOUIsQ0FBcEI7O0FBRUEsUUFBRyxDQUFDRixLQUFKLEVBQVc7QUFDVCxZQUFNLElBQUlELHFCQUFKLENBQXFCLG1DQUFyQixFQUEwRCxHQUExRCxDQUFOO0FBQ0Q7O0FBRUQsV0FBT0kseUJBQWdCRixNQUFoQixDQUF1QkMsT0FBdkIsQ0FBUDtBQUNEOztBQUVELFFBQU1HLE1BQU4sQ0FBYVgsR0FBYixFQUFrQjtBQUNoQjtBQUNBLFFBQUlNLEtBQUssR0FBRyxNQUFNSix5QkFBU1EsYUFBVCxDQUF1QlYsR0FBRyxDQUFDWSxFQUEzQixDQUFsQjs7QUFDQSxRQUFJLENBQUNOLEtBQUwsRUFBWTtBQUNWLFlBQU0sSUFBSUQscUJBQUosQ0FDSCxpQkFBZ0JMLEdBQUcsQ0FBQ1ksRUFBRyxrQkFEcEIsRUFFSixHQUZJLENBQU47QUFJRCxLQVJlLENBVWhCOzs7QUFDQU4sSUFBQUEsS0FBSyxHQUFHLE1BQU1KLHlCQUFTUyxNQUFULENBQWdCWCxHQUFoQixDQUFkO0FBRUEsV0FBT00sS0FBUDtBQUNEOztBQTNDaUI7O2VBOENMLElBQUlSLGFBQUosRSIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvc2VydmljZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYnJhbmRzRGIgZnJvbSBcIi4vZGJTZXJ2aWNlcy9icmFuZHNEYlNlcnZpY2VcIjtcbmltcG9ydCBBcHBsaWNhdGlvbkVycm9yIGZyb20gXCIuLy4uL2NvbW1vbi9BcHBFeGNlcHRpb25cIjtcbmltcG9ydCBicmFuZHNEYlNlcnZpY2UgZnJvbSBcIi4vZGJTZXJ2aWNlcy9icmFuZHNEYlNlcnZpY2VcIjtcbmNsYXNzIGJyYW5kc1NlcnZpY2Uge1xuICBhc3luYyBhZGQocmVxKSB7XG4gICAgLy8gQ2hlY2sgaWYgdXNlciBuYW1lIGFscmVhZHkgZXhpc3RzXG4gICAgbGV0IGJyYW5kTmFtZUV4aXN0cyA9IGF3YWl0IGJyYW5kc0RiLmNoZWNrSWZCcmFuZE5hbWVFeGlzdHMocmVxLmJyYW5kTmFtZSk7XG5cbiAgICAvLyBUaHJvdyBlcnJvciBpZiBhbHJlYWR5IGV4aXN0c1xuICAgIGlmIChicmFuZE5hbWVFeGlzdHMpIHtcbiAgICAgIHRocm93IG5ldyBBcHBsaWNhdGlvbkVycm9yKFxuICAgICAgICBgQnJhbmQgbmFtZSAke3JlcS5icmFuZE5hbWV9IGFscmVhZHkgZXhpc3RzYCxcbiAgICAgICAgNDAwXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgYnJhbmQgaW50byB0aGUgZGF0YWJhc2VcbiAgICBjb25zdCBicmFuZCA9IGJyYW5kc0RiLmFkZChyZXEpO1xuXG4gICAgLy8gUmV0dXJuIHRoZSBuZXcgYnJhbmRcbiAgICByZXR1cm4gYnJhbmQ7XG4gIH1cbiAgYXN5bmMgZGVsZXRlKGJyYW5kSWQpIHtcbiAgICBjb25zdCBicmFuZCA9IGF3YWl0IGJyYW5kc0RiU2VydmljZS5maW5kQnJhbmRCeUlkKGJyYW5kSWQpO1xuXG4gICAgaWYoIWJyYW5kKSB7XG4gICAgICB0aHJvdyBuZXcgQXBwbGljYXRpb25FcnJvcihcIkJyYW5kIHdpdGggdGhpcyBpZCBkb2Vzbid0IGV4aXN0c1wiLCA0MDApO1xuICAgIH1cblxuICAgIHJldHVybiBicmFuZHNEYlNlcnZpY2UuZGVsZXRlKGJyYW5kSWQpO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlKHJlcSkge1xuICAgIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSB0aGlzIGJyYW5kXG4gICAgbGV0IGJyYW5kID0gYXdhaXQgYnJhbmRzRGIuZmluZEJyYW5kQnlJZChyZXEuaWQpO1xuICAgIGlmICghYnJhbmQpIHtcbiAgICAgIHRocm93IG5ldyBBcHBsaWNhdGlvbkVycm9yKFxuICAgICAgICBgQnJhbmQgd2l0aCBpZCAke3JlcS5pZH0gZG9lc24ndCBleGlzdHMhYCxcbiAgICAgICAgNDAwXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEluc2VydCB0aGUgYnJhbmQgaW50byBtb25nb0RCXG4gICAgYnJhbmQgPSBhd2FpdCBicmFuZHNEYi51cGRhdGUocmVxKTtcblxuICAgIHJldHVybiBicmFuZDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgYnJhbmRzU2VydmljZSgpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "brandsService.js"
      ],
      "names": [
        "brandsService",
        "add",
        "req",
        "brandNameExists",
        "brandsDb",
        "checkIfBrandNameExists",
        "brandName",
        "ApplicationError",
        "brand",
        "delete",
        "brandId",
        "brandsDbService",
        "findBrandById",
        "update",
        "id"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,aAAN,CAAoB;AAClB,QAAMC,GAAN,CAAUC,GAAV,EAAe;AACb;AACA,QAAIC,eAAe,GAAG,MAAMC,yBAASC,sBAAT,CAAgCH,GAAG,CAACI,SAApC,CAA5B,CAFa,CAIb;;AACA,QAAIH,eAAJ,EAAqB;AACnB,YAAM,IAAII,qBAAJ,CACH,cAAaL,GAAG,CAACI,SAAU,iBADxB,EAEJ,GAFI,CAAN;AAID,KAVY,CAYb;;;AACA,UAAME,KAAK,GAAGJ,yBAASH,GAAT,CAAaC,GAAb,CAAd,CAba,CAeb;;;AACA,WAAOM,KAAP;AACD;;AACD,QAAMC,MAAN,CAAaC,OAAb,EAAsB;AACpB,UAAMF,KAAK,GAAG,MAAMG,yBAAgBC,aAAhB,CAA8BF,OAA9B,CAApB;;AAEA,QAAG,CAACF,KAAJ,EAAW;AACT,YAAM,IAAID,qBAAJ,CAAqB,mCAArB,EAA0D,GAA1D,CAAN;AACD;;AAED,WAAOI,yBAAgBF,MAAhB,CAAuBC,OAAvB,CAAP;AACD;;AAED,QAAMG,MAAN,CAAaX,GAAb,EAAkB;AAChB;AACA,QAAIM,KAAK,GAAG,MAAMJ,yBAASQ,aAAT,CAAuBV,GAAG,CAACY,EAA3B,CAAlB;;AACA,QAAI,CAACN,KAAL,EAAY;AACV,YAAM,IAAID,qBAAJ,CACH,iBAAgBL,GAAG,CAACY,EAAG,kBADpB,EAEJ,GAFI,CAAN;AAID,KARe,CAUhB;;;AACAN,IAAAA,KAAK,GAAG,MAAMJ,yBAASS,MAAT,CAAgBX,GAAhB,CAAd;AAEA,WAAOM,KAAP;AACD;;AA3CiB;;eA8CL,IAAIR,aAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "sourcesContent": [
        "import brandsDb from \"./dbServices/brandsDbService\";\nimport ApplicationError from \"./../common/AppException\";\nimport brandsDbService from \"./dbServices/brandsDbService\";\nclass brandsService {\n  async add(req) {\n    // Check if user name already exists\n    let brandNameExists = await brandsDb.checkIfBrandNameExists(req.brandName);\n\n    // Throw error if already exists\n    if (brandNameExists) {\n      throw new ApplicationError(\n        `Brand name ${req.brandName} already exists`,\n        400\n      );\n    }\n\n    // Add the brand into the database\n    const brand = brandsDb.add(req);\n\n    // Return the new brand\n    return brand;\n  }\n  async delete(brandId) {\n    const brand = await brandsDbService.findBrandById(brandId);\n\n    if(!brand) {\n      throw new ApplicationError(\"Brand with this id doesn't exists\", 400);\n    }\n\n    return brandsDbService.delete(brandId);\n  }\n\n  async update(req) {\n    // Check if we already have this brand\n    let brand = await brandsDb.findBrandById(req.id);\n    if (!brand) {\n      throw new ApplicationError(\n        `Brand with id ${req.id} doesn't exists!`,\n        400\n      );\n    }\n\n    // Insert the brand into mongoDB\n    brand = await brandsDb.update(req);\n\n    return brand;\n  }\n}\n\nexport default new brandsService();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564801745947
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services/dbServices\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/dbServices/brandsDbService.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/brandsDbService.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/dbServices/brandsDbService.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/brandsDbService.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
        "sourceFileName": "brandsDbService.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _brands = require(\"../../models/brands\");\n\nclass brandsDbService {\n  add(req) {\n    return new Promise((resolve, reject) => {\n      const brand = new _brands.Brand({\n        brandName: req.brandName\n      });\n      brand.save().then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  delete(brandId) {\n    return new Promise((resolve, reject) => {\n      _brands.Brand.findByIdAndDelete(brandId).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  update(req) {\n    return new Promise((resolve, reject) => {\n      _brands.Brand.findByIdAndUpdate(req.id, req, {\n        upsert: true\n      }).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  checkIfBrandNameExists(name) {\n    return new Promise((resolve, reject) => {\n      _brands.Brand.findOne({\n        brandName: name\n      }).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  findBrandById(brandId) {\n    return new Promise((resolve, reject) => {\n      _brands.Brand.findById(brandId).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n}\n\nvar _default = new brandsDbService();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJyYW5kc0RiU2VydmljZS5qcyJdLCJuYW1lcyI6WyJicmFuZHNEYlNlcnZpY2UiLCJhZGQiLCJyZXEiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImJyYW5kIiwiQnJhbmQiLCJicmFuZE5hbWUiLCJzYXZlIiwidGhlbiIsInIiLCJjYXRjaCIsImVyciIsImRlbGV0ZSIsImJyYW5kSWQiLCJmaW5kQnlJZEFuZERlbGV0ZSIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiaWQiLCJ1cHNlcnQiLCJjaGVja0lmQnJhbmROYW1lRXhpc3RzIiwibmFtZSIsImZpbmRPbmUiLCJmaW5kQnJhbmRCeUlkIiwiZmluZEJ5SWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQSxNQUFNQSxlQUFOLENBQXNCO0FBQ3BCQyxFQUFBQSxHQUFHLENBQUNDLEdBQUQsRUFBTTtBQUNQLFdBQU8sSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0QyxZQUFNQyxLQUFLLEdBQUcsSUFBSUMsYUFBSixDQUFVO0FBQ3RCQyxRQUFBQSxTQUFTLEVBQUVOLEdBQUcsQ0FBQ007QUFETyxPQUFWLENBQWQ7QUFHQUYsTUFBQUEsS0FBSyxDQUNGRyxJQURILEdBRUdDLElBRkgsQ0FFUUMsQ0FBQyxJQUFJUCxPQUFPLENBQUNPLENBQUQsQ0FGcEIsRUFHR0MsS0FISCxDQUdTQyxHQUFHLElBQUlSLE1BQU0sQ0FBQ1EsR0FBRCxDQUh0QjtBQUlELEtBUk0sQ0FBUDtBQVNEOztBQUNEQyxFQUFBQSxNQUFNLENBQUNDLE9BQUQsRUFBVTtBQUNkLFdBQU8sSUFBSVosT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0Q0Usb0JBQU1TLGlCQUFOLENBQXdCRCxPQUF4QixFQUNHTCxJQURILENBQ1FDLENBQUMsSUFBSVAsT0FBTyxDQUFDTyxDQUFELENBRHBCLEVBRUdDLEtBRkgsQ0FFU0MsR0FBRyxJQUFJUixNQUFNLENBQUNRLEdBQUQsQ0FGdEI7QUFHRCxLQUpNLENBQVA7QUFLRDs7QUFDREksRUFBQUEsTUFBTSxDQUFDZixHQUFELEVBQU07QUFDVixXQUFPLElBQUlDLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDdENFLG9CQUFNVyxpQkFBTixDQUF3QmhCLEdBQUcsQ0FBQ2lCLEVBQTVCLEVBQWdDakIsR0FBaEMsRUFBcUM7QUFBRWtCLFFBQUFBLE1BQU0sRUFBRTtBQUFWLE9BQXJDLEVBQ0dWLElBREgsQ0FDUUMsQ0FBQyxJQUFJUCxPQUFPLENBQUNPLENBQUQsQ0FEcEIsRUFFR0MsS0FGSCxDQUVTQyxHQUFHLElBQUlSLE1BQU0sQ0FBQ1EsR0FBRCxDQUZ0QjtBQUdELEtBSk0sQ0FBUDtBQUtEOztBQUVEUSxFQUFBQSxzQkFBc0IsQ0FBQ0MsSUFBRCxFQUFPO0FBQzNCLFdBQU8sSUFBSW5CLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDdENFLG9CQUFNZ0IsT0FBTixDQUFjO0FBQUVmLFFBQUFBLFNBQVMsRUFBRWM7QUFBYixPQUFkLEVBQ0daLElBREgsQ0FDUUMsQ0FBQyxJQUFJUCxPQUFPLENBQUNPLENBQUQsQ0FEcEIsRUFFR0MsS0FGSCxDQUVTQyxHQUFHLElBQUlSLE1BQU0sQ0FBQ1EsR0FBRCxDQUZ0QjtBQUdELEtBSk0sQ0FBUDtBQUtEOztBQUVEVyxFQUFBQSxhQUFhLENBQUNULE9BQUQsRUFBVTtBQUNyQixXQUFPLElBQUlaLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDdENFLG9CQUFNa0IsUUFBTixDQUFlVixPQUFmLEVBQ0dMLElBREgsQ0FDUUMsQ0FBQyxJQUFJUCxPQUFPLENBQUNPLENBQUQsQ0FEcEIsRUFFR0MsS0FGSCxDQUVTQyxHQUFHLElBQUlSLE1BQU0sQ0FBQ1EsR0FBRCxDQUZ0QjtBQUdELEtBSk0sQ0FBUDtBQUtEOztBQXpDbUI7O2VBNENQLElBQUliLGVBQUosRSIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvc2VydmljZXMvZGJTZXJ2aWNlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJyYW5kIH0gZnJvbSBcIi4uLy4uL21vZGVscy9icmFuZHNcIjtcbmNsYXNzIGJyYW5kc0RiU2VydmljZSB7XG4gIGFkZChyZXEpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgYnJhbmQgPSBuZXcgQnJhbmQoe1xuICAgICAgICBicmFuZE5hbWU6IHJlcS5icmFuZE5hbWVcbiAgICAgIH0pO1xuICAgICAgYnJhbmRcbiAgICAgICAgLnNhdmUoKVxuICAgICAgICAudGhlbihyID0+IHJlc29sdmUocikpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9XG4gIGRlbGV0ZShicmFuZElkKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIEJyYW5kLmZpbmRCeUlkQW5kRGVsZXRlKGJyYW5kSWQpXG4gICAgICAgIC50aGVuKHIgPT4gcmVzb2x2ZShyKSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XG4gICAgfSk7XG4gIH1cbiAgdXBkYXRlKHJlcSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBCcmFuZC5maW5kQnlJZEFuZFVwZGF0ZShyZXEuaWQsIHJlcSwgeyB1cHNlcnQ6IHRydWUgfSlcbiAgICAgICAgLnRoZW4ociA9PiByZXNvbHZlKHIpKVxuICAgICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNoZWNrSWZCcmFuZE5hbWVFeGlzdHMobmFtZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBCcmFuZC5maW5kT25lKHsgYnJhbmROYW1lOiBuYW1lIH0pXG4gICAgICAgIC50aGVuKHIgPT4gcmVzb2x2ZShyKSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XG4gICAgfSk7XG4gIH1cblxuICBmaW5kQnJhbmRCeUlkKGJyYW5kSWQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgQnJhbmQuZmluZEJ5SWQoYnJhbmRJZClcbiAgICAgICAgLnRoZW4ociA9PiByZXNvbHZlKHIpKVxuICAgICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgYnJhbmRzRGJTZXJ2aWNlKCk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "brandsDbService.js"
      ],
      "names": [
        "brandsDbService",
        "add",
        "req",
        "Promise",
        "resolve",
        "reject",
        "brand",
        "Brand",
        "brandName",
        "save",
        "then",
        "r",
        "catch",
        "err",
        "delete",
        "brandId",
        "findByIdAndDelete",
        "update",
        "findByIdAndUpdate",
        "id",
        "upsert",
        "checkIfBrandNameExists",
        "name",
        "findOne",
        "findBrandById",
        "findById"
      ],
      "mappings": ";;;;;;;AAAA;;AACA,MAAMA,eAAN,CAAsB;AACpBC,EAAAA,GAAG,CAACC,GAAD,EAAM;AACP,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,YAAMC,KAAK,GAAG,IAAIC,aAAJ,CAAU;AACtBC,QAAAA,SAAS,EAAEN,GAAG,CAACM;AADO,OAAV,CAAd;AAGAF,MAAAA,KAAK,CACFG,IADH,GAEGC,IAFH,CAEQC,CAAC,IAAIP,OAAO,CAACO,CAAD,CAFpB,EAGGC,KAHH,CAGSC,GAAG,IAAIR,MAAM,CAACQ,GAAD,CAHtB;AAID,KARM,CAAP;AASD;;AACDC,EAAAA,MAAM,CAACC,OAAD,EAAU;AACd,WAAO,IAAIZ,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,oBAAMS,iBAAN,CAAwBD,OAAxB,EACGL,IADH,CACQC,CAAC,IAAIP,OAAO,CAACO,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIR,MAAM,CAACQ,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AACDI,EAAAA,MAAM,CAACf,GAAD,EAAM;AACV,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,oBAAMW,iBAAN,CAAwBhB,GAAG,CAACiB,EAA5B,EAAgCjB,GAAhC,EAAqC;AAAEkB,QAAAA,MAAM,EAAE;AAAV,OAArC,EACGV,IADH,CACQC,CAAC,IAAIP,OAAO,CAACO,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIR,MAAM,CAACQ,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AAEDQ,EAAAA,sBAAsB,CAACC,IAAD,EAAO;AAC3B,WAAO,IAAInB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,oBAAMgB,OAAN,CAAc;AAAEf,QAAAA,SAAS,EAAEc;AAAb,OAAd,EACGZ,IADH,CACQC,CAAC,IAAIP,OAAO,CAACO,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIR,MAAM,CAACQ,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AAEDW,EAAAA,aAAa,CAACT,OAAD,EAAU;AACrB,WAAO,IAAIZ,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,oBAAMkB,QAAN,CAAeV,OAAf,EACGL,IADH,CACQC,CAAC,IAAIP,OAAO,CAACO,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIR,MAAM,CAACQ,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AAzCmB;;eA4CP,IAAIb,eAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "sourcesContent": [
        "import { Brand } from \"../../models/brands\";\nclass brandsDbService {\n  add(req) {\n    return new Promise((resolve, reject) => {\n      const brand = new Brand({\n        brandName: req.brandName\n      });\n      brand\n        .save()\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n  delete(brandId) {\n    return new Promise((resolve, reject) => {\n      Brand.findByIdAndDelete(brandId)\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n  update(req) {\n    return new Promise((resolve, reject) => {\n      Brand.findByIdAndUpdate(req.id, req, { upsert: true })\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  checkIfBrandNameExists(name) {\n    return new Promise((resolve, reject) => {\n      Brand.findOne({ brandName: name })\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  findBrandById(brandId) {\n    return new Promise((resolve, reject) => {\n      Brand.findById(brandId)\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n}\n\nexport default new brandsDbService();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564801538784
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/models/brands.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/models/brands.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/models/brands.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/models/brands.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
        "sourceFileName": "brands.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateBrand = validateBrand;\nexports.Brand = void 0;\n\nvar _joi = _interopRequireDefault(require(\"joi\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _constants = _interopRequireDefault(require(\"../common/constants\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst brandsSchema = new _mongoose.default.Schema({\n  brandName: {\n    type: String,\n    required: true,\n    minlength: 2,\n    maxlength: 255,\n    unique: true\n  }\n});\n\nconst Brand = _mongoose.default.model(\"Brand\", brandsSchema);\n\nexports.Brand = Brand;\n\nfunction validateBrand(req, action) {\n  let schema = {};\n\n  switch (action) {\n    case _constants.default.brandActions.Add:\n      schema = {\n        brandName: _joi.default.string().required().min(2).max(255)\n      };\n      return _joi.default.validate(req, schema);\n\n    case _constants.default.brandActions.Update:\n      schema = {\n        brandName: _joi.default.string().required().min(2).max(255),\n        id: _joi.default.string().required().min(24).max(24)\n      };\n      return _joi.default.validate(req, schema);\n\n    case _constants.default.brandActions.Delete:\n      schema = {\n        id: _joi.default.string().required().min(24).max(24)\n      };\n      return _joi.default.validate(req, schema);\n\n    default:\n      schema = {\n        brandName: _joi.default.string().required().min(2).max(255)\n      };\n      return _joi.default.validate(req, schema);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJyYW5kcy5qcyJdLCJuYW1lcyI6WyJicmFuZHNTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsImJyYW5kTmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsIm1pbmxlbmd0aCIsIm1heGxlbmd0aCIsInVuaXF1ZSIsIkJyYW5kIiwibW9kZWwiLCJ2YWxpZGF0ZUJyYW5kIiwicmVxIiwiYWN0aW9uIiwic2NoZW1hIiwiY29uc3RhbnRzIiwiYnJhbmRBY3Rpb25zIiwiQWRkIiwiSm9pIiwic3RyaW5nIiwibWluIiwibWF4IiwidmFsaWRhdGUiLCJVcGRhdGUiLCJpZCIsIkRlbGV0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFlBQVksR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUFvQjtBQUN2Q0MsRUFBQUEsU0FBUyxFQUFFO0FBQ1RDLElBQUFBLElBQUksRUFBRUMsTUFERztBQUVUQyxJQUFBQSxRQUFRLEVBQUUsSUFGRDtBQUdUQyxJQUFBQSxTQUFTLEVBQUUsQ0FIRjtBQUlUQyxJQUFBQSxTQUFTLEVBQUUsR0FKRjtBQUtUQyxJQUFBQSxNQUFNLEVBQUU7QUFMQztBQUQ0QixDQUFwQixDQUFyQjs7QUFVTyxNQUFNQyxLQUFLLEdBQUdULGtCQUFTVSxLQUFULENBQWUsT0FBZixFQUF3QlgsWUFBeEIsQ0FBZDs7OztBQUVBLFNBQVNZLGFBQVQsQ0FBdUJDLEdBQXZCLEVBQTRCQyxNQUE1QixFQUFvQztBQUN6QyxNQUFJQyxNQUFNLEdBQUcsRUFBYjs7QUFDQSxVQUFRRCxNQUFSO0FBQ0UsU0FBS0UsbUJBQVVDLFlBQVYsQ0FBdUJDLEdBQTVCO0FBQ0VILE1BQUFBLE1BQU0sR0FBRztBQUNQWixRQUFBQSxTQUFTLEVBQUVnQixhQUFJQyxNQUFKLEdBQ1JkLFFBRFEsR0FFUmUsR0FGUSxDQUVKLENBRkksRUFHUkMsR0FIUSxDQUdKLEdBSEk7QUFESixPQUFUO0FBTUEsYUFBT0gsYUFBSUksUUFBSixDQUFhVixHQUFiLEVBQWtCRSxNQUFsQixDQUFQOztBQUNGLFNBQUtDLG1CQUFVQyxZQUFWLENBQXVCTyxNQUE1QjtBQUNFVCxNQUFBQSxNQUFNLEdBQUc7QUFDUFosUUFBQUEsU0FBUyxFQUFFZ0IsYUFBSUMsTUFBSixHQUNSZCxRQURRLEdBRVJlLEdBRlEsQ0FFSixDQUZJLEVBR1JDLEdBSFEsQ0FHSixHQUhJLENBREo7QUFLUEcsUUFBQUEsRUFBRSxFQUFFTixhQUFJQyxNQUFKLEdBQ0RkLFFBREMsR0FFRGUsR0FGQyxDQUVHLEVBRkgsRUFHREMsR0FIQyxDQUdHLEVBSEg7QUFMRyxPQUFUO0FBVUEsYUFBT0gsYUFBSUksUUFBSixDQUFhVixHQUFiLEVBQWtCRSxNQUFsQixDQUFQOztBQUNGLFNBQUtDLG1CQUFVQyxZQUFWLENBQXVCUyxNQUE1QjtBQUNFWCxNQUFBQSxNQUFNLEdBQUc7QUFDUFUsUUFBQUEsRUFBRSxFQUFFTixhQUFJQyxNQUFKLEdBQ0RkLFFBREMsR0FFRGUsR0FGQyxDQUVHLEVBRkgsRUFHREMsR0FIQyxDQUdHLEVBSEg7QUFERyxPQUFUO0FBTUEsYUFBT0gsYUFBSUksUUFBSixDQUFhVixHQUFiLEVBQWtCRSxNQUFsQixDQUFQOztBQUNGO0FBQ0VBLE1BQUFBLE1BQU0sR0FBRztBQUNQWixRQUFBQSxTQUFTLEVBQUVnQixhQUFJQyxNQUFKLEdBQ1JkLFFBRFEsR0FFUmUsR0FGUSxDQUVKLENBRkksRUFHUkMsR0FIUSxDQUdKLEdBSEk7QUFESixPQUFUO0FBTUEsYUFBT0gsYUFBSUksUUFBSixDQUFhVixHQUFiLEVBQWtCRSxNQUFsQixDQUFQO0FBcENKO0FBc0NEIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSm9pIGZyb20gXCJqb2lcIjtcbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBjb25zdGFudHMgZnJvbSBcIi4uL2NvbW1vbi9jb25zdGFudHNcIjtcblxuY29uc3QgYnJhbmRzU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIGJyYW5kTmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBtaW5sZW5ndGg6IDIsXG4gICAgbWF4bGVuZ3RoOiAyNTUsXG4gICAgdW5pcXVlOiB0cnVlXG4gIH1cbn0pO1xuXG5leHBvcnQgY29uc3QgQnJhbmQgPSBtb25nb29zZS5tb2RlbChcIkJyYW5kXCIsIGJyYW5kc1NjaGVtYSk7XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUJyYW5kKHJlcSwgYWN0aW9uKSB7XG4gIGxldCBzY2hlbWEgPSB7fTtcbiAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICBjYXNlIGNvbnN0YW50cy5icmFuZEFjdGlvbnMuQWRkOlxuICAgICAgc2NoZW1hID0ge1xuICAgICAgICBicmFuZE5hbWU6IEpvaS5zdHJpbmcoKVxuICAgICAgICAgIC5yZXF1aXJlZCgpXG4gICAgICAgICAgLm1pbigyKVxuICAgICAgICAgIC5tYXgoMjU1KVxuICAgICAgfTtcbiAgICAgIHJldHVybiBKb2kudmFsaWRhdGUocmVxLCBzY2hlbWEpO1xuICAgIGNhc2UgY29uc3RhbnRzLmJyYW5kQWN0aW9ucy5VcGRhdGU6XG4gICAgICBzY2hlbWEgPSB7XG4gICAgICAgIGJyYW5kTmFtZTogSm9pLnN0cmluZygpXG4gICAgICAgICAgLnJlcXVpcmVkKClcbiAgICAgICAgICAubWluKDIpXG4gICAgICAgICAgLm1heCgyNTUpLFxuICAgICAgICBpZDogSm9pLnN0cmluZygpXG4gICAgICAgICAgLnJlcXVpcmVkKClcbiAgICAgICAgICAubWluKDI0KVxuICAgICAgICAgIC5tYXgoMjQpXG4gICAgICB9O1xuICAgICAgcmV0dXJuIEpvaS52YWxpZGF0ZShyZXEsIHNjaGVtYSk7XG4gICAgY2FzZSBjb25zdGFudHMuYnJhbmRBY3Rpb25zLkRlbGV0ZTpcbiAgICAgIHNjaGVtYSA9IHtcbiAgICAgICAgaWQ6IEpvaS5zdHJpbmcoKVxuICAgICAgICAgIC5yZXF1aXJlZCgpXG4gICAgICAgICAgLm1pbigyNClcbiAgICAgICAgICAubWF4KDI0KVxuICAgICAgfTtcbiAgICAgIHJldHVybiBKb2kudmFsaWRhdGUocmVxLCBzY2hlbWEpO1xuICAgIGRlZmF1bHQ6XG4gICAgICBzY2hlbWEgPSB7XG4gICAgICAgIGJyYW5kTmFtZTogSm9pLnN0cmluZygpXG4gICAgICAgICAgLnJlcXVpcmVkKClcbiAgICAgICAgICAubWluKDIpXG4gICAgICAgICAgLm1heCgyNTUpXG4gICAgICB9O1xuICAgICAgcmV0dXJuIEpvaS52YWxpZGF0ZShyZXEsIHNjaGVtYSk7XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "brands.js"
      ],
      "names": [
        "brandsSchema",
        "mongoose",
        "Schema",
        "brandName",
        "type",
        "String",
        "required",
        "minlength",
        "maxlength",
        "unique",
        "Brand",
        "model",
        "validateBrand",
        "req",
        "action",
        "schema",
        "constants",
        "brandActions",
        "Add",
        "Joi",
        "string",
        "min",
        "max",
        "validate",
        "Update",
        "id",
        "Delete"
      ],
      "mappings": ";;;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,YAAY,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACvCC,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAEC,MADG;AAETC,IAAAA,QAAQ,EAAE,IAFD;AAGTC,IAAAA,SAAS,EAAE,CAHF;AAITC,IAAAA,SAAS,EAAE,GAJF;AAKTC,IAAAA,MAAM,EAAE;AALC;AAD4B,CAApB,CAArB;;AAUO,MAAMC,KAAK,GAAGT,kBAASU,KAAT,CAAe,OAAf,EAAwBX,YAAxB,CAAd;;;;AAEA,SAASY,aAAT,CAAuBC,GAAvB,EAA4BC,MAA5B,EAAoC;AACzC,MAAIC,MAAM,GAAG,EAAb;;AACA,UAAQD,MAAR;AACE,SAAKE,mBAAUC,YAAV,CAAuBC,GAA5B;AACEH,MAAAA,MAAM,GAAG;AACPZ,QAAAA,SAAS,EAAEgB,aAAIC,MAAJ,GACRd,QADQ,GAERe,GAFQ,CAEJ,CAFI,EAGRC,GAHQ,CAGJ,GAHI;AADJ,OAAT;AAMA,aAAOH,aAAII,QAAJ,CAAaV,GAAb,EAAkBE,MAAlB,CAAP;;AACF,SAAKC,mBAAUC,YAAV,CAAuBO,MAA5B;AACET,MAAAA,MAAM,GAAG;AACPZ,QAAAA,SAAS,EAAEgB,aAAIC,MAAJ,GACRd,QADQ,GAERe,GAFQ,CAEJ,CAFI,EAGRC,GAHQ,CAGJ,GAHI,CADJ;AAKPG,QAAAA,EAAE,EAAEN,aAAIC,MAAJ,GACDd,QADC,GAEDe,GAFC,CAEG,EAFH,EAGDC,GAHC,CAGG,EAHH;AALG,OAAT;AAUA,aAAOH,aAAII,QAAJ,CAAaV,GAAb,EAAkBE,MAAlB,CAAP;;AACF,SAAKC,mBAAUC,YAAV,CAAuBS,MAA5B;AACEX,MAAAA,MAAM,GAAG;AACPU,QAAAA,EAAE,EAAEN,aAAIC,MAAJ,GACDd,QADC,GAEDe,GAFC,CAEG,EAFH,EAGDC,GAHC,CAGG,EAHH;AADG,OAAT;AAMA,aAAOH,aAAII,QAAJ,CAAaV,GAAb,EAAkBE,MAAlB,CAAP;;AACF;AACEA,MAAAA,MAAM,GAAG;AACPZ,QAAAA,SAAS,EAAEgB,aAAIC,MAAJ,GACRd,QADQ,GAERe,GAFQ,CAEJ,CAFI,EAGRC,GAHQ,CAGJ,GAHI;AADJ,OAAT;AAMA,aAAOH,aAAII,QAAJ,CAAaV,GAAb,EAAkBE,MAAlB,CAAP;AApCJ;AAsCD",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "sourcesContent": [
        "import Joi from \"joi\";\nimport mongoose from \"mongoose\";\nimport constants from \"../common/constants\";\n\nconst brandsSchema = new mongoose.Schema({\n  brandName: {\n    type: String,\n    required: true,\n    minlength: 2,\n    maxlength: 255,\n    unique: true\n  }\n});\n\nexport const Brand = mongoose.model(\"Brand\", brandsSchema);\n\nexport function validateBrand(req, action) {\n  let schema = {};\n  switch (action) {\n    case constants.brandActions.Add:\n      schema = {\n        brandName: Joi.string()\n          .required()\n          .min(2)\n          .max(255)\n      };\n      return Joi.validate(req, schema);\n    case constants.brandActions.Update:\n      schema = {\n        brandName: Joi.string()\n          .required()\n          .min(2)\n          .max(255),\n        id: Joi.string()\n          .required()\n          .min(24)\n          .max(24)\n      };\n      return Joi.validate(req, schema);\n    case constants.brandActions.Delete:\n      schema = {\n        id: Joi.string()\n          .required()\n          .min(24)\n          .max(24)\n      };\n      return Joi.validate(req, schema);\n    default:\n      schema = {\n        brandName: Joi.string()\n          .required()\n          .min(2)\n          .max(255)\n      };\n      return Joi.validate(req, schema);\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564801228988
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _helmet = _interopRequireDefault(require(\"helmet\"));\n\nrequire(\"./common/env\");\n\nvar _server = _interopRequireDefault(require(\"./common/server\"));\n\nvar _routes = _interopRequireDefault(require(\"./routes\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = new _server.default(new _express.default().use((0, _helmet.default)())).router(_routes.default).listen(process.env.PORT);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlNlcnZlciIsIkV4cHJlc3MiLCJ1c2UiLCJyb3V0ZXIiLCJyb3V0ZXMiLCJsaXN0ZW4iLCJwcm9jZXNzIiwiZW52IiwiUE9SVCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O2VBRWUsSUFBSUEsZUFBSixDQUFXLElBQUlDLGdCQUFKLEdBQWNDLEdBQWQsQ0FBa0Isc0JBQWxCLENBQVgsRUFDWkMsTUFEWSxDQUNMQyxlQURLLEVBRVpDLE1BRlksQ0FFTEMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBRlAsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGhlbG1ldCBmcm9tIFwiaGVsbWV0XCI7XG5pbXBvcnQgXCIuL2NvbW1vbi9lbnZcIjtcbmltcG9ydCBTZXJ2ZXIgZnJvbSBcIi4vY29tbW9uL3NlcnZlclwiO1xuaW1wb3J0IHJvdXRlcyBmcm9tIFwiLi9yb3V0ZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgbmV3IFNlcnZlcihuZXcgRXhwcmVzcygpLnVzZShoZWxtZXQoKSkpXG4gIC5yb3V0ZXIocm91dGVzKVxuICAubGlzdGVuKHByb2Nlc3MuZW52LlBPUlQpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "Server",
        "Express",
        "use",
        "router",
        "routes",
        "listen",
        "process",
        "env",
        "PORT"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;eAEe,IAAIA,eAAJ,CAAW,IAAIC,gBAAJ,GAAcC,GAAd,CAAkB,sBAAlB,CAAX,EACZC,MADY,CACLC,eADK,EAEZC,MAFY,CAELC,OAAO,CAACC,GAAR,CAAYC,IAFP,C",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server",
      "sourcesContent": [
        "import Express from \"express\";\nimport helmet from \"helmet\";\nimport \"./common/env\";\nimport Server from \"./common/server\";\nimport routes from \"./routes\";\n\nexport default new Server(new Express().use(helmet()))\n  .router(routes)\n  .listen(process.env.PORT);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564235068380
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/common\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/common/env.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/common/env.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/common/env.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/common/env.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
        "sourceFileName": "env.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudi5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFFQUEsZ0JBQU9DLE1BQVAiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL2NvbW1vbiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcblxuZG90ZW52LmNvbmZpZygpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "env.js"
      ],
      "names": [
        "dotenv",
        "config"
      ],
      "mappings": ";;AAAA;;;;AAEAA,gBAAOC,MAAP",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "sourcesContent": [
        "import dotenv from 'dotenv';\n\ndotenv.config();"
      ]
    },
    "sourceType": "script",
    "mtime": 1564233653357
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/common\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/common/env.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/common/env.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/common/env.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/common/env.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
        "sourceFileName": "env.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudi5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFFQUEsZ0JBQU9DLE1BQVAiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL2NvbW1vbiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcblxuZG90ZW52LmNvbmZpZygpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "env.js"
      ],
      "names": [
        "dotenv",
        "config"
      ],
      "mappings": ";;AAAA;;;;AAEAA,gBAAOC,MAAP",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "sourcesContent": [
        "import dotenv from 'dotenv';\n\ndotenv.config();"
      ]
    },
    "sourceType": "script",
    "mtime": 1564233653357
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/common\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/common/constants.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/common/constants.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/common/constants.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/common/constants.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
        "sourceFileName": "constants.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = Object.freeze({\n  brandActions: {\n    Update: 'update',\n    Add: 'add',\n    Delete: 'delete'\n  }\n});\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnN0YW50cy5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJmcmVlemUiLCJicmFuZEFjdGlvbnMiLCJVcGRhdGUiLCJBZGQiLCJEZWxldGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7ZUFBZUEsTUFBTSxDQUFDQyxNQUFQLENBQWM7QUFDMUJDLEVBQUFBLFlBQVksRUFBRztBQUNYQyxJQUFBQSxNQUFNLEVBQUMsUUFESTtBQUVYQyxJQUFBQSxHQUFHLEVBQUcsS0FGSztBQUdYQyxJQUFBQSxNQUFNLEVBQUc7QUFIRTtBQURXLENBQWQsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvY29tbW9uIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmZyZWV6ZSh7XG4gICBicmFuZEFjdGlvbnMgOiB7XG4gICAgICAgVXBkYXRlOid1cGRhdGUnLFxuICAgICAgIEFkZCA6ICdhZGQnLFxuICAgICAgIERlbGV0ZSA6ICdkZWxldGUnXG4gICB9XG4gIH0pO1xuICAiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "constants.js"
      ],
      "names": [
        "Object",
        "freeze",
        "brandActions",
        "Update",
        "Add",
        "Delete"
      ],
      "mappings": ";;;;;;;eAAeA,MAAM,CAACC,MAAP,CAAc;AAC1BC,EAAAA,YAAY,EAAG;AACXC,IAAAA,MAAM,EAAC,QADI;AAEXC,IAAAA,GAAG,EAAG,KAFK;AAGXC,IAAAA,MAAM,EAAG;AAHE;AADW,CAAd,C",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "sourcesContent": [
        "export default Object.freeze({\n   brandActions : {\n       Update:'update',\n       Add : 'add',\n       Delete : 'delete'\n   }\n  });\n  "
      ]
    },
    "sourceType": "script",
    "mtime": 1564731284556
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/common\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/common/constants.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/common/constants.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/common/constants.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/common/constants.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
        "sourceFileName": "constants.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = Object.freeze({\n  brandActions: {\n    Update: 'update',\n    Add: 'add',\n    Delete: 'delete'\n  }\n});\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnN0YW50cy5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJmcmVlemUiLCJicmFuZEFjdGlvbnMiLCJVcGRhdGUiLCJBZGQiLCJEZWxldGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7ZUFBZUEsTUFBTSxDQUFDQyxNQUFQLENBQWM7QUFDMUJDLEVBQUFBLFlBQVksRUFBRztBQUNYQyxJQUFBQSxNQUFNLEVBQUMsUUFESTtBQUVYQyxJQUFBQSxHQUFHLEVBQUcsS0FGSztBQUdYQyxJQUFBQSxNQUFNLEVBQUc7QUFIRTtBQURXLENBQWQsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvY29tbW9uIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmZyZWV6ZSh7XG4gICBicmFuZEFjdGlvbnMgOiB7XG4gICAgICAgVXBkYXRlOid1cGRhdGUnLFxuICAgICAgIEFkZCA6ICdhZGQnLFxuICAgICAgIERlbGV0ZSA6ICdkZWxldGUnXG4gICB9XG4gIH0pO1xuICAiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "constants.js"
      ],
      "names": [
        "Object",
        "freeze",
        "brandActions",
        "Update",
        "Add",
        "Delete"
      ],
      "mappings": ";;;;;;;eAAeA,MAAM,CAACC,MAAP,CAAc;AAC1BC,EAAAA,YAAY,EAAG;AACXC,IAAAA,MAAM,EAAC,QADI;AAEXC,IAAAA,GAAG,EAAG,KAFK;AAGXC,IAAAA,MAAM,EAAG;AAHE;AADW,CAAd,C",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "sourcesContent": [
        "export default Object.freeze({\n   brandActions : {\n       Update:'update',\n       Add : 'add',\n       Delete : 'delete'\n   }\n  });\n  "
      ]
    },
    "sourceType": "script",
    "mtime": 1564731284556
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/routers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/routers/shoesRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/routers/shoesRouter.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/routers/shoesRouter.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/routers/shoesRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
        "sourceFileName": "shoesRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar express = _interopRequireWildcard(require(\"express\"));\n\nvar _shoesController = _interopRequireDefault(require(\"../controllers/shoesController\"));\n\nvar _async = require(\"../middleware/async\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar _default = express.Router().post(\"/insert\", (0, _async.asyncMiddleware)(_shoesController.default.insert));\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob2VzUm91dGVyLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0Iiwic2hvZXNDb250cm9sbGVyIiwiaW5zZXJ0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7OztlQUVlQSxPQUFPLENBQUNDLE1BQVIsR0FBaUJDLElBQWpCLENBQXNCLFNBQXRCLEVBQWlDLDRCQUFnQkMseUJBQWdCQyxNQUFoQyxDQUFqQyxDIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9yb3V0ZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHNob2VzQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvc2hvZXNDb250cm9sbGVyXCI7XG5pbXBvcnQge2FzeW5jTWlkZGxld2FyZX0gIGZyb20gXCIuLi9taWRkbGV3YXJlL2FzeW5jXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGV4cHJlc3MuUm91dGVyKCkucG9zdChcIi9pbnNlcnRcIiwgYXN5bmNNaWRkbGV3YXJlKHNob2VzQ29udHJvbGxlci5pbnNlcnQpKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "shoesRouter.js"
      ],
      "names": [
        "express",
        "Router",
        "post",
        "shoesController",
        "insert"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;eAEeA,OAAO,CAACC,MAAR,GAAiBC,IAAjB,CAAsB,SAAtB,EAAiC,4BAAgBC,yBAAgBC,MAAhC,CAAjC,C",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "sourcesContent": [
        "import * as express from \"express\";\nimport shoesController from \"../controllers/shoesController\";\nimport {asyncMiddleware}  from \"../middleware/async\";\n\nexport default express.Router().post(\"/insert\", asyncMiddleware(shoesController.insert));\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564826988572
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/controllers/shoesController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/controllers/shoesController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/controllers/shoesController.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/controllers/shoesController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
        "sourceFileName": "shoesController.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _shoesService = _interopRequireDefault(require(\"../services/shoesService\"));\n\nvar _shoes = require(\"../models/shoes\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass ShoesController {\n  async insert(req, res) {\n    // Validate request\n    const {\n      error\n    } = (0, _shoes.validateShoe)(req.body);\n    if (error) return res.status(400).send(error.details[0].message); // Insert the new items into the database\n\n    const result = await _shoesService.default.insert(req.body); // Return the newly created record\n\n    return res.status(201).json({\n      message: \"Successfully inserted\",\n      shoe: result\n    });\n  }\n\n}\n\nvar _default = new ShoesController();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob2VzQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJTaG9lc0NvbnRyb2xsZXIiLCJpbnNlcnQiLCJyZXEiLCJyZXMiLCJlcnJvciIsImJvZHkiLCJzdGF0dXMiLCJzZW5kIiwiZGV0YWlscyIsIm1lc3NhZ2UiLCJyZXN1bHQiLCJzaG9lc1NlcnZpY2UiLCJqc29uIiwic2hvZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsZUFBTixDQUFzQjtBQUNwQixRQUFNQyxNQUFOLENBQWFDLEdBQWIsRUFBa0JDLEdBQWxCLEVBQXVCO0FBQ3JCO0FBQ0EsVUFBTTtBQUFFQyxNQUFBQTtBQUFGLFFBQVkseUJBQWFGLEdBQUcsQ0FBQ0csSUFBakIsQ0FBbEI7QUFDQSxRQUFJRCxLQUFKLEVBQVcsT0FBT0QsR0FBRyxDQUFDRyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJILEtBQUssQ0FBQ0ksT0FBTixDQUFjLENBQWQsRUFBaUJDLE9BQXRDLENBQVAsQ0FIVSxDQUtyQjs7QUFDQSxVQUFNQyxNQUFNLEdBQUcsTUFBTUMsc0JBQWFWLE1BQWIsQ0FBb0JDLEdBQUcsQ0FBQ0csSUFBeEIsQ0FBckIsQ0FOcUIsQ0FRckI7O0FBQ0EsV0FBT0YsR0FBRyxDQUNQRyxNQURJLENBQ0csR0FESCxFQUVKTSxJQUZJLENBRUM7QUFBRUgsTUFBQUEsT0FBTyxFQUFFLHVCQUFYO0FBQW9DSSxNQUFBQSxJQUFJLEVBQUVIO0FBQTFDLEtBRkQsQ0FBUDtBQUdEOztBQWJtQjs7ZUFnQlAsSUFBSVYsZUFBSixFIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzaG9lc1NlcnZpY2UgZnJvbSBcIi4uL3NlcnZpY2VzL3Nob2VzU2VydmljZVwiO1xuaW1wb3J0IHsgdmFsaWRhdGVTaG9lIH0gZnJvbSBcIi4uL21vZGVscy9zaG9lc1wiO1xuXG5jbGFzcyBTaG9lc0NvbnRyb2xsZXIge1xuICBhc3luYyBpbnNlcnQocmVxLCByZXMpIHtcbiAgICAvLyBWYWxpZGF0ZSByZXF1ZXN0XG4gICAgY29uc3QgeyBlcnJvciB9ID0gdmFsaWRhdGVTaG9lKHJlcS5ib2R5KTtcbiAgICBpZiAoZXJyb3IpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UpO1xuXG4gICAgLy8gSW5zZXJ0IHRoZSBuZXcgaXRlbXMgaW50byB0aGUgZGF0YWJhc2VcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzaG9lc1NlcnZpY2UuaW5zZXJ0KHJlcS5ib2R5KTtcblxuICAgIC8vIFJldHVybiB0aGUgbmV3bHkgY3JlYXRlZCByZWNvcmRcbiAgICByZXR1cm4gcmVzXG4gICAgICAuc3RhdHVzKDIwMSlcbiAgICAgIC5qc29uKHsgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgaW5zZXJ0ZWRcIiwgc2hvZTogcmVzdWx0IH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBTaG9lc0NvbnRyb2xsZXIoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "shoesController.js"
      ],
      "names": [
        "ShoesController",
        "insert",
        "req",
        "res",
        "error",
        "body",
        "status",
        "send",
        "details",
        "message",
        "result",
        "shoesService",
        "json",
        "shoe"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,eAAN,CAAsB;AACpB,QAAMC,MAAN,CAAaC,GAAb,EAAkBC,GAAlB,EAAuB;AACrB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAY,yBAAaF,GAAG,CAACG,IAAjB,CAAlB;AACA,QAAID,KAAJ,EAAW,OAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP,CAHU,CAKrB;;AACA,UAAMC,MAAM,GAAG,MAAMC,sBAAaV,MAAb,CAAoBC,GAAG,CAACG,IAAxB,CAArB,CANqB,CAQrB;;AACA,WAAOF,GAAG,CACPG,MADI,CACG,GADH,EAEJM,IAFI,CAEC;AAAEH,MAAAA,OAAO,EAAE,uBAAX;AAAoCI,MAAAA,IAAI,EAAEH;AAA1C,KAFD,CAAP;AAGD;;AAbmB;;eAgBP,IAAIV,eAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "sourcesContent": [
        "import shoesService from \"../services/shoesService\";\nimport { validateShoe } from \"../models/shoes\";\n\nclass ShoesController {\n  async insert(req, res) {\n    // Validate request\n    const { error } = validateShoe(req.body);\n    if (error) return res.status(400).send(error.details[0].message);\n\n    // Insert the new items into the database\n    const result = await shoesService.insert(req.body);\n\n    // Return the newly created record\n    return res\n      .status(201)\n      .json({ message: \"Successfully inserted\", shoe: result });\n  }\n}\n\nexport default new ShoesController();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564827114242
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/routers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/routers/shoesRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/routers/shoesRouter.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/routers/shoesRouter.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/routers/shoesRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
        "sourceFileName": "shoesRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar express = _interopRequireWildcard(require(\"express\"));\n\nvar _shoesController = _interopRequireDefault(require(\"../controllers/shoesController\"));\n\nvar _async = require(\"../middleware/async\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar _default = express.Router().post(\"/insert\", (0, _async.asyncMiddleware)(_shoesController.default.insert));\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob2VzUm91dGVyLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0Iiwic2hvZXNDb250cm9sbGVyIiwiaW5zZXJ0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7OztlQUVlQSxPQUFPLENBQUNDLE1BQVIsR0FBaUJDLElBQWpCLENBQXNCLFNBQXRCLEVBQWlDLDRCQUFnQkMseUJBQWdCQyxNQUFoQyxDQUFqQyxDIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9yb3V0ZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHNob2VzQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvc2hvZXNDb250cm9sbGVyXCI7XG5pbXBvcnQge2FzeW5jTWlkZGxld2FyZX0gIGZyb20gXCIuLi9taWRkbGV3YXJlL2FzeW5jXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGV4cHJlc3MuUm91dGVyKCkucG9zdChcIi9pbnNlcnRcIiwgYXN5bmNNaWRkbGV3YXJlKHNob2VzQ29udHJvbGxlci5pbnNlcnQpKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "shoesRouter.js"
      ],
      "names": [
        "express",
        "Router",
        "post",
        "shoesController",
        "insert"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;eAEeA,OAAO,CAACC,MAAR,GAAiBC,IAAjB,CAAsB,SAAtB,EAAiC,4BAAgBC,yBAAgBC,MAAhC,CAAjC,C",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "sourcesContent": [
        "import * as express from \"express\";\nimport shoesController from \"../controllers/shoesController\";\nimport {asyncMiddleware}  from \"../middleware/async\";\n\nexport default express.Router().post(\"/insert\", asyncMiddleware(shoesController.insert));\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564826988572
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/controllers/shoesController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/controllers/shoesController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/controllers/shoesController.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/controllers/shoesController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
        "sourceFileName": "shoesController.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _shoesService = _interopRequireDefault(require(\"../services/shoesService\"));\n\nvar _shoes = require(\"../models/shoes\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass ShoesController {\n  async insert(req, res) {\n    // Validate request\n    const {\n      error\n    } = (0, _shoes.validateShoe)(req.body);\n    if (error) return res.status(400).send(error.details[0].message); // Insert the new items into the database\n\n    const result = await _shoesService.default.insert(req.body); // Return the newly created record\n\n    return res.status(201).json({\n      message: \"Successfully inserted\",\n      shoe: result\n    });\n  }\n\n}\n\nvar _default = new ShoesController();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob2VzQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJTaG9lc0NvbnRyb2xsZXIiLCJpbnNlcnQiLCJyZXEiLCJyZXMiLCJlcnJvciIsImJvZHkiLCJzdGF0dXMiLCJzZW5kIiwiZGV0YWlscyIsIm1lc3NhZ2UiLCJyZXN1bHQiLCJzaG9lc1NlcnZpY2UiLCJqc29uIiwic2hvZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsZUFBTixDQUFzQjtBQUNwQixRQUFNQyxNQUFOLENBQWFDLEdBQWIsRUFBa0JDLEdBQWxCLEVBQXVCO0FBQ3JCO0FBQ0EsVUFBTTtBQUFFQyxNQUFBQTtBQUFGLFFBQVkseUJBQWFGLEdBQUcsQ0FBQ0csSUFBakIsQ0FBbEI7QUFDQSxRQUFJRCxLQUFKLEVBQVcsT0FBT0QsR0FBRyxDQUFDRyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJILEtBQUssQ0FBQ0ksT0FBTixDQUFjLENBQWQsRUFBaUJDLE9BQXRDLENBQVAsQ0FIVSxDQUtyQjs7QUFDQSxVQUFNQyxNQUFNLEdBQUcsTUFBTUMsc0JBQWFWLE1BQWIsQ0FBb0JDLEdBQUcsQ0FBQ0csSUFBeEIsQ0FBckIsQ0FOcUIsQ0FRckI7O0FBQ0EsV0FBT0YsR0FBRyxDQUNQRyxNQURJLENBQ0csR0FESCxFQUVKTSxJQUZJLENBRUM7QUFBRUgsTUFBQUEsT0FBTyxFQUFFLHVCQUFYO0FBQW9DSSxNQUFBQSxJQUFJLEVBQUVIO0FBQTFDLEtBRkQsQ0FBUDtBQUdEOztBQWJtQjs7ZUFnQlAsSUFBSVYsZUFBSixFIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzaG9lc1NlcnZpY2UgZnJvbSBcIi4uL3NlcnZpY2VzL3Nob2VzU2VydmljZVwiO1xuaW1wb3J0IHsgdmFsaWRhdGVTaG9lIH0gZnJvbSBcIi4uL21vZGVscy9zaG9lc1wiO1xuXG5jbGFzcyBTaG9lc0NvbnRyb2xsZXIge1xuICBhc3luYyBpbnNlcnQocmVxLCByZXMpIHtcbiAgICAvLyBWYWxpZGF0ZSByZXF1ZXN0XG4gICAgY29uc3QgeyBlcnJvciB9ID0gdmFsaWRhdGVTaG9lKHJlcS5ib2R5KTtcbiAgICBpZiAoZXJyb3IpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UpO1xuXG4gICAgLy8gSW5zZXJ0IHRoZSBuZXcgaXRlbXMgaW50byB0aGUgZGF0YWJhc2VcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzaG9lc1NlcnZpY2UuaW5zZXJ0KHJlcS5ib2R5KTtcblxuICAgIC8vIFJldHVybiB0aGUgbmV3bHkgY3JlYXRlZCByZWNvcmRcbiAgICByZXR1cm4gcmVzXG4gICAgICAuc3RhdHVzKDIwMSlcbiAgICAgIC5qc29uKHsgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgaW5zZXJ0ZWRcIiwgc2hvZTogcmVzdWx0IH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBTaG9lc0NvbnRyb2xsZXIoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "shoesController.js"
      ],
      "names": [
        "ShoesController",
        "insert",
        "req",
        "res",
        "error",
        "body",
        "status",
        "send",
        "details",
        "message",
        "result",
        "shoesService",
        "json",
        "shoe"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,eAAN,CAAsB;AACpB,QAAMC,MAAN,CAAaC,GAAb,EAAkBC,GAAlB,EAAuB;AACrB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAY,yBAAaF,GAAG,CAACG,IAAjB,CAAlB;AACA,QAAID,KAAJ,EAAW,OAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP,CAHU,CAKrB;;AACA,UAAMC,MAAM,GAAG,MAAMC,sBAAaV,MAAb,CAAoBC,GAAG,CAACG,IAAxB,CAArB,CANqB,CAQrB;;AACA,WAAOF,GAAG,CACPG,MADI,CACG,GADH,EAEJM,IAFI,CAEC;AAAEH,MAAAA,OAAO,EAAE,uBAAX;AAAoCI,MAAAA,IAAI,EAAEH;AAA1C,KAFD,CAAP;AAGD;;AAbmB;;eAgBP,IAAIV,eAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "sourcesContent": [
        "import shoesService from \"../services/shoesService\";\nimport { validateShoe } from \"../models/shoes\";\n\nclass ShoesController {\n  async insert(req, res) {\n    // Validate request\n    const { error } = validateShoe(req.body);\n    if (error) return res.status(400).send(error.details[0].message);\n\n    // Insert the new items into the database\n    const result = await shoesService.insert(req.body);\n\n    // Return the newly created record\n    return res\n      .status(201)\n      .json({ message: \"Successfully inserted\", shoe: result });\n  }\n}\n\nexport default new ShoesController();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564827114242
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services/dbServices\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/dbServices/shoesDbServices.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/shoesDbServices.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/dbServices/shoesDbServices.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/shoesDbServices.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
        "sourceFileName": "shoesDbServices.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _shoes = require(\"../../models/shoes\");\n\nclass ShoesDbService {\n  insert(req) {\n    return new Promise((resolve, reject) => {\n      const shoe = new _shoes.Shoe({\n        itemsInStock: req.itemsInStock,\n        brand: req.brand,\n        price: req.price\n      });\n      shoe.save().then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  updateShoeItemsNumber(shoeId, noOfCurrentItems, increase = true) {\n    return new Promise((resolve, reject) => {\n      _shoes.Shoe.findByIdAndUpdate(shoeId, {\n        $set: {\n          itemsInStock: increase ? noOfCurrentItems + 1 : noOfCurrentItems - 1\n        }\n      }, {\n        upsert: true\n      }).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  findShoeById(shoeId) {\n    return new Promise((resolve, reject) => {\n      _shoes.Shoe.findById(shoeId).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n}\n\nvar _default = new ShoesDbService();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob2VzRGJTZXJ2aWNlcy5qcyJdLCJuYW1lcyI6WyJTaG9lc0RiU2VydmljZSIsImluc2VydCIsInJlcSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2hvZSIsIlNob2UiLCJpdGVtc0luU3RvY2siLCJicmFuZCIsInByaWNlIiwic2F2ZSIsInRoZW4iLCJyIiwiY2F0Y2giLCJlcnIiLCJ1cGRhdGVTaG9lSXRlbXNOdW1iZXIiLCJzaG9lSWQiLCJub09mQ3VycmVudEl0ZW1zIiwiaW5jcmVhc2UiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIiRzZXQiLCJ1cHNlcnQiLCJmaW5kU2hvZUJ5SWQiLCJmaW5kQnlJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBLE1BQU1BLGNBQU4sQ0FBcUI7QUFDbkJDLEVBQUFBLE1BQU0sQ0FBQ0MsR0FBRCxFQUFNO0FBQ1YsV0FBTyxJQUFJQyxPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3RDLFlBQU1DLElBQUksR0FBRyxJQUFJQyxXQUFKLENBQVM7QUFDcEJDLFFBQUFBLFlBQVksRUFBRU4sR0FBRyxDQUFDTSxZQURFO0FBRXBCQyxRQUFBQSxLQUFLLEVBQUVQLEdBQUcsQ0FBQ08sS0FGUztBQUdwQkMsUUFBQUEsS0FBSyxFQUFFUixHQUFHLENBQUNRO0FBSFMsT0FBVCxDQUFiO0FBTUFKLE1BQUFBLElBQUksQ0FDREssSUFESCxHQUVHQyxJQUZILENBRVFDLENBQUMsSUFBSVQsT0FBTyxDQUFDUyxDQUFELENBRnBCLEVBR0dDLEtBSEgsQ0FHU0MsR0FBRyxJQUFJVixNQUFNLENBQUNVLEdBQUQsQ0FIdEI7QUFJRCxLQVhNLENBQVA7QUFZRDs7QUFFREMsRUFBQUEscUJBQXFCLENBQUNDLE1BQUQsRUFBUUMsZ0JBQVIsRUFBMEJDLFFBQVEsR0FBRyxJQUFyQyxFQUEyQztBQUM5RCxXQUFPLElBQUloQixPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3RDRSxrQkFBS2EsaUJBQUwsQ0FDRUgsTUFERixFQUVFO0FBQ0VJLFFBQUFBLElBQUksRUFBRTtBQUFFYixVQUFBQSxZQUFZLEVBQUVXLFFBQVEsR0FBR0QsZ0JBQWdCLEdBQUcsQ0FBdEIsR0FBMEJBLGdCQUFnQixHQUFHO0FBQXJFO0FBRFIsT0FGRixFQUtFO0FBQUVJLFFBQUFBLE1BQU0sRUFBRTtBQUFWLE9BTEYsRUFPR1YsSUFQSCxDQU9RQyxDQUFDLElBQUlULE9BQU8sQ0FBQ1MsQ0FBRCxDQVBwQixFQVFHQyxLQVJILENBUVNDLEdBQUcsSUFBSVYsTUFBTSxDQUFDVSxHQUFELENBUnRCO0FBU0QsS0FWTSxDQUFQO0FBV0Q7O0FBQ0RRLEVBQUFBLFlBQVksQ0FBQ04sTUFBRCxFQUFTO0FBQ25CLFdBQU8sSUFBSWQsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0Q0Usa0JBQUtpQixRQUFMLENBQWNQLE1BQWQsRUFDR0wsSUFESCxDQUNRQyxDQUFDLElBQUlULE9BQU8sQ0FBQ1MsQ0FBRCxDQURwQixFQUVHQyxLQUZILENBRVNDLEdBQUcsSUFBSVYsTUFBTSxDQUFDVSxHQUFELENBRnRCO0FBR0QsS0FKTSxDQUFQO0FBS0Q7O0FBbkNrQjs7ZUFzQ04sSUFBSWYsY0FBSixFIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9zZXJ2aWNlcy9kYlNlcnZpY2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2hvZSB9IGZyb20gXCIuLi8uLi9tb2RlbHMvc2hvZXNcIjtcbmNsYXNzIFNob2VzRGJTZXJ2aWNlIHtcbiAgaW5zZXJ0KHJlcSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBzaG9lID0gbmV3IFNob2Uoe1xuICAgICAgICBpdGVtc0luU3RvY2s6IHJlcS5pdGVtc0luU3RvY2ssXG4gICAgICAgIGJyYW5kOiByZXEuYnJhbmQsXG4gICAgICAgIHByaWNlOiByZXEucHJpY2VcbiAgICAgIH0pO1xuXG4gICAgICBzaG9lXG4gICAgICAgIC5zYXZlKClcbiAgICAgICAgLnRoZW4ociA9PiByZXNvbHZlKHIpKVxuICAgICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZVNob2VJdGVtc051bWJlcihzaG9lSWQsbm9PZkN1cnJlbnRJdGVtcywgaW5jcmVhc2UgPSB0cnVlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIFNob2UuZmluZEJ5SWRBbmRVcGRhdGUoXG4gICAgICAgIHNob2VJZCxcbiAgICAgICAge1xuICAgICAgICAgICRzZXQ6IHsgaXRlbXNJblN0b2NrOiBpbmNyZWFzZSA/IG5vT2ZDdXJyZW50SXRlbXMgKyAxIDogbm9PZkN1cnJlbnRJdGVtcyAtIDEgfVxuICAgICAgICB9LFxuICAgICAgICB7IHVwc2VydDogdHJ1ZSB9XG4gICAgICApXG4gICAgICAgIC50aGVuKHIgPT4gcmVzb2x2ZShyKSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XG4gICAgfSk7XG4gIH1cbiAgZmluZFNob2VCeUlkKHNob2VJZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBTaG9lLmZpbmRCeUlkKHNob2VJZClcbiAgICAgICAgLnRoZW4ociA9PiByZXNvbHZlKHIpKVxuICAgICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgU2hvZXNEYlNlcnZpY2UoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "shoesDbServices.js"
      ],
      "names": [
        "ShoesDbService",
        "insert",
        "req",
        "Promise",
        "resolve",
        "reject",
        "shoe",
        "Shoe",
        "itemsInStock",
        "brand",
        "price",
        "save",
        "then",
        "r",
        "catch",
        "err",
        "updateShoeItemsNumber",
        "shoeId",
        "noOfCurrentItems",
        "increase",
        "findByIdAndUpdate",
        "$set",
        "upsert",
        "findShoeById",
        "findById"
      ],
      "mappings": ";;;;;;;AAAA;;AACA,MAAMA,cAAN,CAAqB;AACnBC,EAAAA,MAAM,CAACC,GAAD,EAAM;AACV,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,YAAMC,IAAI,GAAG,IAAIC,WAAJ,CAAS;AACpBC,QAAAA,YAAY,EAAEN,GAAG,CAACM,YADE;AAEpBC,QAAAA,KAAK,EAAEP,GAAG,CAACO,KAFS;AAGpBC,QAAAA,KAAK,EAAER,GAAG,CAACQ;AAHS,OAAT,CAAb;AAMAJ,MAAAA,IAAI,CACDK,IADH,GAEGC,IAFH,CAEQC,CAAC,IAAIT,OAAO,CAACS,CAAD,CAFpB,EAGGC,KAHH,CAGSC,GAAG,IAAIV,MAAM,CAACU,GAAD,CAHtB;AAID,KAXM,CAAP;AAYD;;AAEDC,EAAAA,qBAAqB,CAACC,MAAD,EAAQC,gBAAR,EAA0BC,QAAQ,GAAG,IAArC,EAA2C;AAC9D,WAAO,IAAIhB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,kBAAKa,iBAAL,CACEH,MADF,EAEE;AACEI,QAAAA,IAAI,EAAE;AAAEb,UAAAA,YAAY,EAAEW,QAAQ,GAAGD,gBAAgB,GAAG,CAAtB,GAA0BA,gBAAgB,GAAG;AAArE;AADR,OAFF,EAKE;AAAEI,QAAAA,MAAM,EAAE;AAAV,OALF,EAOGV,IAPH,CAOQC,CAAC,IAAIT,OAAO,CAACS,CAAD,CAPpB,EAQGC,KARH,CAQSC,GAAG,IAAIV,MAAM,CAACU,GAAD,CARtB;AASD,KAVM,CAAP;AAWD;;AACDQ,EAAAA,YAAY,CAACN,MAAD,EAAS;AACnB,WAAO,IAAId,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,kBAAKiB,QAAL,CAAcP,MAAd,EACGL,IADH,CACQC,CAAC,IAAIT,OAAO,CAACS,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIV,MAAM,CAACU,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AAnCkB;;eAsCN,IAAIf,cAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "sourcesContent": [
        "import { Shoe } from \"../../models/shoes\";\nclass ShoesDbService {\n  insert(req) {\n    return new Promise((resolve, reject) => {\n      const shoe = new Shoe({\n        itemsInStock: req.itemsInStock,\n        brand: req.brand,\n        price: req.price\n      });\n\n      shoe\n        .save()\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  updateShoeItemsNumber(shoeId,noOfCurrentItems, increase = true) {\n    return new Promise((resolve, reject) => {\n      Shoe.findByIdAndUpdate(\n        shoeId,\n        {\n          $set: { itemsInStock: increase ? noOfCurrentItems + 1 : noOfCurrentItems - 1 }\n        },\n        { upsert: true }\n      )\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n  findShoeById(shoeId) {\n    return new Promise((resolve, reject) => {\n      Shoe.findById(shoeId)\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n}\n\nexport default new ShoesDbService();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564821501766
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/shoesService.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/shoesService.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/shoesService.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/shoesService.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
        "sourceFileName": "shoesService.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _shoesDbServices = _interopRequireDefault(require(\"./dbServices/shoesDbServices\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass ShoesServices {\n  async insert(req) {\n    return _shoesDbServices.default.insert(req);\n  }\n\n}\n\nvar _default = new ShoesServices();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob2VzU2VydmljZS5qcyJdLCJuYW1lcyI6WyJTaG9lc1NlcnZpY2VzIiwiaW5zZXJ0IiwicmVxIiwic2hvZXNEYlNlcnZpY2VzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxhQUFOLENBQW9CO0FBQ2hCLFFBQU1DLE1BQU4sQ0FBY0MsR0FBZCxFQUFtQjtBQUNmLFdBQU9DLHlCQUFnQkYsTUFBaEIsQ0FBdUJDLEdBQXZCLENBQVA7QUFDSDs7QUFIZTs7ZUFNTCxJQUFJRixhQUFKLEUiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL3NlcnZpY2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNob2VzRGJTZXJ2aWNlcyBmcm9tIFwiLi9kYlNlcnZpY2VzL3Nob2VzRGJTZXJ2aWNlc1wiO1xuXG5jbGFzcyBTaG9lc1NlcnZpY2VzIHtcbiAgICBhc3luYyBpbnNlcnQgKHJlcSkge1xuICAgICAgICByZXR1cm4gc2hvZXNEYlNlcnZpY2VzLmluc2VydChyZXEpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFNob2VzU2VydmljZXMoKTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "shoesService.js"
      ],
      "names": [
        "ShoesServices",
        "insert",
        "req",
        "shoesDbServices"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,aAAN,CAAoB;AAChB,QAAMC,MAAN,CAAcC,GAAd,EAAmB;AACf,WAAOC,yBAAgBF,MAAhB,CAAuBC,GAAvB,CAAP;AACH;;AAHe;;eAML,IAAIF,aAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "sourcesContent": [
        "import shoesDbServices from \"./dbServices/shoesDbServices\";\n\nclass ShoesServices {\n    async insert (req) {\n        return shoesDbServices.insert(req);\n    }\n}\n\nexport default new ShoesServices();"
      ]
    },
    "sourceType": "script",
    "mtime": 1564809485810
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/shoesService.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/shoesService.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/shoesService.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/shoesService.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
        "sourceFileName": "shoesService.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _shoesDbServices = _interopRequireDefault(require(\"./dbServices/shoesDbServices\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass ShoesServices {\n  async insert(req) {\n    return _shoesDbServices.default.insert(req);\n  }\n\n}\n\nvar _default = new ShoesServices();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob2VzU2VydmljZS5qcyJdLCJuYW1lcyI6WyJTaG9lc1NlcnZpY2VzIiwiaW5zZXJ0IiwicmVxIiwic2hvZXNEYlNlcnZpY2VzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxhQUFOLENBQW9CO0FBQ2hCLFFBQU1DLE1BQU4sQ0FBY0MsR0FBZCxFQUFtQjtBQUNmLFdBQU9DLHlCQUFnQkYsTUFBaEIsQ0FBdUJDLEdBQXZCLENBQVA7QUFDSDs7QUFIZTs7ZUFNTCxJQUFJRixhQUFKLEUiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL3NlcnZpY2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNob2VzRGJTZXJ2aWNlcyBmcm9tIFwiLi9kYlNlcnZpY2VzL3Nob2VzRGJTZXJ2aWNlc1wiO1xuXG5jbGFzcyBTaG9lc1NlcnZpY2VzIHtcbiAgICBhc3luYyBpbnNlcnQgKHJlcSkge1xuICAgICAgICByZXR1cm4gc2hvZXNEYlNlcnZpY2VzLmluc2VydChyZXEpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFNob2VzU2VydmljZXMoKTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "shoesService.js"
      ],
      "names": [
        "ShoesServices",
        "insert",
        "req",
        "shoesDbServices"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,aAAN,CAAoB;AAChB,QAAMC,MAAN,CAAcC,GAAd,EAAmB;AACf,WAAOC,yBAAgBF,MAAhB,CAAuBC,GAAvB,CAAP;AACH;;AAHe;;eAML,IAAIF,aAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "sourcesContent": [
        "import shoesDbServices from \"./dbServices/shoesDbServices\";\n\nclass ShoesServices {\n    async insert (req) {\n        return shoesDbServices.insert(req);\n    }\n}\n\nexport default new ShoesServices();"
      ]
    },
    "sourceType": "script",
    "mtime": 1564809485810
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services/dbServices\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/dbServices/shoesDbServices.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/shoesDbServices.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/dbServices/shoesDbServices.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/shoesDbServices.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
        "sourceFileName": "shoesDbServices.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _shoes = require(\"../../models/shoes\");\n\nclass ShoesDbService {\n  insert(req) {\n    return new Promise((resolve, reject) => {\n      const shoe = new _shoes.Shoe({\n        itemsInStock: req.itemsInStock,\n        brand: req.brand,\n        price: req.price\n      });\n      shoe.save().then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  updateShoeItemsNumber(shoeId, noOfCurrentItems, increase = true) {\n    return new Promise((resolve, reject) => {\n      _shoes.Shoe.findByIdAndUpdate(shoeId, {\n        $set: {\n          itemsInStock: increase ? noOfCurrentItems + 1 : noOfCurrentItems - 1\n        }\n      }, {\n        upsert: true\n      }).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  findShoeById(shoeId) {\n    return new Promise((resolve, reject) => {\n      _shoes.Shoe.findById(shoeId).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n}\n\nvar _default = new ShoesDbService();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob2VzRGJTZXJ2aWNlcy5qcyJdLCJuYW1lcyI6WyJTaG9lc0RiU2VydmljZSIsImluc2VydCIsInJlcSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2hvZSIsIlNob2UiLCJpdGVtc0luU3RvY2siLCJicmFuZCIsInByaWNlIiwic2F2ZSIsInRoZW4iLCJyIiwiY2F0Y2giLCJlcnIiLCJ1cGRhdGVTaG9lSXRlbXNOdW1iZXIiLCJzaG9lSWQiLCJub09mQ3VycmVudEl0ZW1zIiwiaW5jcmVhc2UiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIiRzZXQiLCJ1cHNlcnQiLCJmaW5kU2hvZUJ5SWQiLCJmaW5kQnlJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBLE1BQU1BLGNBQU4sQ0FBcUI7QUFDbkJDLEVBQUFBLE1BQU0sQ0FBQ0MsR0FBRCxFQUFNO0FBQ1YsV0FBTyxJQUFJQyxPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3RDLFlBQU1DLElBQUksR0FBRyxJQUFJQyxXQUFKLENBQVM7QUFDcEJDLFFBQUFBLFlBQVksRUFBRU4sR0FBRyxDQUFDTSxZQURFO0FBRXBCQyxRQUFBQSxLQUFLLEVBQUVQLEdBQUcsQ0FBQ08sS0FGUztBQUdwQkMsUUFBQUEsS0FBSyxFQUFFUixHQUFHLENBQUNRO0FBSFMsT0FBVCxDQUFiO0FBTUFKLE1BQUFBLElBQUksQ0FDREssSUFESCxHQUVHQyxJQUZILENBRVFDLENBQUMsSUFBSVQsT0FBTyxDQUFDUyxDQUFELENBRnBCLEVBR0dDLEtBSEgsQ0FHU0MsR0FBRyxJQUFJVixNQUFNLENBQUNVLEdBQUQsQ0FIdEI7QUFJRCxLQVhNLENBQVA7QUFZRDs7QUFFREMsRUFBQUEscUJBQXFCLENBQUNDLE1BQUQsRUFBUUMsZ0JBQVIsRUFBMEJDLFFBQVEsR0FBRyxJQUFyQyxFQUEyQztBQUM5RCxXQUFPLElBQUloQixPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3RDRSxrQkFBS2EsaUJBQUwsQ0FDRUgsTUFERixFQUVFO0FBQ0VJLFFBQUFBLElBQUksRUFBRTtBQUFFYixVQUFBQSxZQUFZLEVBQUVXLFFBQVEsR0FBR0QsZ0JBQWdCLEdBQUcsQ0FBdEIsR0FBMEJBLGdCQUFnQixHQUFHO0FBQXJFO0FBRFIsT0FGRixFQUtFO0FBQUVJLFFBQUFBLE1BQU0sRUFBRTtBQUFWLE9BTEYsRUFPR1YsSUFQSCxDQU9RQyxDQUFDLElBQUlULE9BQU8sQ0FBQ1MsQ0FBRCxDQVBwQixFQVFHQyxLQVJILENBUVNDLEdBQUcsSUFBSVYsTUFBTSxDQUFDVSxHQUFELENBUnRCO0FBU0QsS0FWTSxDQUFQO0FBV0Q7O0FBQ0RRLEVBQUFBLFlBQVksQ0FBQ04sTUFBRCxFQUFTO0FBQ25CLFdBQU8sSUFBSWQsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0Q0Usa0JBQUtpQixRQUFMLENBQWNQLE1BQWQsRUFDR0wsSUFESCxDQUNRQyxDQUFDLElBQUlULE9BQU8sQ0FBQ1MsQ0FBRCxDQURwQixFQUVHQyxLQUZILENBRVNDLEdBQUcsSUFBSVYsTUFBTSxDQUFDVSxHQUFELENBRnRCO0FBR0QsS0FKTSxDQUFQO0FBS0Q7O0FBbkNrQjs7ZUFzQ04sSUFBSWYsY0FBSixFIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9zZXJ2aWNlcy9kYlNlcnZpY2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2hvZSB9IGZyb20gXCIuLi8uLi9tb2RlbHMvc2hvZXNcIjtcbmNsYXNzIFNob2VzRGJTZXJ2aWNlIHtcbiAgaW5zZXJ0KHJlcSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBzaG9lID0gbmV3IFNob2Uoe1xuICAgICAgICBpdGVtc0luU3RvY2s6IHJlcS5pdGVtc0luU3RvY2ssXG4gICAgICAgIGJyYW5kOiByZXEuYnJhbmQsXG4gICAgICAgIHByaWNlOiByZXEucHJpY2VcbiAgICAgIH0pO1xuXG4gICAgICBzaG9lXG4gICAgICAgIC5zYXZlKClcbiAgICAgICAgLnRoZW4ociA9PiByZXNvbHZlKHIpKVxuICAgICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZVNob2VJdGVtc051bWJlcihzaG9lSWQsbm9PZkN1cnJlbnRJdGVtcywgaW5jcmVhc2UgPSB0cnVlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIFNob2UuZmluZEJ5SWRBbmRVcGRhdGUoXG4gICAgICAgIHNob2VJZCxcbiAgICAgICAge1xuICAgICAgICAgICRzZXQ6IHsgaXRlbXNJblN0b2NrOiBpbmNyZWFzZSA/IG5vT2ZDdXJyZW50SXRlbXMgKyAxIDogbm9PZkN1cnJlbnRJdGVtcyAtIDEgfVxuICAgICAgICB9LFxuICAgICAgICB7IHVwc2VydDogdHJ1ZSB9XG4gICAgICApXG4gICAgICAgIC50aGVuKHIgPT4gcmVzb2x2ZShyKSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XG4gICAgfSk7XG4gIH1cbiAgZmluZFNob2VCeUlkKHNob2VJZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBTaG9lLmZpbmRCeUlkKHNob2VJZClcbiAgICAgICAgLnRoZW4ociA9PiByZXNvbHZlKHIpKVxuICAgICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgU2hvZXNEYlNlcnZpY2UoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "shoesDbServices.js"
      ],
      "names": [
        "ShoesDbService",
        "insert",
        "req",
        "Promise",
        "resolve",
        "reject",
        "shoe",
        "Shoe",
        "itemsInStock",
        "brand",
        "price",
        "save",
        "then",
        "r",
        "catch",
        "err",
        "updateShoeItemsNumber",
        "shoeId",
        "noOfCurrentItems",
        "increase",
        "findByIdAndUpdate",
        "$set",
        "upsert",
        "findShoeById",
        "findById"
      ],
      "mappings": ";;;;;;;AAAA;;AACA,MAAMA,cAAN,CAAqB;AACnBC,EAAAA,MAAM,CAACC,GAAD,EAAM;AACV,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,YAAMC,IAAI,GAAG,IAAIC,WAAJ,CAAS;AACpBC,QAAAA,YAAY,EAAEN,GAAG,CAACM,YADE;AAEpBC,QAAAA,KAAK,EAAEP,GAAG,CAACO,KAFS;AAGpBC,QAAAA,KAAK,EAAER,GAAG,CAACQ;AAHS,OAAT,CAAb;AAMAJ,MAAAA,IAAI,CACDK,IADH,GAEGC,IAFH,CAEQC,CAAC,IAAIT,OAAO,CAACS,CAAD,CAFpB,EAGGC,KAHH,CAGSC,GAAG,IAAIV,MAAM,CAACU,GAAD,CAHtB;AAID,KAXM,CAAP;AAYD;;AAEDC,EAAAA,qBAAqB,CAACC,MAAD,EAAQC,gBAAR,EAA0BC,QAAQ,GAAG,IAArC,EAA2C;AAC9D,WAAO,IAAIhB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,kBAAKa,iBAAL,CACEH,MADF,EAEE;AACEI,QAAAA,IAAI,EAAE;AAAEb,UAAAA,YAAY,EAAEW,QAAQ,GAAGD,gBAAgB,GAAG,CAAtB,GAA0BA,gBAAgB,GAAG;AAArE;AADR,OAFF,EAKE;AAAEI,QAAAA,MAAM,EAAE;AAAV,OALF,EAOGV,IAPH,CAOQC,CAAC,IAAIT,OAAO,CAACS,CAAD,CAPpB,EAQGC,KARH,CAQSC,GAAG,IAAIV,MAAM,CAACU,GAAD,CARtB;AASD,KAVM,CAAP;AAWD;;AACDQ,EAAAA,YAAY,CAACN,MAAD,EAAS;AACnB,WAAO,IAAId,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,kBAAKiB,QAAL,CAAcP,MAAd,EACGL,IADH,CACQC,CAAC,IAAIT,OAAO,CAACS,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIV,MAAM,CAACU,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AAnCkB;;eAsCN,IAAIf,cAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "sourcesContent": [
        "import { Shoe } from \"../../models/shoes\";\nclass ShoesDbService {\n  insert(req) {\n    return new Promise((resolve, reject) => {\n      const shoe = new Shoe({\n        itemsInStock: req.itemsInStock,\n        brand: req.brand,\n        price: req.price\n      });\n\n      shoe\n        .save()\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  updateShoeItemsNumber(shoeId,noOfCurrentItems, increase = true) {\n    return new Promise((resolve, reject) => {\n      Shoe.findByIdAndUpdate(\n        shoeId,\n        {\n          $set: { itemsInStock: increase ? noOfCurrentItems + 1 : noOfCurrentItems - 1 }\n        },\n        { upsert: true }\n      )\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n  findShoeById(shoeId) {\n    return new Promise((resolve, reject) => {\n      Shoe.findById(shoeId)\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n}\n\nexport default new ShoesDbService();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564821501766
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/models/shoes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/models/shoes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/models/shoes.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/models/shoes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
        "sourceFileName": "shoes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateShoe = validateShoe;\nexports.Shoe = void 0;\n\nvar _joi = _interopRequireDefault(require(\"joi\"));\n\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst shoeSchema = new _mongoose.default.Schema({\n  itemsInStock: {\n    type: Number\n  },\n  brand: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: \"Brand\"\n  },\n  price: {\n    type: _mongoose.Schema.Types.Decimal128\n  }\n});\n\nconst Shoe = _mongoose.default.model(\"Shoe\", shoeSchema);\n\nexports.Shoe = Shoe;\n\nfunction validateShoe(req) {\n  const schema = {\n    itemsInStock: _joi.default.number().required(),\n    brand: _joi.default.string().required(),\n    price: _joi.default.required()\n  };\n  return _joi.default.validate(req, schema);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob2VzLmpzIl0sIm5hbWVzIjpbInNob2VTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIml0ZW1zSW5TdG9jayIsInR5cGUiLCJOdW1iZXIiLCJicmFuZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZSIsIkRlY2ltYWwxMjgiLCJTaG9lIiwibW9kZWwiLCJ2YWxpZGF0ZVNob2UiLCJyZXEiLCJzY2hlbWEiLCJKb2kiLCJudW1iZXIiLCJyZXF1aXJlZCIsInN0cmluZyIsInZhbGlkYXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOztBQUNBOzs7Ozs7QUFFQSxNQUFNQSxVQUFVLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDckNDLEVBQUFBLFlBQVksRUFBRTtBQUNaQyxJQUFBQSxJQUFJLEVBQUVDO0FBRE0sR0FEdUI7QUFJckNDLEVBQUFBLEtBQUssRUFBRTtBQUNMRixJQUFBQSxJQUFJLEVBQUVILGtCQUFTQyxNQUFULENBQWdCSyxLQUFoQixDQUFzQkMsUUFEdkI7QUFFTEMsSUFBQUEsR0FBRyxFQUFFO0FBRkEsR0FKOEI7QUFRckNDLEVBQUFBLEtBQUssRUFBRTtBQUNMTixJQUFBQSxJQUFJLEVBQUVGLGlCQUFPSyxLQUFQLENBQWFJO0FBRGQ7QUFSOEIsQ0FBcEIsQ0FBbkI7O0FBYU8sTUFBTUMsSUFBSSxHQUFHWCxrQkFBU1ksS0FBVCxDQUFlLE1BQWYsRUFBdUJiLFVBQXZCLENBQWI7Ozs7QUFFQSxTQUFTYyxZQUFULENBQXNCQyxHQUF0QixFQUEyQjtBQUNoQyxRQUFNQyxNQUFNLEdBQUc7QUFDYmIsSUFBQUEsWUFBWSxFQUFFYyxhQUFJQyxNQUFKLEdBQWFDLFFBQWIsRUFERDtBQUViYixJQUFBQSxLQUFLLEVBQUVXLGFBQUlHLE1BQUosR0FBYUQsUUFBYixFQUZNO0FBR2JULElBQUFBLEtBQUssRUFBR08sYUFBSUUsUUFBSjtBQUhLLEdBQWY7QUFLQSxTQUFPRixhQUFJSSxRQUFKLENBQWFOLEdBQWIsRUFBa0JDLE1BQWxCLENBQVA7QUFDRCIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEpvaSBmcm9tIFwiam9pXCI7XG5pbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hIH0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IHNob2VTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgaXRlbXNJblN0b2NrOiB7XG4gICAgdHlwZTogTnVtYmVyXG4gIH0sXG4gIGJyYW5kOiB7XG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgIHJlZjogXCJCcmFuZFwiXG4gIH0sXG4gIHByaWNlOiB7XG4gICAgdHlwZTogU2NoZW1hLlR5cGVzLkRlY2ltYWwxMjhcbiAgfVxufSk7XG5cbmV4cG9ydCBjb25zdCBTaG9lID0gbW9uZ29vc2UubW9kZWwoXCJTaG9lXCIsIHNob2VTY2hlbWEpO1xuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVTaG9lKHJlcSkge1xuICBjb25zdCBzY2hlbWEgPSB7XG4gICAgaXRlbXNJblN0b2NrOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICBicmFuZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgcHJpY2UgOiBKb2kucmVxdWlyZWQoKVxuICB9O1xuICByZXR1cm4gSm9pLnZhbGlkYXRlKHJlcSwgc2NoZW1hKTtcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "shoes.js"
      ],
      "names": [
        "shoeSchema",
        "mongoose",
        "Schema",
        "itemsInStock",
        "type",
        "Number",
        "brand",
        "Types",
        "ObjectId",
        "ref",
        "price",
        "Decimal128",
        "Shoe",
        "model",
        "validateShoe",
        "req",
        "schema",
        "Joi",
        "number",
        "required",
        "string",
        "validate"
      ],
      "mappings": ";;;;;;;;AAAA;;AACA;;;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACrCC,EAAAA,YAAY,EAAE;AACZC,IAAAA,IAAI,EAAEC;AADM,GADuB;AAIrCC,EAAAA,KAAK,EAAE;AACLF,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBK,KAAhB,CAAsBC,QADvB;AAELC,IAAAA,GAAG,EAAE;AAFA,GAJ8B;AAQrCC,EAAAA,KAAK,EAAE;AACLN,IAAAA,IAAI,EAAEF,iBAAOK,KAAP,CAAaI;AADd;AAR8B,CAApB,CAAnB;;AAaO,MAAMC,IAAI,GAAGX,kBAASY,KAAT,CAAe,MAAf,EAAuBb,UAAvB,CAAb;;;;AAEA,SAASc,YAAT,CAAsBC,GAAtB,EAA2B;AAChC,QAAMC,MAAM,GAAG;AACbb,IAAAA,YAAY,EAAEc,aAAIC,MAAJ,GAAaC,QAAb,EADD;AAEbb,IAAAA,KAAK,EAAEW,aAAIG,MAAJ,GAAaD,QAAb,EAFM;AAGbT,IAAAA,KAAK,EAAGO,aAAIE,QAAJ;AAHK,GAAf;AAKA,SAAOF,aAAII,QAAJ,CAAaN,GAAb,EAAkBC,MAAlB,CAAP;AACD",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "sourcesContent": [
        "import Joi from \"joi\";\nimport mongoose, { Schema } from \"mongoose\";\n\nconst shoeSchema = new mongoose.Schema({\n  itemsInStock: {\n    type: Number\n  },\n  brand: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"Brand\"\n  },\n  price: {\n    type: Schema.Types.Decimal128\n  }\n});\n\nexport const Shoe = mongoose.model(\"Shoe\", shoeSchema);\n\nexport function validateShoe(req) {\n  const schema = {\n    itemsInStock: Joi.number().required(),\n    brand: Joi.string().required(),\n    price : Joi.required()\n  };\n  return Joi.validate(req, schema);\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564812562326
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/models/shoes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/models/shoes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/models/shoes.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/models/shoes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
        "sourceFileName": "shoes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateShoe = validateShoe;\nexports.Shoe = void 0;\n\nvar _joi = _interopRequireDefault(require(\"joi\"));\n\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst shoeSchema = new _mongoose.default.Schema({\n  itemsInStock: {\n    type: Number\n  },\n  brand: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: \"Brand\"\n  },\n  price: {\n    type: _mongoose.Schema.Types.Decimal128\n  }\n});\n\nconst Shoe = _mongoose.default.model(\"Shoe\", shoeSchema);\n\nexports.Shoe = Shoe;\n\nfunction validateShoe(req) {\n  const schema = {\n    itemsInStock: _joi.default.number().required(),\n    brand: _joi.default.string().required(),\n    price: _joi.default.required()\n  };\n  return _joi.default.validate(req, schema);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob2VzLmpzIl0sIm5hbWVzIjpbInNob2VTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIml0ZW1zSW5TdG9jayIsInR5cGUiLCJOdW1iZXIiLCJicmFuZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZSIsIkRlY2ltYWwxMjgiLCJTaG9lIiwibW9kZWwiLCJ2YWxpZGF0ZVNob2UiLCJyZXEiLCJzY2hlbWEiLCJKb2kiLCJudW1iZXIiLCJyZXF1aXJlZCIsInN0cmluZyIsInZhbGlkYXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOztBQUNBOzs7Ozs7QUFFQSxNQUFNQSxVQUFVLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDckNDLEVBQUFBLFlBQVksRUFBRTtBQUNaQyxJQUFBQSxJQUFJLEVBQUVDO0FBRE0sR0FEdUI7QUFJckNDLEVBQUFBLEtBQUssRUFBRTtBQUNMRixJQUFBQSxJQUFJLEVBQUVILGtCQUFTQyxNQUFULENBQWdCSyxLQUFoQixDQUFzQkMsUUFEdkI7QUFFTEMsSUFBQUEsR0FBRyxFQUFFO0FBRkEsR0FKOEI7QUFRckNDLEVBQUFBLEtBQUssRUFBRTtBQUNMTixJQUFBQSxJQUFJLEVBQUVGLGlCQUFPSyxLQUFQLENBQWFJO0FBRGQ7QUFSOEIsQ0FBcEIsQ0FBbkI7O0FBYU8sTUFBTUMsSUFBSSxHQUFHWCxrQkFBU1ksS0FBVCxDQUFlLE1BQWYsRUFBdUJiLFVBQXZCLENBQWI7Ozs7QUFFQSxTQUFTYyxZQUFULENBQXNCQyxHQUF0QixFQUEyQjtBQUNoQyxRQUFNQyxNQUFNLEdBQUc7QUFDYmIsSUFBQUEsWUFBWSxFQUFFYyxhQUFJQyxNQUFKLEdBQWFDLFFBQWIsRUFERDtBQUViYixJQUFBQSxLQUFLLEVBQUVXLGFBQUlHLE1BQUosR0FBYUQsUUFBYixFQUZNO0FBR2JULElBQUFBLEtBQUssRUFBR08sYUFBSUUsUUFBSjtBQUhLLEdBQWY7QUFLQSxTQUFPRixhQUFJSSxRQUFKLENBQWFOLEdBQWIsRUFBa0JDLE1BQWxCLENBQVA7QUFDRCIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEpvaSBmcm9tIFwiam9pXCI7XG5pbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hIH0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IHNob2VTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgaXRlbXNJblN0b2NrOiB7XG4gICAgdHlwZTogTnVtYmVyXG4gIH0sXG4gIGJyYW5kOiB7XG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgIHJlZjogXCJCcmFuZFwiXG4gIH0sXG4gIHByaWNlOiB7XG4gICAgdHlwZTogU2NoZW1hLlR5cGVzLkRlY2ltYWwxMjhcbiAgfVxufSk7XG5cbmV4cG9ydCBjb25zdCBTaG9lID0gbW9uZ29vc2UubW9kZWwoXCJTaG9lXCIsIHNob2VTY2hlbWEpO1xuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVTaG9lKHJlcSkge1xuICBjb25zdCBzY2hlbWEgPSB7XG4gICAgaXRlbXNJblN0b2NrOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICBicmFuZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgcHJpY2UgOiBKb2kucmVxdWlyZWQoKVxuICB9O1xuICByZXR1cm4gSm9pLnZhbGlkYXRlKHJlcSwgc2NoZW1hKTtcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "shoes.js"
      ],
      "names": [
        "shoeSchema",
        "mongoose",
        "Schema",
        "itemsInStock",
        "type",
        "Number",
        "brand",
        "Types",
        "ObjectId",
        "ref",
        "price",
        "Decimal128",
        "Shoe",
        "model",
        "validateShoe",
        "req",
        "schema",
        "Joi",
        "number",
        "required",
        "string",
        "validate"
      ],
      "mappings": ";;;;;;;;AAAA;;AACA;;;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACrCC,EAAAA,YAAY,EAAE;AACZC,IAAAA,IAAI,EAAEC;AADM,GADuB;AAIrCC,EAAAA,KAAK,EAAE;AACLF,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBK,KAAhB,CAAsBC,QADvB;AAELC,IAAAA,GAAG,EAAE;AAFA,GAJ8B;AAQrCC,EAAAA,KAAK,EAAE;AACLN,IAAAA,IAAI,EAAEF,iBAAOK,KAAP,CAAaI;AADd;AAR8B,CAApB,CAAnB;;AAaO,MAAMC,IAAI,GAAGX,kBAASY,KAAT,CAAe,MAAf,EAAuBb,UAAvB,CAAb;;;;AAEA,SAASc,YAAT,CAAsBC,GAAtB,EAA2B;AAChC,QAAMC,MAAM,GAAG;AACbb,IAAAA,YAAY,EAAEc,aAAIC,MAAJ,GAAaC,QAAb,EADD;AAEbb,IAAAA,KAAK,EAAEW,aAAIG,MAAJ,GAAaD,QAAb,EAFM;AAGbT,IAAAA,KAAK,EAAGO,aAAIE,QAAJ;AAHK,GAAf;AAKA,SAAOF,aAAII,QAAJ,CAAaN,GAAb,EAAkBC,MAAlB,CAAP;AACD",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "sourcesContent": [
        "import Joi from \"joi\";\nimport mongoose, { Schema } from \"mongoose\";\n\nconst shoeSchema = new mongoose.Schema({\n  itemsInStock: {\n    type: Number\n  },\n  brand: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"Brand\"\n  },\n  price: {\n    type: Schema.Types.Decimal128\n  }\n});\n\nexport const Shoe = mongoose.model(\"Shoe\", shoeSchema);\n\nexport function validateShoe(req) {\n  const schema = {\n    itemsInStock: Joi.number().required(),\n    brand: Joi.string().required(),\n    price : Joi.required()\n  };\n  return Joi.validate(req, schema);\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564812562326
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/routers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/routers/ordersRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/routers/ordersRouter.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/routers/ordersRouter.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/routers/ordersRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
        "sourceFileName": "ordersRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar express = _interopRequireWildcard(require(\"express\"));\n\nvar _ordersController = _interopRequireDefault(require(\"../controllers/ordersController\"));\n\nvar _async = require(\"../middleware/async\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar _default = express.Router().post('/new', (0, _async.asyncMiddleware)(_ordersController.default.newOrder)).post('/cancel', (0, _async.asyncMiddleware)(_ordersController.default.cancelOrder)).get('/all', (0, _async.asyncMiddleware)(_ordersController.default.listOrders));\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyc1JvdXRlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsIm9yZGVyc0NvbnRyb2xsZXIiLCJuZXdPcmRlciIsImNhbmNlbE9yZGVyIiwiZ2V0IiwibGlzdE9yZGVycyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7Ozs7ZUFFZUEsT0FBTyxDQUFDQyxNQUFSLEdBQ2RDLElBRGMsQ0FDVCxNQURTLEVBQ0QsNEJBQWdCQywwQkFBaUJDLFFBQWpDLENBREMsRUFFZEYsSUFGYyxDQUVULFNBRlMsRUFFQyw0QkFBZ0JDLDBCQUFpQkUsV0FBakMsQ0FGRCxFQUdkQyxHQUhjLENBR1YsTUFIVSxFQUdILDRCQUFnQkgsMEJBQWlCSSxVQUFqQyxDQUhHLEMiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL3JvdXRlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgb3JkZXJzQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvb3JkZXJzQ29udHJvbGxlclwiO1xuaW1wb3J0IHthc3luY01pZGRsZXdhcmV9ICBmcm9tIFwiLi4vbWlkZGxld2FyZS9hc3luY1wiO1xuXG5leHBvcnQgZGVmYXVsdCBleHByZXNzLlJvdXRlcigpXG4ucG9zdCgnL25ldycsIGFzeW5jTWlkZGxld2FyZShvcmRlcnNDb250cm9sbGVyLm5ld09yZGVyKSlcbi5wb3N0KCcvY2FuY2VsJyxhc3luY01pZGRsZXdhcmUob3JkZXJzQ29udHJvbGxlci5jYW5jZWxPcmRlcikpXG4uZ2V0KCcvYWxsJyxhc3luY01pZGRsZXdhcmUob3JkZXJzQ29udHJvbGxlci5saXN0T3JkZXJzKSk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "ordersRouter.js"
      ],
      "names": [
        "express",
        "Router",
        "post",
        "ordersController",
        "newOrder",
        "cancelOrder",
        "get",
        "listOrders"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;eAEeA,OAAO,CAACC,MAAR,GACdC,IADc,CACT,MADS,EACD,4BAAgBC,0BAAiBC,QAAjC,CADC,EAEdF,IAFc,CAET,SAFS,EAEC,4BAAgBC,0BAAiBE,WAAjC,CAFD,EAGdC,GAHc,CAGV,MAHU,EAGH,4BAAgBH,0BAAiBI,UAAjC,CAHG,C",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "sourcesContent": [
        "import * as express from \"express\";\nimport ordersController from \"../controllers/ordersController\";\nimport {asyncMiddleware}  from \"../middleware/async\";\n\nexport default express.Router()\n.post('/new', asyncMiddleware(ordersController.newOrder))\n.post('/cancel',asyncMiddleware(ordersController.cancelOrder))\n.get('/all',asyncMiddleware(ordersController.listOrders));\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564826896323
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/controllers/ordersController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/controllers/ordersController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/controllers/ordersController.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/controllers/ordersController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
        "sourceFileName": "ordersController.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _orders = require(\"../models/orders\");\n\nvar _ordersService = _interopRequireDefault(require(\"../services/ordersService\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass OrdersController {\n  async newOrder(req, res) {\n    // Validate request\n    const {\n      error\n    } = (0, _orders.validateOrder)(req.body);\n    if (error) return res.status(400).send(error.details[0].message); // Send the request to the service\n\n    const order = await _ordersService.default.createNewOrder(req.body);\n    return res.status(201).json({\n      message: \"Successfully created order\",\n      order: order\n    });\n  }\n\n  async cancelOrder(req, res) {\n    // Validate request\n    const {\n      error\n    } = (0, _orders.validateCancelOrder)(req.body);\n    if (error) return res.status(400).send(error.details[0].message); // Send the request to service\n\n    await _ordersService.default.cancelOrder(req.body.orderId);\n    return res.status(200).json({\n      message: \"Order has been canceled\"\n    });\n  }\n\n  async listOrders(req, res) {\n    const orders = await _ordersService.default.listOrders();\n    return res.status(200).json(orders);\n  }\n\n}\n\nvar _default = new OrdersController();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyc0NvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiT3JkZXJzQ29udHJvbGxlciIsIm5ld09yZGVyIiwicmVxIiwicmVzIiwiZXJyb3IiLCJib2R5Iiwic3RhdHVzIiwic2VuZCIsImRldGFpbHMiLCJtZXNzYWdlIiwib3JkZXIiLCJvcmRlcnNTZXJ2aWNlIiwiY3JlYXRlTmV3T3JkZXIiLCJqc29uIiwiY2FuY2VsT3JkZXIiLCJvcmRlcklkIiwibGlzdE9yZGVycyIsIm9yZGVycyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsZ0JBQU4sQ0FBdUI7QUFDckIsUUFBTUMsUUFBTixDQUFlQyxHQUFmLEVBQW9CQyxHQUFwQixFQUF5QjtBQUN2QjtBQUNBLFVBQU07QUFBRUMsTUFBQUE7QUFBRixRQUFZLDJCQUFjRixHQUFHLENBQUNHLElBQWxCLENBQWxCO0FBQ0EsUUFBSUQsS0FBSixFQUFXLE9BQU9ELEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCSCxLQUFLLENBQUNJLE9BQU4sQ0FBYyxDQUFkLEVBQWlCQyxPQUF0QyxDQUFQLENBSFksQ0FLdkI7O0FBQ0EsVUFBTUMsS0FBSyxHQUFHLE1BQU1DLHVCQUFjQyxjQUFkLENBQTZCVixHQUFHLENBQUNHLElBQWpDLENBQXBCO0FBRUEsV0FBT0YsR0FBRyxDQUNQRyxNQURJLENBQ0csR0FESCxFQUVKTyxJQUZJLENBRUM7QUFBRUosTUFBQUEsT0FBTyxFQUFFLDRCQUFYO0FBQXlDQyxNQUFBQSxLQUFLLEVBQUVBO0FBQWhELEtBRkQsQ0FBUDtBQUdEOztBQUNELFFBQU1JLFdBQU4sQ0FBa0JaLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QjtBQUMxQjtBQUNBLFVBQU07QUFBRUMsTUFBQUE7QUFBRixRQUFZLGlDQUFvQkYsR0FBRyxDQUFDRyxJQUF4QixDQUFsQjtBQUNBLFFBQUlELEtBQUosRUFBVyxPQUFPRCxHQUFHLENBQUNHLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQkgsS0FBSyxDQUFDSSxPQUFOLENBQWMsQ0FBZCxFQUFpQkMsT0FBdEMsQ0FBUCxDQUhlLENBSzFCOztBQUNBLFVBQU1FLHVCQUFjRyxXQUFkLENBQTBCWixHQUFHLENBQUNHLElBQUosQ0FBU1UsT0FBbkMsQ0FBTjtBQUVBLFdBQU9aLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JPLElBQWhCLENBQXFCO0FBQUVKLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCLENBQVA7QUFDRDs7QUFDRCxRQUFNTyxVQUFOLENBQWlCZCxHQUFqQixFQUFzQkMsR0FBdEIsRUFBMkI7QUFDekIsVUFBTWMsTUFBTSxHQUFHLE1BQU1OLHVCQUFjSyxVQUFkLEVBQXJCO0FBRUEsV0FBT2IsR0FBRyxDQUFDRyxNQUFKLENBQVcsR0FBWCxFQUFnQk8sSUFBaEIsQ0FBcUJJLE1BQXJCLENBQVA7QUFDRDs7QUEzQm9COztlQThCUixJQUFJakIsZ0JBQUosRSIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2YWxpZGF0ZU9yZGVyLCB2YWxpZGF0ZUNhbmNlbE9yZGVyIH0gZnJvbSBcIi4uL21vZGVscy9vcmRlcnNcIjtcbmltcG9ydCBvcmRlcnNTZXJ2aWNlIGZyb20gXCIuLi9zZXJ2aWNlcy9vcmRlcnNTZXJ2aWNlXCI7XG5cbmNsYXNzIE9yZGVyc0NvbnRyb2xsZXIge1xuICBhc3luYyBuZXdPcmRlcihyZXEsIHJlcykge1xuICAgIC8vIFZhbGlkYXRlIHJlcXVlc3RcbiAgICBjb25zdCB7IGVycm9yIH0gPSB2YWxpZGF0ZU9yZGVyKHJlcS5ib2R5KTtcbiAgICBpZiAoZXJyb3IpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UpO1xuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdCB0byB0aGUgc2VydmljZVxuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgb3JkZXJzU2VydmljZS5jcmVhdGVOZXdPcmRlcihyZXEuYm9keSk7XG5cbiAgICByZXR1cm4gcmVzXG4gICAgICAuc3RhdHVzKDIwMSlcbiAgICAgIC5qc29uKHsgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgY3JlYXRlZCBvcmRlclwiLCBvcmRlcjogb3JkZXIgfSk7XG4gIH1cbiAgYXN5bmMgY2FuY2VsT3JkZXIocmVxLCByZXMpIHtcbiAgICAvLyBWYWxpZGF0ZSByZXF1ZXN0XG4gICAgY29uc3QgeyBlcnJvciB9ID0gdmFsaWRhdGVDYW5jZWxPcmRlcihyZXEuYm9keSk7XG4gICAgaWYgKGVycm9yKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlKTtcblxuICAgIC8vIFNlbmQgdGhlIHJlcXVlc3QgdG8gc2VydmljZVxuICAgIGF3YWl0IG9yZGVyc1NlcnZpY2UuY2FuY2VsT3JkZXIocmVxLmJvZHkub3JkZXJJZCk7XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiBcIk9yZGVyIGhhcyBiZWVuIGNhbmNlbGVkXCIgfSk7XG4gIH1cbiAgYXN5bmMgbGlzdE9yZGVycyhyZXEsIHJlcykge1xuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IG9yZGVyc1NlcnZpY2UubGlzdE9yZGVycygpO1xuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKG9yZGVycyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE9yZGVyc0NvbnRyb2xsZXIoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "ordersController.js"
      ],
      "names": [
        "OrdersController",
        "newOrder",
        "req",
        "res",
        "error",
        "body",
        "status",
        "send",
        "details",
        "message",
        "order",
        "ordersService",
        "createNewOrder",
        "json",
        "cancelOrder",
        "orderId",
        "listOrders",
        "orders"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,gBAAN,CAAuB;AACrB,QAAMC,QAAN,CAAeC,GAAf,EAAoBC,GAApB,EAAyB;AACvB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAY,2BAAcF,GAAG,CAACG,IAAlB,CAAlB;AACA,QAAID,KAAJ,EAAW,OAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP,CAHY,CAKvB;;AACA,UAAMC,KAAK,GAAG,MAAMC,uBAAcC,cAAd,CAA6BV,GAAG,CAACG,IAAjC,CAApB;AAEA,WAAOF,GAAG,CACPG,MADI,CACG,GADH,EAEJO,IAFI,CAEC;AAAEJ,MAAAA,OAAO,EAAE,4BAAX;AAAyCC,MAAAA,KAAK,EAAEA;AAAhD,KAFD,CAAP;AAGD;;AACD,QAAMI,WAAN,CAAkBZ,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAY,iCAAoBF,GAAG,CAACG,IAAxB,CAAlB;AACA,QAAID,KAAJ,EAAW,OAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP,CAHe,CAK1B;;AACA,UAAME,uBAAcG,WAAd,CAA0BZ,GAAG,CAACG,IAAJ,CAASU,OAAnC,CAAN;AAEA,WAAOZ,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBO,IAAhB,CAAqB;AAAEJ,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAP;AACD;;AACD,QAAMO,UAAN,CAAiBd,GAAjB,EAAsBC,GAAtB,EAA2B;AACzB,UAAMc,MAAM,GAAG,MAAMN,uBAAcK,UAAd,EAArB;AAEA,WAAOb,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBO,IAAhB,CAAqBI,MAArB,CAAP;AACD;;AA3BoB;;eA8BR,IAAIjB,gBAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "sourcesContent": [
        "import { validateOrder, validateCancelOrder } from \"../models/orders\";\nimport ordersService from \"../services/ordersService\";\n\nclass OrdersController {\n  async newOrder(req, res) {\n    // Validate request\n    const { error } = validateOrder(req.body);\n    if (error) return res.status(400).send(error.details[0].message);\n\n    // Send the request to the service\n    const order = await ordersService.createNewOrder(req.body);\n\n    return res\n      .status(201)\n      .json({ message: \"Successfully created order\", order: order });\n  }\n  async cancelOrder(req, res) {\n    // Validate request\n    const { error } = validateCancelOrder(req.body);\n    if (error) return res.status(400).send(error.details[0].message);\n\n    // Send the request to service\n    await ordersService.cancelOrder(req.body.orderId);\n\n    return res.status(200).json({ message: \"Order has been canceled\" });\n  }\n  async listOrders(req, res) {\n    const orders = await ordersService.listOrders();\n\n    return res.status(200).json(orders);\n  }\n}\n\nexport default new OrdersController();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564827116894
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/routers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/routers/ordersRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/routers/ordersRouter.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/routers/ordersRouter.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/routers/ordersRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
        "sourceFileName": "ordersRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar express = _interopRequireWildcard(require(\"express\"));\n\nvar _ordersController = _interopRequireDefault(require(\"../controllers/ordersController\"));\n\nvar _async = require(\"../middleware/async\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar _default = express.Router().post('/new', (0, _async.asyncMiddleware)(_ordersController.default.newOrder)).post('/cancel', (0, _async.asyncMiddleware)(_ordersController.default.cancelOrder)).get('/all', (0, _async.asyncMiddleware)(_ordersController.default.listOrders));\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyc1JvdXRlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsIm9yZGVyc0NvbnRyb2xsZXIiLCJuZXdPcmRlciIsImNhbmNlbE9yZGVyIiwiZ2V0IiwibGlzdE9yZGVycyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7Ozs7ZUFFZUEsT0FBTyxDQUFDQyxNQUFSLEdBQ2RDLElBRGMsQ0FDVCxNQURTLEVBQ0QsNEJBQWdCQywwQkFBaUJDLFFBQWpDLENBREMsRUFFZEYsSUFGYyxDQUVULFNBRlMsRUFFQyw0QkFBZ0JDLDBCQUFpQkUsV0FBakMsQ0FGRCxFQUdkQyxHQUhjLENBR1YsTUFIVSxFQUdILDRCQUFnQkgsMEJBQWlCSSxVQUFqQyxDQUhHLEMiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL3JvdXRlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgb3JkZXJzQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvb3JkZXJzQ29udHJvbGxlclwiO1xuaW1wb3J0IHthc3luY01pZGRsZXdhcmV9ICBmcm9tIFwiLi4vbWlkZGxld2FyZS9hc3luY1wiO1xuXG5leHBvcnQgZGVmYXVsdCBleHByZXNzLlJvdXRlcigpXG4ucG9zdCgnL25ldycsIGFzeW5jTWlkZGxld2FyZShvcmRlcnNDb250cm9sbGVyLm5ld09yZGVyKSlcbi5wb3N0KCcvY2FuY2VsJyxhc3luY01pZGRsZXdhcmUob3JkZXJzQ29udHJvbGxlci5jYW5jZWxPcmRlcikpXG4uZ2V0KCcvYWxsJyxhc3luY01pZGRsZXdhcmUob3JkZXJzQ29udHJvbGxlci5saXN0T3JkZXJzKSk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "ordersRouter.js"
      ],
      "names": [
        "express",
        "Router",
        "post",
        "ordersController",
        "newOrder",
        "cancelOrder",
        "get",
        "listOrders"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;eAEeA,OAAO,CAACC,MAAR,GACdC,IADc,CACT,MADS,EACD,4BAAgBC,0BAAiBC,QAAjC,CADC,EAEdF,IAFc,CAET,SAFS,EAEC,4BAAgBC,0BAAiBE,WAAjC,CAFD,EAGdC,GAHc,CAGV,MAHU,EAGH,4BAAgBH,0BAAiBI,UAAjC,CAHG,C",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/routers",
      "sourcesContent": [
        "import * as express from \"express\";\nimport ordersController from \"../controllers/ordersController\";\nimport {asyncMiddleware}  from \"../middleware/async\";\n\nexport default express.Router()\n.post('/new', asyncMiddleware(ordersController.newOrder))\n.post('/cancel',asyncMiddleware(ordersController.cancelOrder))\n.get('/all',asyncMiddleware(ordersController.listOrders));\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564826896323
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/controllers/ordersController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/controllers/ordersController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/controllers/ordersController.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/controllers/ordersController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
        "sourceFileName": "ordersController.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _orders = require(\"../models/orders\");\n\nvar _ordersService = _interopRequireDefault(require(\"../services/ordersService\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass OrdersController {\n  async newOrder(req, res) {\n    // Validate request\n    const {\n      error\n    } = (0, _orders.validateOrder)(req.body);\n    if (error) return res.status(400).send(error.details[0].message); // Send the request to the service\n\n    const order = await _ordersService.default.createNewOrder(req.body);\n    return res.status(201).json({\n      message: \"Successfully created order\",\n      order: order\n    });\n  }\n\n  async cancelOrder(req, res) {\n    // Validate request\n    const {\n      error\n    } = (0, _orders.validateCancelOrder)(req.body);\n    if (error) return res.status(400).send(error.details[0].message); // Send the request to service\n\n    await _ordersService.default.cancelOrder(req.body.orderId);\n    return res.status(200).json({\n      message: \"Order has been canceled\"\n    });\n  }\n\n  async listOrders(req, res) {\n    const orders = await _ordersService.default.listOrders();\n    return res.status(200).json(orders);\n  }\n\n}\n\nvar _default = new OrdersController();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyc0NvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiT3JkZXJzQ29udHJvbGxlciIsIm5ld09yZGVyIiwicmVxIiwicmVzIiwiZXJyb3IiLCJib2R5Iiwic3RhdHVzIiwic2VuZCIsImRldGFpbHMiLCJtZXNzYWdlIiwib3JkZXIiLCJvcmRlcnNTZXJ2aWNlIiwiY3JlYXRlTmV3T3JkZXIiLCJqc29uIiwiY2FuY2VsT3JkZXIiLCJvcmRlcklkIiwibGlzdE9yZGVycyIsIm9yZGVycyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsZ0JBQU4sQ0FBdUI7QUFDckIsUUFBTUMsUUFBTixDQUFlQyxHQUFmLEVBQW9CQyxHQUFwQixFQUF5QjtBQUN2QjtBQUNBLFVBQU07QUFBRUMsTUFBQUE7QUFBRixRQUFZLDJCQUFjRixHQUFHLENBQUNHLElBQWxCLENBQWxCO0FBQ0EsUUFBSUQsS0FBSixFQUFXLE9BQU9ELEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCSCxLQUFLLENBQUNJLE9BQU4sQ0FBYyxDQUFkLEVBQWlCQyxPQUF0QyxDQUFQLENBSFksQ0FLdkI7O0FBQ0EsVUFBTUMsS0FBSyxHQUFHLE1BQU1DLHVCQUFjQyxjQUFkLENBQTZCVixHQUFHLENBQUNHLElBQWpDLENBQXBCO0FBRUEsV0FBT0YsR0FBRyxDQUNQRyxNQURJLENBQ0csR0FESCxFQUVKTyxJQUZJLENBRUM7QUFBRUosTUFBQUEsT0FBTyxFQUFFLDRCQUFYO0FBQXlDQyxNQUFBQSxLQUFLLEVBQUVBO0FBQWhELEtBRkQsQ0FBUDtBQUdEOztBQUNELFFBQU1JLFdBQU4sQ0FBa0JaLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QjtBQUMxQjtBQUNBLFVBQU07QUFBRUMsTUFBQUE7QUFBRixRQUFZLGlDQUFvQkYsR0FBRyxDQUFDRyxJQUF4QixDQUFsQjtBQUNBLFFBQUlELEtBQUosRUFBVyxPQUFPRCxHQUFHLENBQUNHLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQkgsS0FBSyxDQUFDSSxPQUFOLENBQWMsQ0FBZCxFQUFpQkMsT0FBdEMsQ0FBUCxDQUhlLENBSzFCOztBQUNBLFVBQU1FLHVCQUFjRyxXQUFkLENBQTBCWixHQUFHLENBQUNHLElBQUosQ0FBU1UsT0FBbkMsQ0FBTjtBQUVBLFdBQU9aLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JPLElBQWhCLENBQXFCO0FBQUVKLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCLENBQVA7QUFDRDs7QUFDRCxRQUFNTyxVQUFOLENBQWlCZCxHQUFqQixFQUFzQkMsR0FBdEIsRUFBMkI7QUFDekIsVUFBTWMsTUFBTSxHQUFHLE1BQU1OLHVCQUFjSyxVQUFkLEVBQXJCO0FBRUEsV0FBT2IsR0FBRyxDQUFDRyxNQUFKLENBQVcsR0FBWCxFQUFnQk8sSUFBaEIsQ0FBcUJJLE1BQXJCLENBQVA7QUFDRDs7QUEzQm9COztlQThCUixJQUFJakIsZ0JBQUosRSIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2YWxpZGF0ZU9yZGVyLCB2YWxpZGF0ZUNhbmNlbE9yZGVyIH0gZnJvbSBcIi4uL21vZGVscy9vcmRlcnNcIjtcbmltcG9ydCBvcmRlcnNTZXJ2aWNlIGZyb20gXCIuLi9zZXJ2aWNlcy9vcmRlcnNTZXJ2aWNlXCI7XG5cbmNsYXNzIE9yZGVyc0NvbnRyb2xsZXIge1xuICBhc3luYyBuZXdPcmRlcihyZXEsIHJlcykge1xuICAgIC8vIFZhbGlkYXRlIHJlcXVlc3RcbiAgICBjb25zdCB7IGVycm9yIH0gPSB2YWxpZGF0ZU9yZGVyKHJlcS5ib2R5KTtcbiAgICBpZiAoZXJyb3IpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UpO1xuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdCB0byB0aGUgc2VydmljZVxuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgb3JkZXJzU2VydmljZS5jcmVhdGVOZXdPcmRlcihyZXEuYm9keSk7XG5cbiAgICByZXR1cm4gcmVzXG4gICAgICAuc3RhdHVzKDIwMSlcbiAgICAgIC5qc29uKHsgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgY3JlYXRlZCBvcmRlclwiLCBvcmRlcjogb3JkZXIgfSk7XG4gIH1cbiAgYXN5bmMgY2FuY2VsT3JkZXIocmVxLCByZXMpIHtcbiAgICAvLyBWYWxpZGF0ZSByZXF1ZXN0XG4gICAgY29uc3QgeyBlcnJvciB9ID0gdmFsaWRhdGVDYW5jZWxPcmRlcihyZXEuYm9keSk7XG4gICAgaWYgKGVycm9yKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlKTtcblxuICAgIC8vIFNlbmQgdGhlIHJlcXVlc3QgdG8gc2VydmljZVxuICAgIGF3YWl0IG9yZGVyc1NlcnZpY2UuY2FuY2VsT3JkZXIocmVxLmJvZHkub3JkZXJJZCk7XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiBcIk9yZGVyIGhhcyBiZWVuIGNhbmNlbGVkXCIgfSk7XG4gIH1cbiAgYXN5bmMgbGlzdE9yZGVycyhyZXEsIHJlcykge1xuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IG9yZGVyc1NlcnZpY2UubGlzdE9yZGVycygpO1xuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKG9yZGVycyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE9yZGVyc0NvbnRyb2xsZXIoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "ordersController.js"
      ],
      "names": [
        "OrdersController",
        "newOrder",
        "req",
        "res",
        "error",
        "body",
        "status",
        "send",
        "details",
        "message",
        "order",
        "ordersService",
        "createNewOrder",
        "json",
        "cancelOrder",
        "orderId",
        "listOrders",
        "orders"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,gBAAN,CAAuB;AACrB,QAAMC,QAAN,CAAeC,GAAf,EAAoBC,GAApB,EAAyB;AACvB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAY,2BAAcF,GAAG,CAACG,IAAlB,CAAlB;AACA,QAAID,KAAJ,EAAW,OAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP,CAHY,CAKvB;;AACA,UAAMC,KAAK,GAAG,MAAMC,uBAAcC,cAAd,CAA6BV,GAAG,CAACG,IAAjC,CAApB;AAEA,WAAOF,GAAG,CACPG,MADI,CACG,GADH,EAEJO,IAFI,CAEC;AAAEJ,MAAAA,OAAO,EAAE,4BAAX;AAAyCC,MAAAA,KAAK,EAAEA;AAAhD,KAFD,CAAP;AAGD;;AACD,QAAMI,WAAN,CAAkBZ,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAY,iCAAoBF,GAAG,CAACG,IAAxB,CAAlB;AACA,QAAID,KAAJ,EAAW,OAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC,OAAtC,CAAP,CAHe,CAK1B;;AACA,UAAME,uBAAcG,WAAd,CAA0BZ,GAAG,CAACG,IAAJ,CAASU,OAAnC,CAAN;AAEA,WAAOZ,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBO,IAAhB,CAAqB;AAAEJ,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAP;AACD;;AACD,QAAMO,UAAN,CAAiBd,GAAjB,EAAsBC,GAAtB,EAA2B;AACzB,UAAMc,MAAM,GAAG,MAAMN,uBAAcK,UAAd,EAArB;AAEA,WAAOb,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBO,IAAhB,CAAqBI,MAArB,CAAP;AACD;;AA3BoB;;eA8BR,IAAIjB,gBAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/controllers",
      "sourcesContent": [
        "import { validateOrder, validateCancelOrder } from \"../models/orders\";\nimport ordersService from \"../services/ordersService\";\n\nclass OrdersController {\n  async newOrder(req, res) {\n    // Validate request\n    const { error } = validateOrder(req.body);\n    if (error) return res.status(400).send(error.details[0].message);\n\n    // Send the request to the service\n    const order = await ordersService.createNewOrder(req.body);\n\n    return res\n      .status(201)\n      .json({ message: \"Successfully created order\", order: order });\n  }\n  async cancelOrder(req, res) {\n    // Validate request\n    const { error } = validateCancelOrder(req.body);\n    if (error) return res.status(400).send(error.details[0].message);\n\n    // Send the request to service\n    await ordersService.cancelOrder(req.body.orderId);\n\n    return res.status(200).json({ message: \"Order has been canceled\" });\n  }\n  async listOrders(req, res) {\n    const orders = await ordersService.listOrders();\n\n    return res.status(200).json(orders);\n  }\n}\n\nexport default new OrdersController();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564827116894
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/models/orders.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/models/orders.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/models/orders.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/models/orders.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
        "sourceFileName": "orders.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateOrder = validateOrder;\nexports.validateCancelOrder = validateCancelOrder;\nexports.Order = void 0;\n\nvar _joi = _interopRequireDefault(require(\"joi\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _joiObjectid = _interopRequireDefault(require(\"joi-objectid\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_joi.default.ObjectId = (0, _joiObjectid.default)(_joi.default);\nconst orderSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: \"User\"\n  },\n  shoe: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: \"Shoe\"\n  },\n  createdOn: {\n    type: Date,\n    default: Date.now\n  }\n});\n\nconst Order = _mongoose.default.model(\"Order\", orderSchema);\n\nexports.Order = Order;\n\nfunction validateOrder(req) {\n  const schema = {\n    userId: _joi.default.ObjectId().required(),\n    shoeId: _joi.default.ObjectId().required()\n  };\n  return _joi.default.validate(req, schema);\n}\n\nfunction validateCancelOrder(req) {\n  const schema = {\n    orderId: _joi.default.ObjectId().required()\n  };\n  return _joi.default.validate(req, schema);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJPYmplY3RJZCIsIm9yZGVyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJ1c2VyIiwidHlwZSIsIlR5cGVzIiwicmVmIiwic2hvZSIsImNyZWF0ZWRPbiIsIkRhdGUiLCJkZWZhdWx0Iiwibm93IiwiT3JkZXIiLCJtb2RlbCIsInZhbGlkYXRlT3JkZXIiLCJyZXEiLCJzY2hlbWEiLCJ1c2VySWQiLCJyZXF1aXJlZCIsInNob2VJZCIsInZhbGlkYXRlIiwidmFsaWRhdGVDYW5jZWxPcmRlciIsIm9yZGVySWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBQ0FBLGFBQUlDLFFBQUosR0FBZSwwQkFBU0QsWUFBVCxDQUFmO0FBRUEsTUFBTUUsV0FBVyxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQ3RDQyxFQUFBQSxJQUFJLEVBQUU7QUFDSkMsSUFBQUEsSUFBSSxFQUFFSCxrQkFBU0MsTUFBVCxDQUFnQkcsS0FBaEIsQ0FBc0JOLFFBRHhCO0FBRUpPLElBQUFBLEdBQUcsRUFBRTtBQUZELEdBRGdDO0FBS3RDQyxFQUFBQSxJQUFJLEVBQUU7QUFDSkgsSUFBQUEsSUFBSSxFQUFFSCxrQkFBU0MsTUFBVCxDQUFnQkcsS0FBaEIsQ0FBc0JOLFFBRHhCO0FBRUpPLElBQUFBLEdBQUcsRUFBRTtBQUZELEdBTGdDO0FBU3RDRSxFQUFBQSxTQUFTLEVBQUU7QUFDVEosSUFBQUEsSUFBSSxFQUFFSyxJQURHO0FBRVRDLElBQUFBLE9BQU8sRUFBRUQsSUFBSSxDQUFDRTtBQUZMO0FBVDJCLENBQXBCLENBQXBCOztBQWVPLE1BQU1DLEtBQUssR0FBR1gsa0JBQVNZLEtBQVQsQ0FBZSxPQUFmLEVBQXdCYixXQUF4QixDQUFkOzs7O0FBRUEsU0FBU2MsYUFBVCxDQUF1QkMsR0FBdkIsRUFBNEI7QUFDakMsUUFBTUMsTUFBTSxHQUFHO0FBQ2JDLElBQUFBLE1BQU0sRUFBRW5CLGFBQUlDLFFBQUosR0FBZW1CLFFBQWYsRUFESztBQUViQyxJQUFBQSxNQUFNLEVBQUVyQixhQUFJQyxRQUFKLEdBQWVtQixRQUFmO0FBRkssR0FBZjtBQUlBLFNBQU9wQixhQUFJc0IsUUFBSixDQUFhTCxHQUFiLEVBQWtCQyxNQUFsQixDQUFQO0FBQ0Q7O0FBRU0sU0FBU0ssbUJBQVQsQ0FBNkJOLEdBQTdCLEVBQWtDO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBRztBQUNiTSxJQUFBQSxPQUFPLEVBQUV4QixhQUFJQyxRQUFKLEdBQWVtQixRQUFmO0FBREksR0FBZjtBQUdBLFNBQU9wQixhQUFJc0IsUUFBSixDQUFhTCxHQUFiLEVBQWtCQyxNQUFsQixDQUFQO0FBQ0QiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKb2kgZnJvbSBcImpvaVwiO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IE9iamVjdElkIGZyb20gXCJqb2ktb2JqZWN0aWRcIjtcbkpvaS5PYmplY3RJZCA9IE9iamVjdElkKEpvaSk7XG5cbmNvbnN0IG9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIHVzZXI6IHtcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgcmVmOiBcIlVzZXJcIlxuICB9LFxuICBzaG9lOiB7XG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgIHJlZjogXCJTaG9lXCJcbiAgfSxcbiAgY3JlYXRlZE9uOiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0OiBEYXRlLm5vd1xuICB9XG59KTtcblxuZXhwb3J0IGNvbnN0IE9yZGVyID0gbW9uZ29vc2UubW9kZWwoXCJPcmRlclwiLCBvcmRlclNjaGVtYSk7XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU9yZGVyKHJlcSkge1xuICBjb25zdCBzY2hlbWEgPSB7XG4gICAgdXNlcklkOiBKb2kuT2JqZWN0SWQoKS5yZXF1aXJlZCgpLFxuICAgIHNob2VJZDogSm9pLk9iamVjdElkKCkucmVxdWlyZWQoKVxuICB9O1xuICByZXR1cm4gSm9pLnZhbGlkYXRlKHJlcSwgc2NoZW1hKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQ2FuY2VsT3JkZXIocmVxKSB7XG4gIGNvbnN0IHNjaGVtYSA9IHtcbiAgICBvcmRlcklkOiBKb2kuT2JqZWN0SWQoKS5yZXF1aXJlZCgpXG4gIH07XG4gIHJldHVybiBKb2kudmFsaWRhdGUocmVxLCBzY2hlbWEpO1xufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "orders.js"
      ],
      "names": [
        "Joi",
        "ObjectId",
        "orderSchema",
        "mongoose",
        "Schema",
        "user",
        "type",
        "Types",
        "ref",
        "shoe",
        "createdOn",
        "Date",
        "default",
        "now",
        "Order",
        "model",
        "validateOrder",
        "req",
        "schema",
        "userId",
        "required",
        "shoeId",
        "validate",
        "validateCancelOrder",
        "orderId"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;;;AACAA,aAAIC,QAAJ,GAAe,0BAASD,YAAT,CAAf;AAEA,MAAME,WAAW,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACtCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBG,KAAhB,CAAsBN,QADxB;AAEJO,IAAAA,GAAG,EAAE;AAFD,GADgC;AAKtCC,EAAAA,IAAI,EAAE;AACJH,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBG,KAAhB,CAAsBN,QADxB;AAEJO,IAAAA,GAAG,EAAE;AAFD,GALgC;AAStCE,EAAAA,SAAS,EAAE;AACTJ,IAAAA,IAAI,EAAEK,IADG;AAETC,IAAAA,OAAO,EAAED,IAAI,CAACE;AAFL;AAT2B,CAApB,CAApB;;AAeO,MAAMC,KAAK,GAAGX,kBAASY,KAAT,CAAe,OAAf,EAAwBb,WAAxB,CAAd;;;;AAEA,SAASc,aAAT,CAAuBC,GAAvB,EAA4B;AACjC,QAAMC,MAAM,GAAG;AACbC,IAAAA,MAAM,EAAEnB,aAAIC,QAAJ,GAAemB,QAAf,EADK;AAEbC,IAAAA,MAAM,EAAErB,aAAIC,QAAJ,GAAemB,QAAf;AAFK,GAAf;AAIA,SAAOpB,aAAIsB,QAAJ,CAAaL,GAAb,EAAkBC,MAAlB,CAAP;AACD;;AAEM,SAASK,mBAAT,CAA6BN,GAA7B,EAAkC;AACvC,QAAMC,MAAM,GAAG;AACbM,IAAAA,OAAO,EAAExB,aAAIC,QAAJ,GAAemB,QAAf;AADI,GAAf;AAGA,SAAOpB,aAAIsB,QAAJ,CAAaL,GAAb,EAAkBC,MAAlB,CAAP;AACD",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "sourcesContent": [
        "import Joi from \"joi\";\nimport mongoose from \"mongoose\";\nimport ObjectId from \"joi-objectid\";\nJoi.ObjectId = ObjectId(Joi);\n\nconst orderSchema = new mongoose.Schema({\n  user: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"User\"\n  },\n  shoe: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"Shoe\"\n  },\n  createdOn: {\n    type: Date,\n    default: Date.now\n  }\n});\n\nexport const Order = mongoose.model(\"Order\", orderSchema);\n\nexport function validateOrder(req) {\n  const schema = {\n    userId: Joi.ObjectId().required(),\n    shoeId: Joi.ObjectId().required()\n  };\n  return Joi.validate(req, schema);\n}\n\nexport function validateCancelOrder(req) {\n  const schema = {\n    orderId: Joi.ObjectId().required()\n  };\n  return Joi.validate(req, schema);\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564819297136
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/models/orders.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/models/orders.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/models/orders.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/models/orders.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
        "sourceFileName": "orders.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateOrder = validateOrder;\nexports.validateCancelOrder = validateCancelOrder;\nexports.Order = void 0;\n\nvar _joi = _interopRequireDefault(require(\"joi\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _joiObjectid = _interopRequireDefault(require(\"joi-objectid\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_joi.default.ObjectId = (0, _joiObjectid.default)(_joi.default);\nconst orderSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: \"User\"\n  },\n  shoe: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: \"Shoe\"\n  },\n  createdOn: {\n    type: Date,\n    default: Date.now\n  }\n});\n\nconst Order = _mongoose.default.model(\"Order\", orderSchema);\n\nexports.Order = Order;\n\nfunction validateOrder(req) {\n  const schema = {\n    userId: _joi.default.ObjectId().required(),\n    shoeId: _joi.default.ObjectId().required()\n  };\n  return _joi.default.validate(req, schema);\n}\n\nfunction validateCancelOrder(req) {\n  const schema = {\n    orderId: _joi.default.ObjectId().required()\n  };\n  return _joi.default.validate(req, schema);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJPYmplY3RJZCIsIm9yZGVyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJ1c2VyIiwidHlwZSIsIlR5cGVzIiwicmVmIiwic2hvZSIsImNyZWF0ZWRPbiIsIkRhdGUiLCJkZWZhdWx0Iiwibm93IiwiT3JkZXIiLCJtb2RlbCIsInZhbGlkYXRlT3JkZXIiLCJyZXEiLCJzY2hlbWEiLCJ1c2VySWQiLCJyZXF1aXJlZCIsInNob2VJZCIsInZhbGlkYXRlIiwidmFsaWRhdGVDYW5jZWxPcmRlciIsIm9yZGVySWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBQ0FBLGFBQUlDLFFBQUosR0FBZSwwQkFBU0QsWUFBVCxDQUFmO0FBRUEsTUFBTUUsV0FBVyxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQ3RDQyxFQUFBQSxJQUFJLEVBQUU7QUFDSkMsSUFBQUEsSUFBSSxFQUFFSCxrQkFBU0MsTUFBVCxDQUFnQkcsS0FBaEIsQ0FBc0JOLFFBRHhCO0FBRUpPLElBQUFBLEdBQUcsRUFBRTtBQUZELEdBRGdDO0FBS3RDQyxFQUFBQSxJQUFJLEVBQUU7QUFDSkgsSUFBQUEsSUFBSSxFQUFFSCxrQkFBU0MsTUFBVCxDQUFnQkcsS0FBaEIsQ0FBc0JOLFFBRHhCO0FBRUpPLElBQUFBLEdBQUcsRUFBRTtBQUZELEdBTGdDO0FBU3RDRSxFQUFBQSxTQUFTLEVBQUU7QUFDVEosSUFBQUEsSUFBSSxFQUFFSyxJQURHO0FBRVRDLElBQUFBLE9BQU8sRUFBRUQsSUFBSSxDQUFDRTtBQUZMO0FBVDJCLENBQXBCLENBQXBCOztBQWVPLE1BQU1DLEtBQUssR0FBR1gsa0JBQVNZLEtBQVQsQ0FBZSxPQUFmLEVBQXdCYixXQUF4QixDQUFkOzs7O0FBRUEsU0FBU2MsYUFBVCxDQUF1QkMsR0FBdkIsRUFBNEI7QUFDakMsUUFBTUMsTUFBTSxHQUFHO0FBQ2JDLElBQUFBLE1BQU0sRUFBRW5CLGFBQUlDLFFBQUosR0FBZW1CLFFBQWYsRUFESztBQUViQyxJQUFBQSxNQUFNLEVBQUVyQixhQUFJQyxRQUFKLEdBQWVtQixRQUFmO0FBRkssR0FBZjtBQUlBLFNBQU9wQixhQUFJc0IsUUFBSixDQUFhTCxHQUFiLEVBQWtCQyxNQUFsQixDQUFQO0FBQ0Q7O0FBRU0sU0FBU0ssbUJBQVQsQ0FBNkJOLEdBQTdCLEVBQWtDO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBRztBQUNiTSxJQUFBQSxPQUFPLEVBQUV4QixhQUFJQyxRQUFKLEdBQWVtQixRQUFmO0FBREksR0FBZjtBQUdBLFNBQU9wQixhQUFJc0IsUUFBSixDQUFhTCxHQUFiLEVBQWtCQyxNQUFsQixDQUFQO0FBQ0QiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKb2kgZnJvbSBcImpvaVwiO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IE9iamVjdElkIGZyb20gXCJqb2ktb2JqZWN0aWRcIjtcbkpvaS5PYmplY3RJZCA9IE9iamVjdElkKEpvaSk7XG5cbmNvbnN0IG9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIHVzZXI6IHtcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgcmVmOiBcIlVzZXJcIlxuICB9LFxuICBzaG9lOiB7XG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgIHJlZjogXCJTaG9lXCJcbiAgfSxcbiAgY3JlYXRlZE9uOiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0OiBEYXRlLm5vd1xuICB9XG59KTtcblxuZXhwb3J0IGNvbnN0IE9yZGVyID0gbW9uZ29vc2UubW9kZWwoXCJPcmRlclwiLCBvcmRlclNjaGVtYSk7XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU9yZGVyKHJlcSkge1xuICBjb25zdCBzY2hlbWEgPSB7XG4gICAgdXNlcklkOiBKb2kuT2JqZWN0SWQoKS5yZXF1aXJlZCgpLFxuICAgIHNob2VJZDogSm9pLk9iamVjdElkKCkucmVxdWlyZWQoKVxuICB9O1xuICByZXR1cm4gSm9pLnZhbGlkYXRlKHJlcSwgc2NoZW1hKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQ2FuY2VsT3JkZXIocmVxKSB7XG4gIGNvbnN0IHNjaGVtYSA9IHtcbiAgICBvcmRlcklkOiBKb2kuT2JqZWN0SWQoKS5yZXF1aXJlZCgpXG4gIH07XG4gIHJldHVybiBKb2kudmFsaWRhdGUocmVxLCBzY2hlbWEpO1xufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "orders.js"
      ],
      "names": [
        "Joi",
        "ObjectId",
        "orderSchema",
        "mongoose",
        "Schema",
        "user",
        "type",
        "Types",
        "ref",
        "shoe",
        "createdOn",
        "Date",
        "default",
        "now",
        "Order",
        "model",
        "validateOrder",
        "req",
        "schema",
        "userId",
        "required",
        "shoeId",
        "validate",
        "validateCancelOrder",
        "orderId"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;;;AACAA,aAAIC,QAAJ,GAAe,0BAASD,YAAT,CAAf;AAEA,MAAME,WAAW,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACtCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBG,KAAhB,CAAsBN,QADxB;AAEJO,IAAAA,GAAG,EAAE;AAFD,GADgC;AAKtCC,EAAAA,IAAI,EAAE;AACJH,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBG,KAAhB,CAAsBN,QADxB;AAEJO,IAAAA,GAAG,EAAE;AAFD,GALgC;AAStCE,EAAAA,SAAS,EAAE;AACTJ,IAAAA,IAAI,EAAEK,IADG;AAETC,IAAAA,OAAO,EAAED,IAAI,CAACE;AAFL;AAT2B,CAApB,CAApB;;AAeO,MAAMC,KAAK,GAAGX,kBAASY,KAAT,CAAe,OAAf,EAAwBb,WAAxB,CAAd;;;;AAEA,SAASc,aAAT,CAAuBC,GAAvB,EAA4B;AACjC,QAAMC,MAAM,GAAG;AACbC,IAAAA,MAAM,EAAEnB,aAAIC,QAAJ,GAAemB,QAAf,EADK;AAEbC,IAAAA,MAAM,EAAErB,aAAIC,QAAJ,GAAemB,QAAf;AAFK,GAAf;AAIA,SAAOpB,aAAIsB,QAAJ,CAAaL,GAAb,EAAkBC,MAAlB,CAAP;AACD;;AAEM,SAASK,mBAAT,CAA6BN,GAA7B,EAAkC;AACvC,QAAMC,MAAM,GAAG;AACbM,IAAAA,OAAO,EAAExB,aAAIC,QAAJ,GAAemB,QAAf;AADI,GAAf;AAGA,SAAOpB,aAAIsB,QAAJ,CAAaL,GAAb,EAAkBC,MAAlB,CAAP;AACD",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/models",
      "sourcesContent": [
        "import Joi from \"joi\";\nimport mongoose from \"mongoose\";\nimport ObjectId from \"joi-objectid\";\nJoi.ObjectId = ObjectId(Joi);\n\nconst orderSchema = new mongoose.Schema({\n  user: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"User\"\n  },\n  shoe: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"Shoe\"\n  },\n  createdOn: {\n    type: Date,\n    default: Date.now\n  }\n});\n\nexport const Order = mongoose.model(\"Order\", orderSchema);\n\nexport function validateOrder(req) {\n  const schema = {\n    userId: Joi.ObjectId().required(),\n    shoeId: Joi.ObjectId().required()\n  };\n  return Joi.validate(req, schema);\n}\n\nexport function validateCancelOrder(req) {\n  const schema = {\n    orderId: Joi.ObjectId().required()\n  };\n  return Joi.validate(req, schema);\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564819297136
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/ordersService.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/ordersService.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/ordersService.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/ordersService.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
        "sourceFileName": "ordersService.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _userDbService = _interopRequireDefault(require(\"./dbServices/userDbService\"));\n\nvar _AppException = _interopRequireDefault(require(\"../common/AppException\"));\n\nvar _ordersDbService = _interopRequireDefault(require(\"./dbServices/ordersDbService\"));\n\nvar _shoesDbServices = _interopRequireDefault(require(\"./dbServices/shoesDbServices\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass OrdersService {\n  async createNewOrder(req) {\n    // Check if user with the provided id exists\n    const user = await _userDbService.default.findUserById(req.userId);\n\n    if (!user) {\n      throw new _AppException.default(\"User with this id doesn't exists\", 400);\n    } // Check if the shoe with the provided id exists\n\n\n    const shoe = await _shoesDbServices.default.findShoeById(req.shoeId);\n\n    if (!shoe) {\n      throw new _AppException.default(\"Shoe with this id doesn't exists\", 400);\n    } // If item is out of stock cancel the process\n\n\n    if (shoe.itemsInStock == 0) {\n      throw new _AppException.default(\"Item out of stock!\", 200);\n    } // Create the order\n\n\n    const order = await _ordersDbService.default.createOrder(req); // Decrease stock items\n\n    await _shoesDbServices.default.updateShoeItemsNumber(req.shoeId, shoe.itemsInStock, false);\n    return order;\n  }\n\n  async cancelOrder(orderId) {\n    // Check if we have order with the provided id\n    const order = await _ordersDbService.default.findOrderById(orderId);\n\n    if (!order) {\n      throw new _AppException.default(\"Order with the provided id doesn't exists\", 400);\n    } // Get shoe object\n\n\n    const shoe = await _shoesDbServices.default.findShoeById(order.shoe);\n    console.log(shoe); // Delete the order from the database\n\n    await _ordersDbService.default.cancelOrder(orderId); // Increase items in stock\n\n    await _shoesDbServices.default.updateShoeItemsNumber(shoe._id, shoe.itemsInStock);\n  }\n\n  async listOrders() {\n    return _ordersDbService.default.listOrders();\n  }\n\n}\n\nvar _default = new OrdersService();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyc1NlcnZpY2UuanMiXSwibmFtZXMiOlsiT3JkZXJzU2VydmljZSIsImNyZWF0ZU5ld09yZGVyIiwicmVxIiwidXNlciIsInVzZXJEYlNlcnZpY2UiLCJmaW5kVXNlckJ5SWQiLCJ1c2VySWQiLCJBcHBsaWNhdGlvbkVycm9yIiwic2hvZSIsInNob2VzRGJTZXJ2aWNlcyIsImZpbmRTaG9lQnlJZCIsInNob2VJZCIsIml0ZW1zSW5TdG9jayIsIm9yZGVyIiwib3JkZXJzRGJTZXJ2aWNlIiwiY3JlYXRlT3JkZXIiLCJ1cGRhdGVTaG9lSXRlbXNOdW1iZXIiLCJjYW5jZWxPcmRlciIsIm9yZGVySWQiLCJmaW5kT3JkZXJCeUlkIiwiY29uc29sZSIsImxvZyIsIl9pZCIsImxpc3RPcmRlcnMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLGFBQU4sQ0FBb0I7QUFDbEIsUUFBTUMsY0FBTixDQUFxQkMsR0FBckIsRUFBMEI7QUFDeEI7QUFDQSxVQUFNQyxJQUFJLEdBQUcsTUFBTUMsdUJBQWNDLFlBQWQsQ0FBMkJILEdBQUcsQ0FBQ0ksTUFBL0IsQ0FBbkI7O0FBQ0EsUUFBSSxDQUFDSCxJQUFMLEVBQVc7QUFDVCxZQUFNLElBQUlJLHFCQUFKLENBQXFCLGtDQUFyQixFQUF5RCxHQUF6RCxDQUFOO0FBQ0QsS0FMdUIsQ0FNeEI7OztBQUNBLFVBQU1DLElBQUksR0FBRyxNQUFNQyx5QkFBZ0JDLFlBQWhCLENBQTZCUixHQUFHLENBQUNTLE1BQWpDLENBQW5COztBQUNBLFFBQUksQ0FBQ0gsSUFBTCxFQUFXO0FBQ1QsWUFBTSxJQUFJRCxxQkFBSixDQUFxQixrQ0FBckIsRUFBeUQsR0FBekQsQ0FBTjtBQUNELEtBVnVCLENBWXhCOzs7QUFDQSxRQUFJQyxJQUFJLENBQUNJLFlBQUwsSUFBcUIsQ0FBekIsRUFBNEI7QUFDMUIsWUFBTSxJQUFJTCxxQkFBSixDQUFxQixvQkFBckIsRUFBMkMsR0FBM0MsQ0FBTjtBQUNELEtBZnVCLENBaUJ4Qjs7O0FBQ0EsVUFBTU0sS0FBSyxHQUFHLE1BQU1DLHlCQUFnQkMsV0FBaEIsQ0FBNEJiLEdBQTVCLENBQXBCLENBbEJ3QixDQW9CeEI7O0FBQ0EsVUFBTU8seUJBQWdCTyxxQkFBaEIsQ0FDSmQsR0FBRyxDQUFDUyxNQURBLEVBRUpILElBQUksQ0FBQ0ksWUFGRCxFQUdKLEtBSEksQ0FBTjtBQU1BLFdBQU9DLEtBQVA7QUFDRDs7QUFFRCxRQUFNSSxXQUFOLENBQWtCQyxPQUFsQixFQUEyQjtBQUN6QjtBQUNBLFVBQU1MLEtBQUssR0FBRyxNQUFNQyx5QkFBZ0JLLGFBQWhCLENBQThCRCxPQUE5QixDQUFwQjs7QUFFQSxRQUFJLENBQUNMLEtBQUwsRUFBWTtBQUNWLFlBQU0sSUFBSU4scUJBQUosQ0FDSiwyQ0FESSxFQUVKLEdBRkksQ0FBTjtBQUlELEtBVHdCLENBV3pCOzs7QUFDQSxVQUFNQyxJQUFJLEdBQUcsTUFBTUMseUJBQWdCQyxZQUFoQixDQUE2QkcsS0FBSyxDQUFDTCxJQUFuQyxDQUFuQjtBQUVBWSxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWWIsSUFBWixFQWR5QixDQWdCekI7O0FBQ0EsVUFBTU0seUJBQWdCRyxXQUFoQixDQUE0QkMsT0FBNUIsQ0FBTixDQWpCeUIsQ0FtQnpCOztBQUNBLFVBQU1ULHlCQUFnQk8scUJBQWhCLENBQXNDUixJQUFJLENBQUNjLEdBQTNDLEVBQWdEZCxJQUFJLENBQUNJLFlBQXJELENBQU47QUFDRDs7QUFFRCxRQUFNVyxVQUFOLEdBQW1CO0FBQ2pCLFdBQU9ULHlCQUFnQlMsVUFBaEIsRUFBUDtBQUNEOztBQXhEaUI7O2VBMkRMLElBQUl2QixhQUFKLEUiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL3NlcnZpY2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHVzZXJEYlNlcnZpY2UgZnJvbSBcIi4vZGJTZXJ2aWNlcy91c2VyRGJTZXJ2aWNlXCI7XG5pbXBvcnQgQXBwbGljYXRpb25FcnJvciBmcm9tIFwiLi4vY29tbW9uL0FwcEV4Y2VwdGlvblwiO1xuaW1wb3J0IG9yZGVyc0RiU2VydmljZSBmcm9tIFwiLi9kYlNlcnZpY2VzL29yZGVyc0RiU2VydmljZVwiO1xuaW1wb3J0IHNob2VzRGJTZXJ2aWNlcyBmcm9tIFwiLi9kYlNlcnZpY2VzL3Nob2VzRGJTZXJ2aWNlc1wiO1xuXG5jbGFzcyBPcmRlcnNTZXJ2aWNlIHtcbiAgYXN5bmMgY3JlYXRlTmV3T3JkZXIocmVxKSB7XG4gICAgLy8gQ2hlY2sgaWYgdXNlciB3aXRoIHRoZSBwcm92aWRlZCBpZCBleGlzdHNcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlckRiU2VydmljZS5maW5kVXNlckJ5SWQocmVxLnVzZXJJZCk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICB0aHJvdyBuZXcgQXBwbGljYXRpb25FcnJvcihcIlVzZXIgd2l0aCB0aGlzIGlkIGRvZXNuJ3QgZXhpc3RzXCIsIDQwMCk7XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIHRoZSBzaG9lIHdpdGggdGhlIHByb3ZpZGVkIGlkIGV4aXN0c1xuICAgIGNvbnN0IHNob2UgPSBhd2FpdCBzaG9lc0RiU2VydmljZXMuZmluZFNob2VCeUlkKHJlcS5zaG9lSWQpO1xuICAgIGlmICghc2hvZSkge1xuICAgICAgdGhyb3cgbmV3IEFwcGxpY2F0aW9uRXJyb3IoXCJTaG9lIHdpdGggdGhpcyBpZCBkb2Vzbid0IGV4aXN0c1wiLCA0MDApO1xuICAgIH1cblxuICAgIC8vIElmIGl0ZW0gaXMgb3V0IG9mIHN0b2NrIGNhbmNlbCB0aGUgcHJvY2Vzc1xuICAgIGlmIChzaG9lLml0ZW1zSW5TdG9jayA9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgQXBwbGljYXRpb25FcnJvcihcIkl0ZW0gb3V0IG9mIHN0b2NrIVwiLCAyMDApO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSB0aGUgb3JkZXJcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IG9yZGVyc0RiU2VydmljZS5jcmVhdGVPcmRlcihyZXEpO1xuXG4gICAgLy8gRGVjcmVhc2Ugc3RvY2sgaXRlbXNcbiAgICBhd2FpdCBzaG9lc0RiU2VydmljZXMudXBkYXRlU2hvZUl0ZW1zTnVtYmVyKFxuICAgICAgcmVxLnNob2VJZCxcbiAgICAgIHNob2UuaXRlbXNJblN0b2NrLFxuICAgICAgZmFsc2VcbiAgICApO1xuXG4gICAgcmV0dXJuIG9yZGVyO1xuICB9XG5cbiAgYXN5bmMgY2FuY2VsT3JkZXIob3JkZXJJZCkge1xuICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgb3JkZXIgd2l0aCB0aGUgcHJvdmlkZWQgaWRcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IG9yZGVyc0RiU2VydmljZS5maW5kT3JkZXJCeUlkKG9yZGVySWQpO1xuXG4gICAgaWYgKCFvcmRlcikge1xuICAgICAgdGhyb3cgbmV3IEFwcGxpY2F0aW9uRXJyb3IoXG4gICAgICAgIFwiT3JkZXIgd2l0aCB0aGUgcHJvdmlkZWQgaWQgZG9lc24ndCBleGlzdHNcIixcbiAgICAgICAgNDAwXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEdldCBzaG9lIG9iamVjdFxuICAgIGNvbnN0IHNob2UgPSBhd2FpdCBzaG9lc0RiU2VydmljZXMuZmluZFNob2VCeUlkKG9yZGVyLnNob2UpO1xuXG4gICAgY29uc29sZS5sb2coc2hvZSk7XG5cbiAgICAvLyBEZWxldGUgdGhlIG9yZGVyIGZyb20gdGhlIGRhdGFiYXNlXG4gICAgYXdhaXQgb3JkZXJzRGJTZXJ2aWNlLmNhbmNlbE9yZGVyKG9yZGVySWQpO1xuXG4gICAgLy8gSW5jcmVhc2UgaXRlbXMgaW4gc3RvY2tcbiAgICBhd2FpdCBzaG9lc0RiU2VydmljZXMudXBkYXRlU2hvZUl0ZW1zTnVtYmVyKHNob2UuX2lkLCBzaG9lLml0ZW1zSW5TdG9jayk7XG4gIH1cblxuICBhc3luYyBsaXN0T3JkZXJzKCkge1xuICAgIHJldHVybiBvcmRlcnNEYlNlcnZpY2UubGlzdE9yZGVycygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBPcmRlcnNTZXJ2aWNlKCk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "ordersService.js"
      ],
      "names": [
        "OrdersService",
        "createNewOrder",
        "req",
        "user",
        "userDbService",
        "findUserById",
        "userId",
        "ApplicationError",
        "shoe",
        "shoesDbServices",
        "findShoeById",
        "shoeId",
        "itemsInStock",
        "order",
        "ordersDbService",
        "createOrder",
        "updateShoeItemsNumber",
        "cancelOrder",
        "orderId",
        "findOrderById",
        "console",
        "log",
        "_id",
        "listOrders"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAN,CAAoB;AAClB,QAAMC,cAAN,CAAqBC,GAArB,EAA0B;AACxB;AACA,UAAMC,IAAI,GAAG,MAAMC,uBAAcC,YAAd,CAA2BH,GAAG,CAACI,MAA/B,CAAnB;;AACA,QAAI,CAACH,IAAL,EAAW;AACT,YAAM,IAAII,qBAAJ,CAAqB,kCAArB,EAAyD,GAAzD,CAAN;AACD,KALuB,CAMxB;;;AACA,UAAMC,IAAI,GAAG,MAAMC,yBAAgBC,YAAhB,CAA6BR,GAAG,CAACS,MAAjC,CAAnB;;AACA,QAAI,CAACH,IAAL,EAAW;AACT,YAAM,IAAID,qBAAJ,CAAqB,kCAArB,EAAyD,GAAzD,CAAN;AACD,KAVuB,CAYxB;;;AACA,QAAIC,IAAI,CAACI,YAAL,IAAqB,CAAzB,EAA4B;AAC1B,YAAM,IAAIL,qBAAJ,CAAqB,oBAArB,EAA2C,GAA3C,CAAN;AACD,KAfuB,CAiBxB;;;AACA,UAAMM,KAAK,GAAG,MAAMC,yBAAgBC,WAAhB,CAA4Bb,GAA5B,CAApB,CAlBwB,CAoBxB;;AACA,UAAMO,yBAAgBO,qBAAhB,CACJd,GAAG,CAACS,MADA,EAEJH,IAAI,CAACI,YAFD,EAGJ,KAHI,CAAN;AAMA,WAAOC,KAAP;AACD;;AAED,QAAMI,WAAN,CAAkBC,OAAlB,EAA2B;AACzB;AACA,UAAML,KAAK,GAAG,MAAMC,yBAAgBK,aAAhB,CAA8BD,OAA9B,CAApB;;AAEA,QAAI,CAACL,KAAL,EAAY;AACV,YAAM,IAAIN,qBAAJ,CACJ,2CADI,EAEJ,GAFI,CAAN;AAID,KATwB,CAWzB;;;AACA,UAAMC,IAAI,GAAG,MAAMC,yBAAgBC,YAAhB,CAA6BG,KAAK,CAACL,IAAnC,CAAnB;AAEAY,IAAAA,OAAO,CAACC,GAAR,CAAYb,IAAZ,EAdyB,CAgBzB;;AACA,UAAMM,yBAAgBG,WAAhB,CAA4BC,OAA5B,CAAN,CAjByB,CAmBzB;;AACA,UAAMT,yBAAgBO,qBAAhB,CAAsCR,IAAI,CAACc,GAA3C,EAAgDd,IAAI,CAACI,YAArD,CAAN;AACD;;AAED,QAAMW,UAAN,GAAmB;AACjB,WAAOT,yBAAgBS,UAAhB,EAAP;AACD;;AAxDiB;;eA2DL,IAAIvB,aAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "sourcesContent": [
        "import userDbService from \"./dbServices/userDbService\";\nimport ApplicationError from \"../common/AppException\";\nimport ordersDbService from \"./dbServices/ordersDbService\";\nimport shoesDbServices from \"./dbServices/shoesDbServices\";\n\nclass OrdersService {\n  async createNewOrder(req) {\n    // Check if user with the provided id exists\n    const user = await userDbService.findUserById(req.userId);\n    if (!user) {\n      throw new ApplicationError(\"User with this id doesn't exists\", 400);\n    }\n    // Check if the shoe with the provided id exists\n    const shoe = await shoesDbServices.findShoeById(req.shoeId);\n    if (!shoe) {\n      throw new ApplicationError(\"Shoe with this id doesn't exists\", 400);\n    }\n\n    // If item is out of stock cancel the process\n    if (shoe.itemsInStock == 0) {\n      throw new ApplicationError(\"Item out of stock!\", 200);\n    }\n\n    // Create the order\n    const order = await ordersDbService.createOrder(req);\n\n    // Decrease stock items\n    await shoesDbServices.updateShoeItemsNumber(\n      req.shoeId,\n      shoe.itemsInStock,\n      false\n    );\n\n    return order;\n  }\n\n  async cancelOrder(orderId) {\n    // Check if we have order with the provided id\n    const order = await ordersDbService.findOrderById(orderId);\n\n    if (!order) {\n      throw new ApplicationError(\n        \"Order with the provided id doesn't exists\",\n        400\n      );\n    }\n\n    // Get shoe object\n    const shoe = await shoesDbServices.findShoeById(order.shoe);\n\n    console.log(shoe);\n\n    // Delete the order from the database\n    await ordersDbService.cancelOrder(orderId);\n\n    // Increase items in stock\n    await shoesDbServices.updateShoeItemsNumber(shoe._id, shoe.itemsInStock);\n  }\n\n  async listOrders() {\n    return ordersDbService.listOrders();\n  }\n}\n\nexport default new OrdersService();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564824323768
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/ordersService.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/ordersService.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/ordersService.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/ordersService.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
        "sourceFileName": "ordersService.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _userDbService = _interopRequireDefault(require(\"./dbServices/userDbService\"));\n\nvar _AppException = _interopRequireDefault(require(\"../common/AppException\"));\n\nvar _ordersDbService = _interopRequireDefault(require(\"./dbServices/ordersDbService\"));\n\nvar _shoesDbServices = _interopRequireDefault(require(\"./dbServices/shoesDbServices\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass OrdersService {\n  async createNewOrder(req) {\n    // Check if user with the provided id exists\n    const user = await _userDbService.default.findUserById(req.userId);\n\n    if (!user) {\n      throw new _AppException.default(\"User with this id doesn't exists\", 400);\n    } // Check if the shoe with the provided id exists\n\n\n    const shoe = await _shoesDbServices.default.findShoeById(req.shoeId);\n\n    if (!shoe) {\n      throw new _AppException.default(\"Shoe with this id doesn't exists\", 400);\n    } // If item is out of stock cancel the process\n\n\n    if (shoe.itemsInStock == 0) {\n      throw new _AppException.default(\"Item out of stock!\", 200);\n    } // Create the order\n\n\n    const order = await _ordersDbService.default.createOrder(req); // Decrease stock items\n\n    await _shoesDbServices.default.updateShoeItemsNumber(req.shoeId, shoe.itemsInStock, false);\n    return order;\n  }\n\n  async cancelOrder(orderId) {\n    // Check if we have order with the provided id\n    const order = await _ordersDbService.default.findOrderById(orderId);\n\n    if (!order) {\n      throw new _AppException.default(\"Order with the provided id doesn't exists\", 400);\n    } // Get shoe object\n\n\n    const shoe = await _shoesDbServices.default.findShoeById(order.shoe);\n    console.log(shoe); // Delete the order from the database\n\n    await _ordersDbService.default.cancelOrder(orderId); // Increase items in stock\n\n    await _shoesDbServices.default.updateShoeItemsNumber(shoe._id, shoe.itemsInStock);\n  }\n\n  async listOrders() {\n    return _ordersDbService.default.listOrders();\n  }\n\n}\n\nvar _default = new OrdersService();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyc1NlcnZpY2UuanMiXSwibmFtZXMiOlsiT3JkZXJzU2VydmljZSIsImNyZWF0ZU5ld09yZGVyIiwicmVxIiwidXNlciIsInVzZXJEYlNlcnZpY2UiLCJmaW5kVXNlckJ5SWQiLCJ1c2VySWQiLCJBcHBsaWNhdGlvbkVycm9yIiwic2hvZSIsInNob2VzRGJTZXJ2aWNlcyIsImZpbmRTaG9lQnlJZCIsInNob2VJZCIsIml0ZW1zSW5TdG9jayIsIm9yZGVyIiwib3JkZXJzRGJTZXJ2aWNlIiwiY3JlYXRlT3JkZXIiLCJ1cGRhdGVTaG9lSXRlbXNOdW1iZXIiLCJjYW5jZWxPcmRlciIsIm9yZGVySWQiLCJmaW5kT3JkZXJCeUlkIiwiY29uc29sZSIsImxvZyIsIl9pZCIsImxpc3RPcmRlcnMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLGFBQU4sQ0FBb0I7QUFDbEIsUUFBTUMsY0FBTixDQUFxQkMsR0FBckIsRUFBMEI7QUFDeEI7QUFDQSxVQUFNQyxJQUFJLEdBQUcsTUFBTUMsdUJBQWNDLFlBQWQsQ0FBMkJILEdBQUcsQ0FBQ0ksTUFBL0IsQ0FBbkI7O0FBQ0EsUUFBSSxDQUFDSCxJQUFMLEVBQVc7QUFDVCxZQUFNLElBQUlJLHFCQUFKLENBQXFCLGtDQUFyQixFQUF5RCxHQUF6RCxDQUFOO0FBQ0QsS0FMdUIsQ0FNeEI7OztBQUNBLFVBQU1DLElBQUksR0FBRyxNQUFNQyx5QkFBZ0JDLFlBQWhCLENBQTZCUixHQUFHLENBQUNTLE1BQWpDLENBQW5COztBQUNBLFFBQUksQ0FBQ0gsSUFBTCxFQUFXO0FBQ1QsWUFBTSxJQUFJRCxxQkFBSixDQUFxQixrQ0FBckIsRUFBeUQsR0FBekQsQ0FBTjtBQUNELEtBVnVCLENBWXhCOzs7QUFDQSxRQUFJQyxJQUFJLENBQUNJLFlBQUwsSUFBcUIsQ0FBekIsRUFBNEI7QUFDMUIsWUFBTSxJQUFJTCxxQkFBSixDQUFxQixvQkFBckIsRUFBMkMsR0FBM0MsQ0FBTjtBQUNELEtBZnVCLENBaUJ4Qjs7O0FBQ0EsVUFBTU0sS0FBSyxHQUFHLE1BQU1DLHlCQUFnQkMsV0FBaEIsQ0FBNEJiLEdBQTVCLENBQXBCLENBbEJ3QixDQW9CeEI7O0FBQ0EsVUFBTU8seUJBQWdCTyxxQkFBaEIsQ0FDSmQsR0FBRyxDQUFDUyxNQURBLEVBRUpILElBQUksQ0FBQ0ksWUFGRCxFQUdKLEtBSEksQ0FBTjtBQU1BLFdBQU9DLEtBQVA7QUFDRDs7QUFFRCxRQUFNSSxXQUFOLENBQWtCQyxPQUFsQixFQUEyQjtBQUN6QjtBQUNBLFVBQU1MLEtBQUssR0FBRyxNQUFNQyx5QkFBZ0JLLGFBQWhCLENBQThCRCxPQUE5QixDQUFwQjs7QUFFQSxRQUFJLENBQUNMLEtBQUwsRUFBWTtBQUNWLFlBQU0sSUFBSU4scUJBQUosQ0FDSiwyQ0FESSxFQUVKLEdBRkksQ0FBTjtBQUlELEtBVHdCLENBV3pCOzs7QUFDQSxVQUFNQyxJQUFJLEdBQUcsTUFBTUMseUJBQWdCQyxZQUFoQixDQUE2QkcsS0FBSyxDQUFDTCxJQUFuQyxDQUFuQjtBQUVBWSxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWWIsSUFBWixFQWR5QixDQWdCekI7O0FBQ0EsVUFBTU0seUJBQWdCRyxXQUFoQixDQUE0QkMsT0FBNUIsQ0FBTixDQWpCeUIsQ0FtQnpCOztBQUNBLFVBQU1ULHlCQUFnQk8scUJBQWhCLENBQXNDUixJQUFJLENBQUNjLEdBQTNDLEVBQWdEZCxJQUFJLENBQUNJLFlBQXJELENBQU47QUFDRDs7QUFFRCxRQUFNVyxVQUFOLEdBQW1CO0FBQ2pCLFdBQU9ULHlCQUFnQlMsVUFBaEIsRUFBUDtBQUNEOztBQXhEaUI7O2VBMkRMLElBQUl2QixhQUFKLEUiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL3NlcnZpY2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHVzZXJEYlNlcnZpY2UgZnJvbSBcIi4vZGJTZXJ2aWNlcy91c2VyRGJTZXJ2aWNlXCI7XG5pbXBvcnQgQXBwbGljYXRpb25FcnJvciBmcm9tIFwiLi4vY29tbW9uL0FwcEV4Y2VwdGlvblwiO1xuaW1wb3J0IG9yZGVyc0RiU2VydmljZSBmcm9tIFwiLi9kYlNlcnZpY2VzL29yZGVyc0RiU2VydmljZVwiO1xuaW1wb3J0IHNob2VzRGJTZXJ2aWNlcyBmcm9tIFwiLi9kYlNlcnZpY2VzL3Nob2VzRGJTZXJ2aWNlc1wiO1xuXG5jbGFzcyBPcmRlcnNTZXJ2aWNlIHtcbiAgYXN5bmMgY3JlYXRlTmV3T3JkZXIocmVxKSB7XG4gICAgLy8gQ2hlY2sgaWYgdXNlciB3aXRoIHRoZSBwcm92aWRlZCBpZCBleGlzdHNcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlckRiU2VydmljZS5maW5kVXNlckJ5SWQocmVxLnVzZXJJZCk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICB0aHJvdyBuZXcgQXBwbGljYXRpb25FcnJvcihcIlVzZXIgd2l0aCB0aGlzIGlkIGRvZXNuJ3QgZXhpc3RzXCIsIDQwMCk7XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIHRoZSBzaG9lIHdpdGggdGhlIHByb3ZpZGVkIGlkIGV4aXN0c1xuICAgIGNvbnN0IHNob2UgPSBhd2FpdCBzaG9lc0RiU2VydmljZXMuZmluZFNob2VCeUlkKHJlcS5zaG9lSWQpO1xuICAgIGlmICghc2hvZSkge1xuICAgICAgdGhyb3cgbmV3IEFwcGxpY2F0aW9uRXJyb3IoXCJTaG9lIHdpdGggdGhpcyBpZCBkb2Vzbid0IGV4aXN0c1wiLCA0MDApO1xuICAgIH1cblxuICAgIC8vIElmIGl0ZW0gaXMgb3V0IG9mIHN0b2NrIGNhbmNlbCB0aGUgcHJvY2Vzc1xuICAgIGlmIChzaG9lLml0ZW1zSW5TdG9jayA9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgQXBwbGljYXRpb25FcnJvcihcIkl0ZW0gb3V0IG9mIHN0b2NrIVwiLCAyMDApO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSB0aGUgb3JkZXJcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IG9yZGVyc0RiU2VydmljZS5jcmVhdGVPcmRlcihyZXEpO1xuXG4gICAgLy8gRGVjcmVhc2Ugc3RvY2sgaXRlbXNcbiAgICBhd2FpdCBzaG9lc0RiU2VydmljZXMudXBkYXRlU2hvZUl0ZW1zTnVtYmVyKFxuICAgICAgcmVxLnNob2VJZCxcbiAgICAgIHNob2UuaXRlbXNJblN0b2NrLFxuICAgICAgZmFsc2VcbiAgICApO1xuXG4gICAgcmV0dXJuIG9yZGVyO1xuICB9XG5cbiAgYXN5bmMgY2FuY2VsT3JkZXIob3JkZXJJZCkge1xuICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgb3JkZXIgd2l0aCB0aGUgcHJvdmlkZWQgaWRcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IG9yZGVyc0RiU2VydmljZS5maW5kT3JkZXJCeUlkKG9yZGVySWQpO1xuXG4gICAgaWYgKCFvcmRlcikge1xuICAgICAgdGhyb3cgbmV3IEFwcGxpY2F0aW9uRXJyb3IoXG4gICAgICAgIFwiT3JkZXIgd2l0aCB0aGUgcHJvdmlkZWQgaWQgZG9lc24ndCBleGlzdHNcIixcbiAgICAgICAgNDAwXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEdldCBzaG9lIG9iamVjdFxuICAgIGNvbnN0IHNob2UgPSBhd2FpdCBzaG9lc0RiU2VydmljZXMuZmluZFNob2VCeUlkKG9yZGVyLnNob2UpO1xuXG4gICAgY29uc29sZS5sb2coc2hvZSk7XG5cbiAgICAvLyBEZWxldGUgdGhlIG9yZGVyIGZyb20gdGhlIGRhdGFiYXNlXG4gICAgYXdhaXQgb3JkZXJzRGJTZXJ2aWNlLmNhbmNlbE9yZGVyKG9yZGVySWQpO1xuXG4gICAgLy8gSW5jcmVhc2UgaXRlbXMgaW4gc3RvY2tcbiAgICBhd2FpdCBzaG9lc0RiU2VydmljZXMudXBkYXRlU2hvZUl0ZW1zTnVtYmVyKHNob2UuX2lkLCBzaG9lLml0ZW1zSW5TdG9jayk7XG4gIH1cblxuICBhc3luYyBsaXN0T3JkZXJzKCkge1xuICAgIHJldHVybiBvcmRlcnNEYlNlcnZpY2UubGlzdE9yZGVycygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBPcmRlcnNTZXJ2aWNlKCk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "ordersService.js"
      ],
      "names": [
        "OrdersService",
        "createNewOrder",
        "req",
        "user",
        "userDbService",
        "findUserById",
        "userId",
        "ApplicationError",
        "shoe",
        "shoesDbServices",
        "findShoeById",
        "shoeId",
        "itemsInStock",
        "order",
        "ordersDbService",
        "createOrder",
        "updateShoeItemsNumber",
        "cancelOrder",
        "orderId",
        "findOrderById",
        "console",
        "log",
        "_id",
        "listOrders"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAN,CAAoB;AAClB,QAAMC,cAAN,CAAqBC,GAArB,EAA0B;AACxB;AACA,UAAMC,IAAI,GAAG,MAAMC,uBAAcC,YAAd,CAA2BH,GAAG,CAACI,MAA/B,CAAnB;;AACA,QAAI,CAACH,IAAL,EAAW;AACT,YAAM,IAAII,qBAAJ,CAAqB,kCAArB,EAAyD,GAAzD,CAAN;AACD,KALuB,CAMxB;;;AACA,UAAMC,IAAI,GAAG,MAAMC,yBAAgBC,YAAhB,CAA6BR,GAAG,CAACS,MAAjC,CAAnB;;AACA,QAAI,CAACH,IAAL,EAAW;AACT,YAAM,IAAID,qBAAJ,CAAqB,kCAArB,EAAyD,GAAzD,CAAN;AACD,KAVuB,CAYxB;;;AACA,QAAIC,IAAI,CAACI,YAAL,IAAqB,CAAzB,EAA4B;AAC1B,YAAM,IAAIL,qBAAJ,CAAqB,oBAArB,EAA2C,GAA3C,CAAN;AACD,KAfuB,CAiBxB;;;AACA,UAAMM,KAAK,GAAG,MAAMC,yBAAgBC,WAAhB,CAA4Bb,GAA5B,CAApB,CAlBwB,CAoBxB;;AACA,UAAMO,yBAAgBO,qBAAhB,CACJd,GAAG,CAACS,MADA,EAEJH,IAAI,CAACI,YAFD,EAGJ,KAHI,CAAN;AAMA,WAAOC,KAAP;AACD;;AAED,QAAMI,WAAN,CAAkBC,OAAlB,EAA2B;AACzB;AACA,UAAML,KAAK,GAAG,MAAMC,yBAAgBK,aAAhB,CAA8BD,OAA9B,CAApB;;AAEA,QAAI,CAACL,KAAL,EAAY;AACV,YAAM,IAAIN,qBAAJ,CACJ,2CADI,EAEJ,GAFI,CAAN;AAID,KATwB,CAWzB;;;AACA,UAAMC,IAAI,GAAG,MAAMC,yBAAgBC,YAAhB,CAA6BG,KAAK,CAACL,IAAnC,CAAnB;AAEAY,IAAAA,OAAO,CAACC,GAAR,CAAYb,IAAZ,EAdyB,CAgBzB;;AACA,UAAMM,yBAAgBG,WAAhB,CAA4BC,OAA5B,CAAN,CAjByB,CAmBzB;;AACA,UAAMT,yBAAgBO,qBAAhB,CAAsCR,IAAI,CAACc,GAA3C,EAAgDd,IAAI,CAACI,YAArD,CAAN;AACD;;AAED,QAAMW,UAAN,GAAmB;AACjB,WAAOT,yBAAgBS,UAAhB,EAAP;AACD;;AAxDiB;;eA2DL,IAAIvB,aAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services",
      "sourcesContent": [
        "import userDbService from \"./dbServices/userDbService\";\nimport ApplicationError from \"../common/AppException\";\nimport ordersDbService from \"./dbServices/ordersDbService\";\nimport shoesDbServices from \"./dbServices/shoesDbServices\";\n\nclass OrdersService {\n  async createNewOrder(req) {\n    // Check if user with the provided id exists\n    const user = await userDbService.findUserById(req.userId);\n    if (!user) {\n      throw new ApplicationError(\"User with this id doesn't exists\", 400);\n    }\n    // Check if the shoe with the provided id exists\n    const shoe = await shoesDbServices.findShoeById(req.shoeId);\n    if (!shoe) {\n      throw new ApplicationError(\"Shoe with this id doesn't exists\", 400);\n    }\n\n    // If item is out of stock cancel the process\n    if (shoe.itemsInStock == 0) {\n      throw new ApplicationError(\"Item out of stock!\", 200);\n    }\n\n    // Create the order\n    const order = await ordersDbService.createOrder(req);\n\n    // Decrease stock items\n    await shoesDbServices.updateShoeItemsNumber(\n      req.shoeId,\n      shoe.itemsInStock,\n      false\n    );\n\n    return order;\n  }\n\n  async cancelOrder(orderId) {\n    // Check if we have order with the provided id\n    const order = await ordersDbService.findOrderById(orderId);\n\n    if (!order) {\n      throw new ApplicationError(\n        \"Order with the provided id doesn't exists\",\n        400\n      );\n    }\n\n    // Get shoe object\n    const shoe = await shoesDbServices.findShoeById(order.shoe);\n\n    console.log(shoe);\n\n    // Delete the order from the database\n    await ordersDbService.cancelOrder(orderId);\n\n    // Increase items in stock\n    await shoesDbServices.updateShoeItemsNumber(shoe._id, shoe.itemsInStock);\n  }\n\n  async listOrders() {\n    return ordersDbService.listOrders();\n  }\n}\n\nexport default new OrdersService();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564824323768
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services/dbServices\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/dbServices/ordersDbService.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/ordersDbService.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/dbServices/ordersDbService.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/ordersDbService.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
        "sourceFileName": "ordersDbService.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _orders = require(\"../../models/orders\");\n\nclass OrdersDbService {\n  createOrder(req) {\n    return new Promise((resolve, reject) => {\n      const order = new _orders.Order({\n        user: req.userId,\n        shoe: req.shoeId,\n        date: req.Date\n      });\n      order.save().then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  cancelOrder(orderId) {\n    return new Promise((resolve, reject) => {\n      _orders.Order.findByIdAndDelete(orderId).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  listOrders() {\n    return new Promise((resolve, reject) => {\n      _orders.Order.find().populate(\"user\", \"fullName\").populate({\n        path: \"shoe\",\n        populate: {\n          path: \"brand\",\n          model: \"Brand\"\n        }\n      }).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  findOrderById(orderId) {\n    return new Promise((resolve, reject) => {\n      _orders.Order.findById(orderId).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n}\n\nvar _default = new OrdersDbService();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyc0RiU2VydmljZS5qcyJdLCJuYW1lcyI6WyJPcmRlcnNEYlNlcnZpY2UiLCJjcmVhdGVPcmRlciIsInJlcSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwib3JkZXIiLCJPcmRlciIsInVzZXIiLCJ1c2VySWQiLCJzaG9lIiwic2hvZUlkIiwiZGF0ZSIsIkRhdGUiLCJzYXZlIiwidGhlbiIsInIiLCJjYXRjaCIsImVyciIsImNhbmNlbE9yZGVyIiwib3JkZXJJZCIsImZpbmRCeUlkQW5kRGVsZXRlIiwibGlzdE9yZGVycyIsImZpbmQiLCJwb3B1bGF0ZSIsInBhdGgiLCJtb2RlbCIsImZpbmRPcmRlckJ5SWQiLCJmaW5kQnlJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBLE1BQU1BLGVBQU4sQ0FBc0I7QUFDcEJDLEVBQUFBLFdBQVcsQ0FBQ0MsR0FBRCxFQUFNO0FBQ2YsV0FBTyxJQUFJQyxPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3RDLFlBQU1DLEtBQUssR0FBRyxJQUFJQyxhQUFKLENBQVU7QUFDdEJDLFFBQUFBLElBQUksRUFBRU4sR0FBRyxDQUFDTyxNQURZO0FBRXRCQyxRQUFBQSxJQUFJLEVBQUVSLEdBQUcsQ0FBQ1MsTUFGWTtBQUd0QkMsUUFBQUEsSUFBSSxFQUFFVixHQUFHLENBQUNXO0FBSFksT0FBVixDQUFkO0FBS0FQLE1BQUFBLEtBQUssQ0FDRlEsSUFESCxHQUVHQyxJQUZILENBRVFDLENBQUMsSUFBSVosT0FBTyxDQUFDWSxDQUFELENBRnBCLEVBR0dDLEtBSEgsQ0FHU0MsR0FBRyxJQUFJYixNQUFNLENBQUNhLEdBQUQsQ0FIdEI7QUFJRCxLQVZNLENBQVA7QUFXRDs7QUFFREMsRUFBQUEsV0FBVyxDQUFDQyxPQUFELEVBQVU7QUFDbkIsV0FBTyxJQUFJakIsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0Q0Usb0JBQU1jLGlCQUFOLENBQXdCRCxPQUF4QixFQUNHTCxJQURILENBQ1FDLENBQUMsSUFBSVosT0FBTyxDQUFDWSxDQUFELENBRHBCLEVBRUdDLEtBRkgsQ0FFU0MsR0FBRyxJQUFJYixNQUFNLENBQUNhLEdBQUQsQ0FGdEI7QUFHRCxLQUpNLENBQVA7QUFLRDs7QUFFREksRUFBQUEsVUFBVSxHQUFHO0FBQ1gsV0FBTyxJQUFJbkIsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0Q0Usb0JBQU1nQixJQUFOLEdBQ0dDLFFBREgsQ0FDWSxNQURaLEVBQ29CLFVBRHBCLEVBRUdBLFFBRkgsQ0FFWTtBQUNSQyxRQUFBQSxJQUFJLEVBQUUsTUFERTtBQUVSRCxRQUFBQSxRQUFRLEVBQUU7QUFDUkMsVUFBQUEsSUFBSSxFQUFFLE9BREU7QUFFUkMsVUFBQUEsS0FBSyxFQUFFO0FBRkM7QUFGRixPQUZaLEVBU0dYLElBVEgsQ0FTUUMsQ0FBQyxJQUFJWixPQUFPLENBQUNZLENBQUQsQ0FUcEIsRUFVR0MsS0FWSCxDQVVTQyxHQUFHLElBQUliLE1BQU0sQ0FBQ2EsR0FBRCxDQVZ0QjtBQVdELEtBWk0sQ0FBUDtBQWFEOztBQUVEUyxFQUFBQSxhQUFhLENBQUNQLE9BQUQsRUFBVTtBQUNyQixXQUFPLElBQUlqQixPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3RDRSxvQkFBTXFCLFFBQU4sQ0FBZVIsT0FBZixFQUNHTCxJQURILENBQ1FDLENBQUMsSUFBSVosT0FBTyxDQUFDWSxDQUFELENBRHBCLEVBRUdDLEtBRkgsQ0FFU0MsR0FBRyxJQUFJYixNQUFNLENBQUNhLEdBQUQsQ0FGdEI7QUFHRCxLQUpNLENBQVA7QUFLRDs7QUE3Q21COztlQWdEUCxJQUFJbEIsZUFBSixFIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9zZXJ2aWNlcy9kYlNlcnZpY2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3JkZXIgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL29yZGVyc1wiO1xuY2xhc3MgT3JkZXJzRGJTZXJ2aWNlIHtcbiAgY3JlYXRlT3JkZXIocmVxKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IG9yZGVyID0gbmV3IE9yZGVyKHtcbiAgICAgICAgdXNlcjogcmVxLnVzZXJJZCxcbiAgICAgICAgc2hvZTogcmVxLnNob2VJZCxcbiAgICAgICAgZGF0ZTogcmVxLkRhdGVcbiAgICAgIH0pO1xuICAgICAgb3JkZXJcbiAgICAgICAgLnNhdmUoKVxuICAgICAgICAudGhlbihyID0+IHJlc29sdmUocikpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9XG5cbiAgY2FuY2VsT3JkZXIob3JkZXJJZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBPcmRlci5maW5kQnlJZEFuZERlbGV0ZShvcmRlcklkKVxuICAgICAgICAudGhlbihyID0+IHJlc29sdmUocikpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9XG5cbiAgbGlzdE9yZGVycygpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgT3JkZXIuZmluZCgpXG4gICAgICAgIC5wb3B1bGF0ZShcInVzZXJcIiwgXCJmdWxsTmFtZVwiKVxuICAgICAgICAucG9wdWxhdGUoe1xuICAgICAgICAgIHBhdGg6IFwic2hvZVwiLFxuICAgICAgICAgIHBvcHVsYXRlOiB7XG4gICAgICAgICAgICBwYXRoOiBcImJyYW5kXCIsXG4gICAgICAgICAgICBtb2RlbDogXCJCcmFuZFwiXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAudGhlbihyID0+IHJlc29sdmUocikpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9XG5cbiAgZmluZE9yZGVyQnlJZChvcmRlcklkKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIE9yZGVyLmZpbmRCeUlkKG9yZGVySWQpXG4gICAgICAgIC50aGVuKHIgPT4gcmVzb2x2ZShyKSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE9yZGVyc0RiU2VydmljZSgpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "ordersDbService.js"
      ],
      "names": [
        "OrdersDbService",
        "createOrder",
        "req",
        "Promise",
        "resolve",
        "reject",
        "order",
        "Order",
        "user",
        "userId",
        "shoe",
        "shoeId",
        "date",
        "Date",
        "save",
        "then",
        "r",
        "catch",
        "err",
        "cancelOrder",
        "orderId",
        "findByIdAndDelete",
        "listOrders",
        "find",
        "populate",
        "path",
        "model",
        "findOrderById",
        "findById"
      ],
      "mappings": ";;;;;;;AAAA;;AACA,MAAMA,eAAN,CAAsB;AACpBC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACf,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,YAAMC,KAAK,GAAG,IAAIC,aAAJ,CAAU;AACtBC,QAAAA,IAAI,EAAEN,GAAG,CAACO,MADY;AAEtBC,QAAAA,IAAI,EAAER,GAAG,CAACS,MAFY;AAGtBC,QAAAA,IAAI,EAAEV,GAAG,CAACW;AAHY,OAAV,CAAd;AAKAP,MAAAA,KAAK,CACFQ,IADH,GAEGC,IAFH,CAEQC,CAAC,IAAIZ,OAAO,CAACY,CAAD,CAFpB,EAGGC,KAHH,CAGSC,GAAG,IAAIb,MAAM,CAACa,GAAD,CAHtB;AAID,KAVM,CAAP;AAWD;;AAEDC,EAAAA,WAAW,CAACC,OAAD,EAAU;AACnB,WAAO,IAAIjB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,oBAAMc,iBAAN,CAAwBD,OAAxB,EACGL,IADH,CACQC,CAAC,IAAIZ,OAAO,CAACY,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIb,MAAM,CAACa,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AAEDI,EAAAA,UAAU,GAAG;AACX,WAAO,IAAInB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,oBAAMgB,IAAN,GACGC,QADH,CACY,MADZ,EACoB,UADpB,EAEGA,QAFH,CAEY;AACRC,QAAAA,IAAI,EAAE,MADE;AAERD,QAAAA,QAAQ,EAAE;AACRC,UAAAA,IAAI,EAAE,OADE;AAERC,UAAAA,KAAK,EAAE;AAFC;AAFF,OAFZ,EASGX,IATH,CASQC,CAAC,IAAIZ,OAAO,CAACY,CAAD,CATpB,EAUGC,KAVH,CAUSC,GAAG,IAAIb,MAAM,CAACa,GAAD,CAVtB;AAWD,KAZM,CAAP;AAaD;;AAEDS,EAAAA,aAAa,CAACP,OAAD,EAAU;AACrB,WAAO,IAAIjB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,oBAAMqB,QAAN,CAAeR,OAAf,EACGL,IADH,CACQC,CAAC,IAAIZ,OAAO,CAACY,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIb,MAAM,CAACa,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AA7CmB;;eAgDP,IAAIlB,eAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "sourcesContent": [
        "import { Order } from \"../../models/orders\";\nclass OrdersDbService {\n  createOrder(req) {\n    return new Promise((resolve, reject) => {\n      const order = new Order({\n        user: req.userId,\n        shoe: req.shoeId,\n        date: req.Date\n      });\n      order\n        .save()\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  cancelOrder(orderId) {\n    return new Promise((resolve, reject) => {\n      Order.findByIdAndDelete(orderId)\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  listOrders() {\n    return new Promise((resolve, reject) => {\n      Order.find()\n        .populate(\"user\", \"fullName\")\n        .populate({\n          path: \"shoe\",\n          populate: {\n            path: \"brand\",\n            model: \"Brand\"\n          }\n        })\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  findOrderById(orderId) {\n    return new Promise((resolve, reject) => {\n      Order.findById(orderId)\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n}\n\nexport default new OrdersDbService();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564834084073
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/services/dbServices\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/services/dbServices/ordersDbService.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/ordersDbService.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/services/dbServices/ordersDbService.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/services/dbServices/ordersDbService.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
        "sourceFileName": "ordersDbService.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _orders = require(\"../../models/orders\");\n\nclass OrdersDbService {\n  createOrder(req) {\n    return new Promise((resolve, reject) => {\n      const order = new _orders.Order({\n        user: req.userId,\n        shoe: req.shoeId,\n        date: req.Date\n      });\n      order.save().then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  cancelOrder(orderId) {\n    return new Promise((resolve, reject) => {\n      _orders.Order.findByIdAndDelete(orderId).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  listOrders() {\n    return new Promise((resolve, reject) => {\n      _orders.Order.find(SSL_OP_ALL).populate(\"user\", \"fullName\").populate({\n        path: \"shoe\",\n        populate: {\n          path: \"brand\",\n          model: \"Brand\"\n        }\n      }).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n  findOrderById(orderId) {\n    return new Promise((resolve, reject) => {\n      _orders.Order.findById(orderId).then(r => resolve(r)).catch(err => reject(err));\n    });\n  }\n\n}\n\nvar _default = new OrdersDbService();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyc0RiU2VydmljZS5qcyJdLCJuYW1lcyI6WyJPcmRlcnNEYlNlcnZpY2UiLCJjcmVhdGVPcmRlciIsInJlcSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwib3JkZXIiLCJPcmRlciIsInVzZXIiLCJ1c2VySWQiLCJzaG9lIiwic2hvZUlkIiwiZGF0ZSIsIkRhdGUiLCJzYXZlIiwidGhlbiIsInIiLCJjYXRjaCIsImVyciIsImNhbmNlbE9yZGVyIiwib3JkZXJJZCIsImZpbmRCeUlkQW5kRGVsZXRlIiwibGlzdE9yZGVycyIsImZpbmQiLCJTU0xfT1BfQUxMIiwicG9wdWxhdGUiLCJwYXRoIiwibW9kZWwiLCJmaW5kT3JkZXJCeUlkIiwiZmluZEJ5SWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQSxNQUFNQSxlQUFOLENBQXNCO0FBQ3BCQyxFQUFBQSxXQUFXLENBQUNDLEdBQUQsRUFBTTtBQUNmLFdBQU8sSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0QyxZQUFNQyxLQUFLLEdBQUcsSUFBSUMsYUFBSixDQUFVO0FBQ3RCQyxRQUFBQSxJQUFJLEVBQUVOLEdBQUcsQ0FBQ08sTUFEWTtBQUV0QkMsUUFBQUEsSUFBSSxFQUFFUixHQUFHLENBQUNTLE1BRlk7QUFHdEJDLFFBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVztBQUhZLE9BQVYsQ0FBZDtBQUtBUCxNQUFBQSxLQUFLLENBQ0ZRLElBREgsR0FFR0MsSUFGSCxDQUVRQyxDQUFDLElBQUlaLE9BQU8sQ0FBQ1ksQ0FBRCxDQUZwQixFQUdHQyxLQUhILENBR1NDLEdBQUcsSUFBSWIsTUFBTSxDQUFDYSxHQUFELENBSHRCO0FBSUQsS0FWTSxDQUFQO0FBV0Q7O0FBRURDLEVBQUFBLFdBQVcsQ0FBQ0MsT0FBRCxFQUFVO0FBQ25CLFdBQU8sSUFBSWpCLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDdENFLG9CQUFNYyxpQkFBTixDQUF3QkQsT0FBeEIsRUFDR0wsSUFESCxDQUNRQyxDQUFDLElBQUlaLE9BQU8sQ0FBQ1ksQ0FBRCxDQURwQixFQUVHQyxLQUZILENBRVNDLEdBQUcsSUFBSWIsTUFBTSxDQUFDYSxHQUFELENBRnRCO0FBR0QsS0FKTSxDQUFQO0FBS0Q7O0FBRURJLEVBQUFBLFVBQVUsR0FBRztBQUNYLFdBQU8sSUFBSW5CLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDdENFLG9CQUFNZ0IsSUFBTixDQUFXQyxVQUFYLEVBQ0dDLFFBREgsQ0FDWSxNQURaLEVBQ29CLFVBRHBCLEVBRUdBLFFBRkgsQ0FFWTtBQUNSQyxRQUFBQSxJQUFJLEVBQUUsTUFERTtBQUVSRCxRQUFBQSxRQUFRLEVBQUU7QUFDUkMsVUFBQUEsSUFBSSxFQUFFLE9BREU7QUFFUkMsVUFBQUEsS0FBSyxFQUFFO0FBRkM7QUFGRixPQUZaLEVBU0daLElBVEgsQ0FTUUMsQ0FBQyxJQUFJWixPQUFPLENBQUNZLENBQUQsQ0FUcEIsRUFVR0MsS0FWSCxDQVVTQyxHQUFHLElBQUliLE1BQU0sQ0FBQ2EsR0FBRCxDQVZ0QjtBQVdELEtBWk0sQ0FBUDtBQWFEOztBQUVEVSxFQUFBQSxhQUFhLENBQUNSLE9BQUQsRUFBVTtBQUNyQixXQUFPLElBQUlqQixPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3RDRSxvQkFBTXNCLFFBQU4sQ0FBZVQsT0FBZixFQUNHTCxJQURILENBQ1FDLENBQUMsSUFBSVosT0FBTyxDQUFDWSxDQUFELENBRHBCLEVBRUdDLEtBRkgsQ0FFU0MsR0FBRyxJQUFJYixNQUFNLENBQUNhLEdBQUQsQ0FGdEI7QUFHRCxLQUpNLENBQVA7QUFLRDs7QUE3Q21COztlQWdEUCxJQUFJbEIsZUFBSixFIiwic291cmNlUm9vdCI6Ii9ob21lL3BlY2UvUHJvamVjdHMvU2hvZVN0b3JlL3NlcnZlci9zZXJ2aWNlcy9kYlNlcnZpY2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3JkZXIgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL29yZGVyc1wiO1xuY2xhc3MgT3JkZXJzRGJTZXJ2aWNlIHtcbiAgY3JlYXRlT3JkZXIocmVxKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IG9yZGVyID0gbmV3IE9yZGVyKHtcbiAgICAgICAgdXNlcjogcmVxLnVzZXJJZCxcbiAgICAgICAgc2hvZTogcmVxLnNob2VJZCxcbiAgICAgICAgZGF0ZTogcmVxLkRhdGVcbiAgICAgIH0pO1xuICAgICAgb3JkZXJcbiAgICAgICAgLnNhdmUoKVxuICAgICAgICAudGhlbihyID0+IHJlc29sdmUocikpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9XG5cbiAgY2FuY2VsT3JkZXIob3JkZXJJZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBPcmRlci5maW5kQnlJZEFuZERlbGV0ZShvcmRlcklkKVxuICAgICAgICAudGhlbihyID0+IHJlc29sdmUocikpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9XG5cbiAgbGlzdE9yZGVycygpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgT3JkZXIuZmluZChTU0xfT1BfQUxMKVxuICAgICAgICAucG9wdWxhdGUoXCJ1c2VyXCIsIFwiZnVsbE5hbWVcIilcbiAgICAgICAgLnBvcHVsYXRlKHtcbiAgICAgICAgICBwYXRoOiBcInNob2VcIixcbiAgICAgICAgICBwb3B1bGF0ZToge1xuICAgICAgICAgICAgcGF0aDogXCJicmFuZFwiLFxuICAgICAgICAgICAgbW9kZWw6IFwiQnJhbmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ociA9PiByZXNvbHZlKHIpKVxuICAgICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZpbmRPcmRlckJ5SWQob3JkZXJJZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBPcmRlci5maW5kQnlJZChvcmRlcklkKVxuICAgICAgICAudGhlbihyID0+IHJlc29sdmUocikpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBPcmRlcnNEYlNlcnZpY2UoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "ordersDbService.js"
      ],
      "names": [
        "OrdersDbService",
        "createOrder",
        "req",
        "Promise",
        "resolve",
        "reject",
        "order",
        "Order",
        "user",
        "userId",
        "shoe",
        "shoeId",
        "date",
        "Date",
        "save",
        "then",
        "r",
        "catch",
        "err",
        "cancelOrder",
        "orderId",
        "findByIdAndDelete",
        "listOrders",
        "find",
        "SSL_OP_ALL",
        "populate",
        "path",
        "model",
        "findOrderById",
        "findById"
      ],
      "mappings": ";;;;;;;AAAA;;AACA,MAAMA,eAAN,CAAsB;AACpBC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACf,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,YAAMC,KAAK,GAAG,IAAIC,aAAJ,CAAU;AACtBC,QAAAA,IAAI,EAAEN,GAAG,CAACO,MADY;AAEtBC,QAAAA,IAAI,EAAER,GAAG,CAACS,MAFY;AAGtBC,QAAAA,IAAI,EAAEV,GAAG,CAACW;AAHY,OAAV,CAAd;AAKAP,MAAAA,KAAK,CACFQ,IADH,GAEGC,IAFH,CAEQC,CAAC,IAAIZ,OAAO,CAACY,CAAD,CAFpB,EAGGC,KAHH,CAGSC,GAAG,IAAIb,MAAM,CAACa,GAAD,CAHtB;AAID,KAVM,CAAP;AAWD;;AAEDC,EAAAA,WAAW,CAACC,OAAD,EAAU;AACnB,WAAO,IAAIjB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,oBAAMc,iBAAN,CAAwBD,OAAxB,EACGL,IADH,CACQC,CAAC,IAAIZ,OAAO,CAACY,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIb,MAAM,CAACa,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AAEDI,EAAAA,UAAU,GAAG;AACX,WAAO,IAAInB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,oBAAMgB,IAAN,CAAWC,UAAX,EACGC,QADH,CACY,MADZ,EACoB,UADpB,EAEGA,QAFH,CAEY;AACRC,QAAAA,IAAI,EAAE,MADE;AAERD,QAAAA,QAAQ,EAAE;AACRC,UAAAA,IAAI,EAAE,OADE;AAERC,UAAAA,KAAK,EAAE;AAFC;AAFF,OAFZ,EASGZ,IATH,CASQC,CAAC,IAAIZ,OAAO,CAACY,CAAD,CATpB,EAUGC,KAVH,CAUSC,GAAG,IAAIb,MAAM,CAACa,GAAD,CAVtB;AAWD,KAZM,CAAP;AAaD;;AAEDU,EAAAA,aAAa,CAACR,OAAD,EAAU;AACrB,WAAO,IAAIjB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCE,oBAAMsB,QAAN,CAAeT,OAAf,EACGL,IADH,CACQC,CAAC,IAAIZ,OAAO,CAACY,CAAD,CADpB,EAEGC,KAFH,CAESC,GAAG,IAAIb,MAAM,CAACa,GAAD,CAFtB;AAGD,KAJM,CAAP;AAKD;;AA7CmB;;eAgDP,IAAIlB,eAAJ,E",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/services/dbServices",
      "sourcesContent": [
        "import { Order } from \"../../models/orders\";\nclass OrdersDbService {\n  createOrder(req) {\n    return new Promise((resolve, reject) => {\n      const order = new Order({\n        user: req.userId,\n        shoe: req.shoeId,\n        date: req.Date\n      });\n      order\n        .save()\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  cancelOrder(orderId) {\n    return new Promise((resolve, reject) => {\n      Order.findByIdAndDelete(orderId)\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  listOrders() {\n    return new Promise((resolve, reject) => {\n      Order.find(SSL_OP_ALL)\n        .populate(\"user\", \"fullName\")\n        .populate({\n          path: \"shoe\",\n          populate: {\n            path: \"brand\",\n            model: \"Brand\"\n          }\n        })\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n\n  findOrderById(orderId) {\n    return new Promise((resolve, reject) => {\n      Order.findById(orderId)\n        .then(r => resolve(r))\n        .catch(err => reject(err));\n    });\n  }\n}\n\nexport default new OrdersDbService();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564826420283
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/middleware/errors.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/middleware/errors.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/middleware/errors.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/middleware/errors.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/middleware",
        "sourceFileName": "errors.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nfunction _default(err, req, res, next) {\n  console.log('next');\n  return res.status(err.status || 500).json(err);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9ycy5qcyJdLCJuYW1lcyI6WyJlcnIiLCJyZXEiLCJyZXMiLCJuZXh0IiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsImpzb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZSxrQkFBVUEsR0FBVixFQUFjQyxHQUFkLEVBQWtCQyxHQUFsQixFQUFzQkMsSUFBdEIsRUFBNEI7QUFDdkNDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE1BQVo7QUFDQSxTQUFPSCxHQUFHLENBQUNJLE1BQUosQ0FBWU4sR0FBRyxDQUFDTSxNQUFKLElBQWMsR0FBMUIsRUFBK0JDLElBQS9CLENBQW9DUCxHQUFwQyxDQUFQO0FBQ0QiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL21pZGRsZXdhcmUiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZXJyLHJlcSxyZXMsbmV4dCkge1xuICAgIGNvbnNvbGUubG9nKCduZXh0Jyk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMgKGVyci5zdGF0dXMgfHwgNTAwKS5qc29uKGVycik7XG4gIH0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "errors.js"
      ],
      "names": [
        "err",
        "req",
        "res",
        "next",
        "console",
        "log",
        "status",
        "json"
      ],
      "mappings": ";;;;;;;AAAe,kBAAUA,GAAV,EAAcC,GAAd,EAAkBC,GAAlB,EAAsBC,IAAtB,EAA4B;AACvCC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,SAAOH,GAAG,CAACI,MAAJ,CAAYN,GAAG,CAACM,MAAJ,IAAc,GAA1B,EAA+BC,IAA/B,CAAoCP,GAApC,CAAP;AACD",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/middleware",
      "sourcesContent": [
        "export default function (err,req,res,next) {\n    console.log('next');\n    return res.status (err.status || 500).json(err);\n  }"
      ]
    },
    "sourceType": "script",
    "mtime": 1564826468204
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/middleware/async.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/middleware/async.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/middleware/async.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/middleware/async.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/middleware",
        "sourceFileName": "async.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.asyncMiddleware = asyncMiddleware;\n\nvar _winston = _interopRequireDefault(require(\"winston\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncMiddleware(handler) {\n  return async (req, res) => {\n    try {\n      await handler(req, res);\n    } catch (err) {\n      const error = {\n        message: err.message || \"Something went wrong\",\n        status: err.status || 500\n      };\n\n      _winston.default.error(error.message, err);\n\n      return res.status(error.status || 500).json(error);\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jLmpzIl0sIm5hbWVzIjpbImFzeW5jTWlkZGxld2FyZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJlcnIiLCJlcnJvciIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJ3aW5zdG9uIiwianNvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ08sU0FBU0EsZUFBVCxDQUEwQkMsT0FBMUIsRUFBbUM7QUFDdEMsU0FBTyxPQUFPQyxHQUFQLEVBQVdDLEdBQVgsS0FBbUI7QUFDdEIsUUFBSTtBQUNBLFlBQU1GLE9BQU8sQ0FBQ0MsR0FBRCxFQUFLQyxHQUFMLENBQWI7QUFDSCxLQUZELENBRUUsT0FBT0MsR0FBUCxFQUFZO0FBQ1YsWUFBTUMsS0FBSyxHQUFHO0FBQ1ZDLFFBQUFBLE9BQU8sRUFBR0YsR0FBRyxDQUFDRSxPQUFKLElBQWUsc0JBRGY7QUFFVkMsUUFBQUEsTUFBTSxFQUFHSCxHQUFHLENBQUNHLE1BQUosSUFBYztBQUZiLE9BQWQ7O0FBSUFDLHVCQUFRSCxLQUFSLENBQWNBLEtBQUssQ0FBQ0MsT0FBcEIsRUFBNEJGLEdBQTVCOztBQUNBLGFBQU9ELEdBQUcsQ0FBQ0ksTUFBSixDQUFXRixLQUFLLENBQUNFLE1BQU4sSUFBZ0IsR0FBM0IsRUFBZ0NFLElBQWhDLENBQXFDSixLQUFyQyxDQUFQO0FBQ0g7QUFDSixHQVhEO0FBWUgiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL21pZGRsZXdhcmUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgd2luc3RvbiBmcm9tICd3aW5zdG9uJztcbmV4cG9ydCBmdW5jdGlvbiBhc3luY01pZGRsZXdhcmUgKGhhbmRsZXIpIHtcbiAgICByZXR1cm4gYXN5bmMgKHJlcSxyZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIocmVxLHJlcyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA6IGVyci5tZXNzYWdlIHx8IFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIixcbiAgICAgICAgICAgICAgICBzdGF0dXMgOiBlcnIuc3RhdHVzIHx8IDUwMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbnN0b24uZXJyb3IoZXJyb3IubWVzc2FnZSxlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoZXJyb3Iuc3RhdHVzIHx8IDUwMCkuanNvbihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "async.js"
      ],
      "names": [
        "asyncMiddleware",
        "handler",
        "req",
        "res",
        "err",
        "error",
        "message",
        "status",
        "winston",
        "json"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACO,SAASA,eAAT,CAA0BC,OAA1B,EAAmC;AACtC,SAAO,OAAOC,GAAP,EAAWC,GAAX,KAAmB;AACtB,QAAI;AACA,YAAMF,OAAO,CAACC,GAAD,EAAKC,GAAL,CAAb;AACH,KAFD,CAEE,OAAOC,GAAP,EAAY;AACV,YAAMC,KAAK,GAAG;AACVC,QAAAA,OAAO,EAAGF,GAAG,CAACE,OAAJ,IAAe,sBADf;AAEVC,QAAAA,MAAM,EAAGH,GAAG,CAACG,MAAJ,IAAc;AAFb,OAAd;;AAIAC,uBAAQH,KAAR,CAAcA,KAAK,CAACC,OAApB,EAA4BF,GAA5B;;AACA,aAAOD,GAAG,CAACI,MAAJ,CAAWF,KAAK,CAACE,MAAN,IAAgB,GAA3B,EAAgCE,IAAhC,CAAqCJ,KAArC,CAAP;AACH;AACJ,GAXD;AAYH",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/middleware",
      "sourcesContent": [
        "import winston from 'winston';\nexport function asyncMiddleware (handler) {\n    return async (req,res) => {\n        try {\n            await handler(req,res);\n        } catch (err) {\n            const error = {\n                message : err.message || \"Something went wrong\",\n                status : err.status || 500\n            };\n            winston.error(error.message,err);\n            return res.status(error.status || 500).json(error);\n        }\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1564833705302
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/middleware/errors.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/middleware/errors.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/middleware/errors.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/middleware/errors.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/middleware",
        "sourceFileName": "errors.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nfunction _default(err, req, res, next) {\n  console.log('next');\n  return res.status(err.status || 500).json(err);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9ycy5qcyJdLCJuYW1lcyI6WyJlcnIiLCJyZXEiLCJyZXMiLCJuZXh0IiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsImpzb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZSxrQkFBVUEsR0FBVixFQUFjQyxHQUFkLEVBQWtCQyxHQUFsQixFQUFzQkMsSUFBdEIsRUFBNEI7QUFDdkNDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE1BQVo7QUFDQSxTQUFPSCxHQUFHLENBQUNJLE1BQUosQ0FBWU4sR0FBRyxDQUFDTSxNQUFKLElBQWMsR0FBMUIsRUFBK0JDLElBQS9CLENBQW9DUCxHQUFwQyxDQUFQO0FBQ0QiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL21pZGRsZXdhcmUiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZXJyLHJlcSxyZXMsbmV4dCkge1xuICAgIGNvbnNvbGUubG9nKCduZXh0Jyk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMgKGVyci5zdGF0dXMgfHwgNTAwKS5qc29uKGVycik7XG4gIH0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "errors.js"
      ],
      "names": [
        "err",
        "req",
        "res",
        "next",
        "console",
        "log",
        "status",
        "json"
      ],
      "mappings": ";;;;;;;AAAe,kBAAUA,GAAV,EAAcC,GAAd,EAAkBC,GAAlB,EAAsBC,IAAtB,EAA4B;AACvCC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,SAAOH,GAAG,CAACI,MAAJ,CAAYN,GAAG,CAACM,MAAJ,IAAc,GAA1B,EAA+BC,IAA/B,CAAoCP,GAApC,CAAP;AACD",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/middleware",
      "sourcesContent": [
        "export default function (err,req,res,next) {\n    console.log('next');\n    return res.status (err.status || 500).json(err);\n  }"
      ]
    },
    "sourceType": "script",
    "mtime": 1564826468204
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/middleware/async.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/middleware/async.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/middleware/async.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/middleware/async.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/middleware",
        "sourceFileName": "async.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.asyncMiddleware = asyncMiddleware;\n\nvar _winston = _interopRequireDefault(require(\"winston\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncMiddleware(handler) {\n  return async (req, res) => {\n    try {\n      await handler(req, res);\n    } catch (err) {\n      const error = {\n        message: err.message || \"Something went wrong\",\n        status: err.status || 500\n      };\n\n      _winston.default.error(error.message, err);\n\n      return res.status(error.status || 500).json(error);\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jLmpzIl0sIm5hbWVzIjpbImFzeW5jTWlkZGxld2FyZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJlcnIiLCJlcnJvciIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJ3aW5zdG9uIiwianNvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ08sU0FBU0EsZUFBVCxDQUEwQkMsT0FBMUIsRUFBbUM7QUFDdEMsU0FBTyxPQUFPQyxHQUFQLEVBQVdDLEdBQVgsS0FBbUI7QUFDdEIsUUFBSTtBQUNBLFlBQU1GLE9BQU8sQ0FBQ0MsR0FBRCxFQUFLQyxHQUFMLENBQWI7QUFDSCxLQUZELENBRUUsT0FBT0MsR0FBUCxFQUFZO0FBQ1YsWUFBTUMsS0FBSyxHQUFHO0FBQ1ZDLFFBQUFBLE9BQU8sRUFBR0YsR0FBRyxDQUFDRSxPQUFKLElBQWUsc0JBRGY7QUFFVkMsUUFBQUEsTUFBTSxFQUFHSCxHQUFHLENBQUNHLE1BQUosSUFBYztBQUZiLE9BQWQ7O0FBSUFDLHVCQUFRSCxLQUFSLENBQWNBLEtBQUssQ0FBQ0MsT0FBcEIsRUFBNEJGLEdBQTVCOztBQUNBLGFBQU9ELEdBQUcsQ0FBQ0ksTUFBSixDQUFXRixLQUFLLENBQUNFLE1BQU4sSUFBZ0IsR0FBM0IsRUFBZ0NFLElBQWhDLENBQXFDSixLQUFyQyxDQUFQO0FBQ0g7QUFDSixHQVhEO0FBWUgiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL21pZGRsZXdhcmUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgd2luc3RvbiBmcm9tICd3aW5zdG9uJztcbmV4cG9ydCBmdW5jdGlvbiBhc3luY01pZGRsZXdhcmUgKGhhbmRsZXIpIHtcbiAgICByZXR1cm4gYXN5bmMgKHJlcSxyZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIocmVxLHJlcyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA6IGVyci5tZXNzYWdlIHx8IFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIixcbiAgICAgICAgICAgICAgICBzdGF0dXMgOiBlcnIuc3RhdHVzIHx8IDUwMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbnN0b24uZXJyb3IoZXJyb3IubWVzc2FnZSxlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoZXJyb3Iuc3RhdHVzIHx8IDUwMCkuanNvbihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "async.js"
      ],
      "names": [
        "asyncMiddleware",
        "handler",
        "req",
        "res",
        "err",
        "error",
        "message",
        "status",
        "winston",
        "json"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACO,SAASA,eAAT,CAA0BC,OAA1B,EAAmC;AACtC,SAAO,OAAOC,GAAP,EAAWC,GAAX,KAAmB;AACtB,QAAI;AACA,YAAMF,OAAO,CAACC,GAAD,EAAKC,GAAL,CAAb;AACH,KAFD,CAEE,OAAOC,GAAP,EAAY;AACV,YAAMC,KAAK,GAAG;AACVC,QAAAA,OAAO,EAAGF,GAAG,CAACE,OAAJ,IAAe,sBADf;AAEVC,QAAAA,MAAM,EAAGH,GAAG,CAACG,MAAJ,IAAc;AAFb,OAAd;;AAIAC,uBAAQH,KAAR,CAAcA,KAAK,CAACC,OAApB,EAA4BF,GAA5B;;AACA,aAAOD,GAAG,CAACI,MAAJ,CAAWF,KAAK,CAACE,MAAN,IAAgB,GAA3B,EAAgCE,IAAhC,CAAqCJ,KAArC,CAAP;AACH;AACJ,GAXD;AAYH",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/middleware",
      "sourcesContent": [
        "import winston from 'winston';\nexport function asyncMiddleware (handler) {\n    return async (req,res) => {\n        try {\n            await handler(req,res);\n        } catch (err) {\n            const error = {\n                message : err.message || \"Something went wrong\",\n                status : err.status || 500\n            };\n            winston.error(error.message,err);\n            return res.status(error.status || 500).json(error);\n        }\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1564833705302
  }
}