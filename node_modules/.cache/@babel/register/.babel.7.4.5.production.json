{
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:production": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "production",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _helmet = _interopRequireDefault(require(\"helmet\"));\n\nrequire(\"./common/env\");\n\nvar _server = _interopRequireDefault(require(\"./common/server\"));\n\nvar _routes = _interopRequireDefault(require(\"./routes\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = new _server.default(new _express.default().use((0, _helmet.default)())).router(_routes.default).listen(process.env.PORT);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlNlcnZlciIsIkV4cHJlc3MiLCJ1c2UiLCJyb3V0ZXIiLCJyb3V0ZXMiLCJsaXN0ZW4iLCJwcm9jZXNzIiwiZW52IiwiUE9SVCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O2VBRWUsSUFBSUEsZUFBSixDQUFXLElBQUlDLGdCQUFKLEdBQWNDLEdBQWQsQ0FBa0Isc0JBQWxCLENBQVgsRUFDWkMsTUFEWSxDQUNMQyxlQURLLEVBRVpDLE1BRlksQ0FFTEMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBRlAsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGhlbG1ldCBmcm9tIFwiaGVsbWV0XCI7XG5pbXBvcnQgXCIuL2NvbW1vbi9lbnZcIjtcbmltcG9ydCBTZXJ2ZXIgZnJvbSBcIi4vY29tbW9uL3NlcnZlclwiO1xuaW1wb3J0IHJvdXRlcyBmcm9tIFwiLi9yb3V0ZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgbmV3IFNlcnZlcihuZXcgRXhwcmVzcygpLnVzZShoZWxtZXQoKSkpXG4gIC5yb3V0ZXIocm91dGVzKVxuICAubGlzdGVuKHByb2Nlc3MuZW52LlBPUlQpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "Server",
        "Express",
        "use",
        "router",
        "routes",
        "listen",
        "process",
        "env",
        "PORT"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;eAEe,IAAIA,eAAJ,CAAW,IAAIC,gBAAJ,GAAcC,GAAd,CAAkB,sBAAlB,CAAX,EACZC,MADY,CACLC,eADK,EAEZC,MAFY,CAELC,OAAO,CAACC,GAAR,CAAYC,IAFP,C",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server",
      "sourcesContent": [
        "import Express from \"express\";\nimport helmet from \"helmet\";\nimport \"./common/env\";\nimport Server from \"./common/server\";\nimport routes from \"./routes\";\n\nexport default new Server(new Express().use(helmet()))\n  .router(routes)\n  .listen(process.env.PORT);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564235068380
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/common\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/common/env.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:production": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/common/env.js",
      "babelrc": false,
      "configFile": false,
      "envName": "production",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/common/env.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/common/env.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
        "sourceFileName": "env.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudi5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFFQUEsZ0JBQU9DLE1BQVAiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL2NvbW1vbiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcblxuZG90ZW52LmNvbmZpZygpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "env.js"
      ],
      "names": [
        "dotenv",
        "config"
      ],
      "mappings": ";;AAAA;;;;AAEAA,gBAAOC,MAAP",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "sourcesContent": [
        "import dotenv from 'dotenv';\n\ndotenv.config();"
      ]
    },
    "sourceType": "script",
    "mtime": 1564233653357
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/common\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/common/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:production": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/common/server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "production",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/common/server.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/common/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar path = _interopRequireWildcard(require(\"path\"));\n\nvar bodyParser = _interopRequireWildcard(require(\"body-parser\"));\n\nvar http = _interopRequireWildcard(require(\"http\"));\n\nvar os = _interopRequireWildcard(require(\"os\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _errors = _interopRequireDefault(require(\"../middleware/errors\"));\n\nvar _config = _interopRequireDefault(require(\"config\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass ExpressServer {\n  constructor(app) {\n    const root = path.normalize(`${__dirname}/../..`);\n    this.app = app;\n    this.app.set(\"appPath\", `${root}client`);\n    this.app.use(bodyParser.json());\n    this.app.use(bodyParser.urlencoded({\n      extended: true\n    }));\n    this.app.use(_express.default.static(`${root}/public`));\n    this.initDatabase();\n  }\n\n  router(routes) {\n    routes(this.app);\n    this.app.use(_errors.default);\n    return this;\n  }\n\n  listen(port = process.env.PORT) {\n    console.log(`up and running in ${process.env.NODE_ENV || \"development\"} @: ${os.hostname()} on port: ${port}}`);\n    http.createServer(this.app).listen(port);\n    return this.app;\n  }\n\n  initDatabase() {\n    _mongoose.default.connect(_config.default.get('MongoDB.url'), {\n      useCreateIndex: true,\n      useNewUrlParser: true\n    }).then(console.log(\"Connected to mongodb ...\")).catch(err => console.error(\"Could not connect to mongo db\", err));\n\n    _mongoose.default.set('useFindAndModify', false);\n  }\n\n}\n\nexports.default = ExpressServer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJFeHByZXNzU2VydmVyIiwiY29uc3RydWN0b3IiLCJhcHAiLCJyb290IiwicGF0aCIsIm5vcm1hbGl6ZSIsIl9fZGlybmFtZSIsInNldCIsInVzZSIsImJvZHlQYXJzZXIiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiRXhwcmVzcyIsInN0YXRpYyIsImluaXREYXRhYmFzZSIsInJvdXRlciIsInJvdXRlcyIsImVycm9yIiwibGlzdGVuIiwicG9ydCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwiY29uc29sZSIsImxvZyIsIk5PREVfRU5WIiwib3MiLCJob3N0bmFtZSIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJtb25nb29zZSIsImNvbm5lY3QiLCJjb25maWciLCJnZXQiLCJ1c2VDcmVhdGVJbmRleCIsInVzZU5ld1VybFBhcnNlciIsInRoZW4iLCJjYXRjaCIsImVyciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7QUFFZSxNQUFNQSxhQUFOLENBQW9CO0FBQ2pDQyxFQUFBQSxXQUFXLENBQUNDLEdBQUQsRUFBTTtBQUNmLFVBQU1DLElBQUksR0FBR0MsSUFBSSxDQUFDQyxTQUFMLENBQWdCLEdBQUVDLFNBQVUsUUFBNUIsQ0FBYjtBQUNBLFNBQUtKLEdBQUwsR0FBV0EsR0FBWDtBQUNBLFNBQUtBLEdBQUwsQ0FBU0ssR0FBVCxDQUFhLFNBQWIsRUFBeUIsR0FBRUosSUFBSyxRQUFoQztBQUNBLFNBQUtELEdBQUwsQ0FBU00sR0FBVCxDQUFhQyxVQUFVLENBQUNDLElBQVgsRUFBYjtBQUNBLFNBQUtSLEdBQUwsQ0FBU00sR0FBVCxDQUFhQyxVQUFVLENBQUNFLFVBQVgsQ0FBc0I7QUFBRUMsTUFBQUEsUUFBUSxFQUFFO0FBQVosS0FBdEIsQ0FBYjtBQUNBLFNBQUtWLEdBQUwsQ0FBU00sR0FBVCxDQUFhSyxpQkFBUUMsTUFBUixDQUFnQixHQUFFWCxJQUFLLFNBQXZCLENBQWI7QUFDQSxTQUFLWSxZQUFMO0FBQ0Q7O0FBRURDLEVBQUFBLE1BQU0sQ0FBQ0MsTUFBRCxFQUFTO0FBQ2JBLElBQUFBLE1BQU0sQ0FBQyxLQUFLZixHQUFOLENBQU47QUFDQSxTQUFLQSxHQUFMLENBQVNNLEdBQVQsQ0FBYVUsZUFBYjtBQUNBLFdBQU8sSUFBUDtBQUNEOztBQUVEQyxFQUFBQSxNQUFNLENBQUNDLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQXBCLEVBQTBCO0FBQzlCQyxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FDRyxxQkFBb0JKLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSSxRQUFaLElBQ25CLGFBQWMsT0FBTUMsRUFBRSxDQUFDQyxRQUFILEVBQWMsYUFBWVIsSUFBSyxHQUZ2RDtBQUlBUyxJQUFBQSxJQUFJLENBQUNDLFlBQUwsQ0FBa0IsS0FBSzVCLEdBQXZCLEVBQTRCaUIsTUFBNUIsQ0FBbUNDLElBQW5DO0FBQ0EsV0FBTyxLQUFLbEIsR0FBWjtBQUNEOztBQUVEYSxFQUFBQSxZQUFZLEdBQUc7QUFDYmdCLHNCQUNHQyxPQURILENBQ1dDLGdCQUFPQyxHQUFQLENBQVcsYUFBWCxDQURYLEVBQ3NDO0FBQ2xDQyxNQUFBQSxjQUFjLEVBQUUsSUFEa0I7QUFFbENDLE1BQUFBLGVBQWUsRUFBRTtBQUZpQixLQUR0QyxFQUtHQyxJQUxILENBS1FiLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDBCQUFaLENBTFIsRUFNR2EsS0FOSCxDQU1TQyxHQUFHLElBQUlmLE9BQU8sQ0FBQ04sS0FBUixDQUFjLCtCQUFkLEVBQStDcUIsR0FBL0MsQ0FOaEI7O0FBT0VSLHNCQUFTeEIsR0FBVCxDQUFhLGtCQUFiLEVBQWlDLEtBQWpDO0FBQ0g7O0FBbkNnQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9wZWNlL1Byb2plY3RzL1Nob2VTdG9yZS9zZXJ2ZXIvY29tbW9uIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCAqIGFzIHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCAqIGFzIGJvZHlQYXJzZXIgZnJvbSBcImJvZHktcGFyc2VyXCI7XG5pbXBvcnQgKiBhcyBodHRwIGZyb20gXCJodHRwXCI7XG5pbXBvcnQgKiBhcyBvcyBmcm9tIFwib3NcIjtcbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBlcnJvciBmcm9tICcuLi9taWRkbGV3YXJlL2Vycm9ycyc7XG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4cHJlc3NTZXJ2ZXIge1xuICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICBjb25zdCByb290ID0gcGF0aC5ub3JtYWxpemUoYCR7X19kaXJuYW1lfS8uLi8uLmApO1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIHRoaXMuYXBwLnNldChcImFwcFBhdGhcIiwgYCR7cm9vdH1jbGllbnRgKTtcbiAgICB0aGlzLmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuICAgIHRoaXMuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG4gICAgdGhpcy5hcHAudXNlKEV4cHJlc3Muc3RhdGljKGAke3Jvb3R9L3B1YmxpY2ApKTtcbiAgICB0aGlzLmluaXREYXRhYmFzZSgpO1xuICB9XG5cbiAgcm91dGVyKHJvdXRlcykge1xuICAgIHJvdXRlcyh0aGlzLmFwcCk7XG4gICAgdGhpcy5hcHAudXNlKGVycm9yKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxpc3Rlbihwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCkge1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgYHVwIGFuZCBydW5uaW5nIGluICR7cHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHxcbiAgICAgICAgXCJkZXZlbG9wbWVudFwifSBAOiAke29zLmhvc3RuYW1lKCl9IG9uIHBvcnQ6ICR7cG9ydH19YFxuICAgICk7XG4gICAgaHR0cC5jcmVhdGVTZXJ2ZXIodGhpcy5hcHApLmxpc3Rlbihwb3J0KTtcbiAgICByZXR1cm4gdGhpcy5hcHA7XG4gIH1cblxuICBpbml0RGF0YWJhc2UoKSB7XG4gICAgbW9uZ29vc2VcbiAgICAgIC5jb25uZWN0KGNvbmZpZy5nZXQoJ01vbmdvREIudXJsJyksIHtcbiAgICAgICAgdXNlQ3JlYXRlSW5kZXg6IHRydWUsXG4gICAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZVxuICAgICAgfSlcbiAgICAgIC50aGVuKGNvbnNvbGUubG9nKFwiQ29ubmVjdGVkIHRvIG1vbmdvZGIgLi4uXCIpKVxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKFwiQ291bGQgbm90IGNvbm5lY3QgdG8gbW9uZ28gZGJcIiwgZXJyKSk7XG4gICAgICBtb25nb29zZS5zZXQoJ3VzZUZpbmRBbmRNb2RpZnknLCBmYWxzZSk7XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "ExpressServer",
        "constructor",
        "app",
        "root",
        "path",
        "normalize",
        "__dirname",
        "set",
        "use",
        "bodyParser",
        "json",
        "urlencoded",
        "extended",
        "Express",
        "static",
        "initDatabase",
        "router",
        "routes",
        "error",
        "listen",
        "port",
        "process",
        "env",
        "PORT",
        "console",
        "log",
        "NODE_ENV",
        "os",
        "hostname",
        "http",
        "createServer",
        "mongoose",
        "connect",
        "config",
        "get",
        "useCreateIndex",
        "useNewUrlParser",
        "then",
        "catch",
        "err"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEe,MAAMA,aAAN,CAAoB;AACjCC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACf,UAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAgB,GAAEC,SAAU,QAA5B,CAAb;AACA,SAAKJ,GAAL,GAAWA,GAAX;AACA,SAAKA,GAAL,CAASK,GAAT,CAAa,SAAb,EAAyB,GAAEJ,IAAK,QAAhC;AACA,SAAKD,GAAL,CAASM,GAAT,CAAaC,UAAU,CAACC,IAAX,EAAb;AACA,SAAKR,GAAL,CAASM,GAAT,CAAaC,UAAU,CAACE,UAAX,CAAsB;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAtB,CAAb;AACA,SAAKV,GAAL,CAASM,GAAT,CAAaK,iBAAQC,MAAR,CAAgB,GAAEX,IAAK,SAAvB,CAAb;AACA,SAAKY,YAAL;AACD;;AAEDC,EAAAA,MAAM,CAACC,MAAD,EAAS;AACbA,IAAAA,MAAM,CAAC,KAAKf,GAAN,CAAN;AACA,SAAKA,GAAL,CAASM,GAAT,CAAaU,eAAb;AACA,WAAO,IAAP;AACD;;AAEDC,EAAAA,MAAM,CAACC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAApB,EAA0B;AAC9BC,IAAAA,OAAO,CAACC,GAAR,CACG,qBAAoBJ,OAAO,CAACC,GAAR,CAAYI,QAAZ,IACnB,aAAc,OAAMC,EAAE,CAACC,QAAH,EAAc,aAAYR,IAAK,GAFvD;AAIAS,IAAAA,IAAI,CAACC,YAAL,CAAkB,KAAK5B,GAAvB,EAA4BiB,MAA5B,CAAmCC,IAAnC;AACA,WAAO,KAAKlB,GAAZ;AACD;;AAEDa,EAAAA,YAAY,GAAG;AACbgB,sBACGC,OADH,CACWC,gBAAOC,GAAP,CAAW,aAAX,CADX,EACsC;AAClCC,MAAAA,cAAc,EAAE,IADkB;AAElCC,MAAAA,eAAe,EAAE;AAFiB,KADtC,EAKGC,IALH,CAKQb,OAAO,CAACC,GAAR,CAAY,0BAAZ,CALR,EAMGa,KANH,CAMSC,GAAG,IAAIf,OAAO,CAACN,KAAR,CAAc,+BAAd,EAA+CqB,GAA/C,CANhB;;AAOER,sBAASxB,GAAT,CAAa,kBAAb,EAAiC,KAAjC;AACH;;AAnCgC",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/common",
      "sourcesContent": [
        "import Express from \"express\";\nimport * as path from \"path\";\nimport * as bodyParser from \"body-parser\";\nimport * as http from \"http\";\nimport * as os from \"os\";\nimport mongoose from \"mongoose\";\nimport error from '../middleware/errors';\nimport config from 'config';\n\nexport default class ExpressServer {\n  constructor(app) {\n    const root = path.normalize(`${__dirname}/../..`);\n    this.app = app;\n    this.app.set(\"appPath\", `${root}client`);\n    this.app.use(bodyParser.json());\n    this.app.use(bodyParser.urlencoded({ extended: true }));\n    this.app.use(Express.static(`${root}/public`));\n    this.initDatabase();\n  }\n\n  router(routes) {\n    routes(this.app);\n    this.app.use(error);\n    return this;\n  }\n\n  listen(port = process.env.PORT) {\n    console.log(\n      `up and running in ${process.env.NODE_ENV ||\n        \"development\"} @: ${os.hostname()} on port: ${port}}`\n    );\n    http.createServer(this.app).listen(port);\n    return this.app;\n  }\n\n  initDatabase() {\n    mongoose\n      .connect(config.get('MongoDB.url'), {\n        useCreateIndex: true,\n        useNewUrlParser: true\n      })\n      .then(console.log(\"Connected to mongodb ...\"))\n      .catch(err => console.error(\"Could not connect to mongo db\", err));\n      mongoose.set('useFindAndModify', false);\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1564833156521
  },
  "{\"sourceRoot\":\"/home/pece/Projects/ShoeStore/server/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/pece/Projects/ShoeStore\",\"filename\":\"/home/pece/Projects/ShoeStore/server/middleware/errors.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/home/pece/Projects/ShoeStore\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.5:production": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/pece/Projects/ShoeStore",
      "filename": "/home/pece/Projects/ShoeStore/server/middleware/errors.js",
      "babelrc": false,
      "configFile": false,
      "envName": "production",
      "root": "/home/pece/Projects/ShoeStore",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/pece/Projects/ShoeStore/server/middleware/errors.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/pece/Projects/ShoeStore/server/middleware/errors.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/pece/Projects/ShoeStore/server/middleware",
        "sourceFileName": "errors.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nfunction _default(err, req, res, next) {\n  console.log('next');\n  return res.status(err.status || 500).json(err);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9ycy5qcyJdLCJuYW1lcyI6WyJlcnIiLCJyZXEiLCJyZXMiLCJuZXh0IiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsImpzb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZSxrQkFBVUEsR0FBVixFQUFjQyxHQUFkLEVBQWtCQyxHQUFsQixFQUFzQkMsSUFBdEIsRUFBNEI7QUFDdkNDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE1BQVo7QUFDQSxTQUFPSCxHQUFHLENBQUNJLE1BQUosQ0FBWU4sR0FBRyxDQUFDTSxNQUFKLElBQWMsR0FBMUIsRUFBK0JDLElBQS9CLENBQW9DUCxHQUFwQyxDQUFQO0FBQ0QiLCJzb3VyY2VSb290IjoiL2hvbWUvcGVjZS9Qcm9qZWN0cy9TaG9lU3RvcmUvc2VydmVyL21pZGRsZXdhcmUiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZXJyLHJlcSxyZXMsbmV4dCkge1xuICAgIGNvbnNvbGUubG9nKCduZXh0Jyk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMgKGVyci5zdGF0dXMgfHwgNTAwKS5qc29uKGVycik7XG4gIH0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "errors.js"
      ],
      "names": [
        "err",
        "req",
        "res",
        "next",
        "console",
        "log",
        "status",
        "json"
      ],
      "mappings": ";;;;;;;AAAe,kBAAUA,GAAV,EAAcC,GAAd,EAAkBC,GAAlB,EAAsBC,IAAtB,EAA4B;AACvCC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,SAAOH,GAAG,CAACI,MAAJ,CAAYN,GAAG,CAACM,MAAJ,IAAc,GAA1B,EAA+BC,IAA/B,CAAoCP,GAApC,CAAP;AACD",
      "sourceRoot": "/home/pece/Projects/ShoeStore/server/middleware",
      "sourcesContent": [
        "export default function (err,req,res,next) {\n    console.log('next');\n    return res.status (err.status || 500).json(err);\n  }"
      ]
    },
    "sourceType": "script",
    "mtime": 1564826468204
  }
}